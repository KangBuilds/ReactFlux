var Vl=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);import{a as q,g as Ul,b as $l,u as Pe,c as X,d as yn,j as a,B as ge,I as Bl,S as Sr,T as Ln,e as Ns,f as zl,h as Hl,i as Wl,D as La,M as Pt,k as Fs,l as ql,m as Xl,A as Ds,n as Ls,o as ne,p as Yl,q as Gl,r as Kl,s as Bi,t as Vs,v as se,w as zi,x as Ft,y as Z,z as $,C as ct,E as Jt,F as Va,G as C,H as ve,J as Vn,K as et,L as Or,P as yi,N as bi,O as Us,Q as xe,R as Ql,U as Zl,V as Jl,W as un,X as ec,Y as tc,Z as nc,_ as rc,$ as ic,a0 as ac,a1 as sc,a2 as $s,a3 as oc,a4 as jr,a5 as lc,a6 as cc,a7 as Hi,a8 as uc,a9 as dc,aa as Wi,ab as te,ac as Bs,ad as fc,ae as zs,af as Hs,ag as qi,ah as hc,ai as mc,aj as pc,ak as gc,al as vc,am as yc,an as Er,ao as bc,ap as xc,aq as wc,ar as Cc,as as Ua,at as Ws,au as Sc,av as jc,aw as Ec,ax as $a,ay as Tc,az as qs,aA as _c,aB as kc,aC as Ac,aD as Mc,aE as Ic}from"./vendor-BLBPH3eT.js";var bm=Vl((Cm,Jn)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const Xs=(e,t)=>{const r=q((()=>{const i=localStorage.getItem(e);return i!==null?JSON.parse(i):t})());return q(i=>i(r),(i,s,o)=>{const l=typeof o=="function"?o(i(r)):o;s(r,l),localStorage.setItem(e,JSON.stringify(l))})},Ys=(e,t)=>{const n=q({refresh:null,value:null});return q(r=>{const{refresh:i,value:s}=r(n),o=r(e);return s!==null&&i===o?s:t(r)},(r,i,s)=>{let o;const{refresh:l,value:u}=r(n),c=r(e);typeof s=="function"?o=s(u!==null&&l===c?u:t(r)):o=s,i(n,{refresh:c,value:o})})},Xi={articleWidth:90,fontSize:1.05,homePage:"all",layout:"large",markReadOnScroll:!1,orderBy:"created_at",orderDirection:"desc",pageSize:100,showAllFeeds:!1,showFeedIcon:!0,showStatus:"all",theme:"light",themeColor:"Blue"},Ct=e=>(JSON.parse(localStorage.getItem("config"))??{})[e]??Xi[e],we=Xs("config",Xi),xi={Red:{light:"#F53F3F",dark:"#F76965"},Orange:{light:"#F77234",dark:"#F9925A"},Green:{light:"#00B42A",dark:"#27C346"},Blue:{light:"#165DFF",dark:"#3C7EFF"},Purple:{light:"#722ED1",dark:"#8E51DA"},Gold:{light:"#F7BA1E",dark:"#F9CC44"},Cyan:{light:"#14C9C9",dark:"#3FD4CF"},Magenta:{light:"#F5319D",dark:"#F756A9"}},wi=e=>{const t=xi[e]||xi.Blue,n=window.matchMedia("(prefers-color-scheme: dark)").matches,r=Ct("theme");return(r==="system"?n:r==="dark")?t.dark:t.light},Gs=e=>{Ul(wi(e),{list:!0}).map($l).forEach((n,r)=>{document.body.style.setProperty(`--primary-${r+1}`,n)})},Yi=Xs("auth",{server:"",token:"",username:"",password:""}),Pc=q(window.innerWidth<=992),Ks=()=>{const[e,t]=Pe(Pc);return{collapsed:e,toggleCollapsed:()=>t(r=>!r)}},Rr=()=>{const e=X(we);return{updateConfig:n=>{e(r=>({...r,...n}))}}},Oc=q(!1),Rc=q(!1),Gi=()=>{const[e,t]=Pe(Oc),[n,r]=Pe(Rc);return{addFeedModalVisible:e,setAddFeedModalVisible:t,settingsModalVisible:n,setSettingsModalVisible:r}},Nc=()=>{const e=yn(),{setAddFeedModalVisible:t,setSettingsModalVisible:n}=Gi(),{toggleCollapsed:r}=Ks(),[i,s]=Pe(we),o=X(Yi),{showAllFeeds:l,theme:u}=i,{updateConfig:c}=Rr(),d=()=>{c({showAllFeeds:!l})},h=()=>{c({theme:u==="light"?"dark":"light"})},y=()=>{o({}),s(Xi),document.body.removeAttribute("arco-theme"),Gs("Blue"),e("/login"),ne.success("Logout successful")},b=(f=>{switch(f){case"dark":return a.jsx(Kl,{});case"system":return a.jsx(Gl,{});default:return a.jsx(Yl,{})}})(u);return a.jsxs("div",{className:"header",children:[a.jsx("div",{className:"brand",children:a.jsx(ge,{className:"trigger",onClick:r,shape:"circle",size:"small",children:a.jsx(Bl,{})})}),a.jsx("div",{className:"button-group",children:a.jsxs(Sr,{size:16,children:[a.jsx(Ln,{content:"Add a feed",mini:!0,children:a.jsx(ge,{shape:"circle",size:"small",type:"primary",icon:a.jsx(Ns,{}),onClick:()=>t(!0)})}),a.jsx(Ln,{content:l?"Hide some feeds":"Show all feeds",mini:!0,children:a.jsx(ge,{shape:"circle",size:"small",icon:l?a.jsx(zl,{}):a.jsx(Hl,{}),onClick:d})}),a.jsx(ge,{shape:"circle",size:"small",icon:a.jsx(Wl,{}),onClick:()=>window.open("https://github.com/electh/ReactFlux","_blank")}),a.jsx(La,{droplist:a.jsx(Pt,{defaultSelectedKeys:[u],className:"theme-menu",children:["light","dark","system"].map(f=>a.jsxs(Pt.Item,{className:"theme-menu-item",onClick:()=>c({theme:f}),children:[f.charAt(0).toUpperCase()+f.slice(1),u===f&&a.jsx(Fs,{style:{marginLeft:8}})]},f))}),trigger:"hover",position:"bottom",children:a.jsx(ge,{icon:b,shape:"circle",size:"small",onClick:h})}),a.jsx(La,{droplist:a.jsxs(Pt,{children:[a.jsxs(Pt.Item,{onClick:()=>n(!0),children:[a.jsx(ql,{className:"icon-right"}),"Settings"]},"0"),a.jsxs(Pt.Item,{onClick:y,children:[a.jsx(Xl,{className:"icon-right"}),"Logout"]},"1")]}),trigger:"click",position:"br",children:a.jsx(Ds,{size:28,style:{cursor:"pointer"},children:a.jsx(Ls,{})})})]})})]})},Fc=()=>JSON.parse(localStorage.getItem("auth"))??{},Ki=e=>{const{server:t,token:n,username:r,password:i}=e;return!t||!Bi(t,{require_protocol:!0})?!1:n||r&&i},le=Vs.create({timeout:3e3,retry:3,retryDelay:1e3});le.interceptors.request.use(e=>{const t=Fc(),{server:n,token:r,username:i,password:s}=t;return Ki(t)?(e.baseURL=n,r?e.headers["X-Auth-Token"]=r:e.auth={username:i,password:s},e):Promise.reject(new Error("Invalid auth"))},e=>Promise.reject(e));const Dc=async e=>{const{config:t}=e;return!(t!=null&&t.retry)||(t.__retryCount=t.__retryCount??0,t.__retryCount>=t.retry)?Promise.reject(e):(t.__retryCount+=1,await new Promise(r=>{setTimeout(()=>{r()},t.retryDelay??1e3)}),le(t))},Lc=async e=>{var n,r,i;const t=((r=(n=e.response)==null?void 0:n.data)==null?void 0:r.error_message)??e.message;return console.log(t),((i=e.response)==null?void 0:i.status)===401&&(localStorage.removeItem("auth"),await Dl.navigate("/login")),Promise.reject(e)};le.interceptors.response.use(e=>e,async e=>{try{return await Dc(e)}catch(t){return Lc(t)}});const Vc=async()=>le.get("/v1/categories"),Uc=async e=>le.post("/v1/categories",{title:e}),$c=async e=>le.delete(`/v1/categories/${e}`),Bc=async(e,t,n=!1)=>{const r={title:t,hide_globally:n?"on":void 0};return le.put(`/v1/categories/${e}`,r)},zc=async e=>le.put(`/v1/categories/${e}/mark-all-as-read`);var Qs={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(se,function(){return function(n,r,i){n=n||{};var s=r.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function l(c,d,h,y){return s.fromToBase(c,d,h,y)}i.en.relativeTime=o,s.fromToBase=function(c,d,h,y,w){for(var b,f,g,S=h.$locale().relativeTime||o,T=n.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],p=T.length,x=0;x<p;x+=1){var E=T[x];E.d&&(b=y?i(c).diff(h,E.d,!0):h.diff(c,E.d,!0));var k=(n.rounding||Math.round)(Math.abs(b));if(g=b>0,k<=E.r||!E.r){k<=1&&x>0&&(E=T[x-1]);var M=S[E.l];w&&(k=w(""+k)),f=typeof M=="string"?M.replace("%d",k):M(k,d,E.l,g);break}}if(d)return f;var B=g?S.future:S.past;return typeof B=="function"?B(f):B.replace("%s",f)},s.to=function(c,d){return l(c,d,this,!0)},s.from=function(c,d){return l(c,d,this)};var u=function(c){return c.$u?i.utc():i()};s.toNow=function(c){return this.to(u(this),c)},s.fromNow=function(c){return this.from(u(this),c)}}})})(Qs);var Hc=Qs.exports;const Wc=zi(Hc);var Zs={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(se,function(){var n="minute",r=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(s,o,l){var u=o.prototype;l.utc=function(f){var g={date:f,utc:!0,args:arguments};return new o(g)},u.utc=function(f){var g=l(this.toDate(),{locale:this.$L,utc:!0});return f?g.add(this.utcOffset(),n):g},u.local=function(){return l(this.toDate(),{locale:this.$L,utc:!1})};var c=u.parse;u.parse=function(f){f.utc&&(this.$u=!0),this.$utils().u(f.$offset)||(this.$offset=f.$offset),c.call(this,f)};var d=u.init;u.init=function(){if(this.$u){var f=this.$d;this.$y=f.getUTCFullYear(),this.$M=f.getUTCMonth(),this.$D=f.getUTCDate(),this.$W=f.getUTCDay(),this.$H=f.getUTCHours(),this.$m=f.getUTCMinutes(),this.$s=f.getUTCSeconds(),this.$ms=f.getUTCMilliseconds()}else d.call(this)};var h=u.utcOffset;u.utcOffset=function(f,g){var S=this.$utils().u;if(S(f))return this.$u?0:S(this.$offset)?h.call(this):this.$offset;if(typeof f=="string"&&(f=function(E){E===void 0&&(E="");var k=E.match(r);if(!k)return null;var M=(""+k[0]).match(i)||["-",0,0],B=M[0],I=60*+M[1]+ +M[2];return I===0?0:B==="+"?I:-I}(f),f===null))return this;var T=Math.abs(f)<=16?60*f:f,p=this;if(g)return p.$offset=T,p.$u=f===0,p;if(f!==0){var x=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(p=this.local().add(T+x,n)).$offset=T,p.$x.$localOffset=x}else p=this.utc();return p};var y=u.format;u.format=function(f){var g=f||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return y.call(this,g)},u.valueOf=function(){var f=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*f},u.isUTC=function(){return!!this.$u},u.toISOString=function(){return this.toDate().toISOString()},u.toString=function(){return this.toDate().toUTCString()};var w=u.toDate;u.toDate=function(f){return f==="s"&&this.$offset?l(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():w.call(this)};var b=u.diff;u.diff=function(f,g,S){if(f&&this.$u===f.$u)return b.call(this,f,g,S);var T=this.local(),p=l(f).local();return b.call(T,p,g,S)}}})})(Zs);var qc=Zs.exports;const Xc=zi(qc);Ft.extend(Wc);Ft.extend(Xc);const Yc=e=>Ft(e).isAfter(Ft().subtract(24,"hour")),Gc=()=>Ft().subtract(24,"hour").unix(),Js=e=>{const t=Ft(e).fromNow();return t==="a few seconds ago"?"just now":t},Ba=()=>Ft().utc().format("YYYY-MM-DDTHH:mm:ss.SSSSSSZ"),Qi=async(e,t)=>le.put("/v1/entries",{entry_ids:e,status:t}),Kc=async e=>le.put(`/v1/entries/${e}/bookmark`),Qc=async e=>le.get(`/v1/entries/${e}/fetch-content`),bn=(e,t={})=>{const{baseUrl:n,orderField:r,offset:i,limit:s,status:o}=e,l=Ct("orderDirection"),u=new URLSearchParams({order:r,direction:l,offset:i,limit:s,...t});return o&&u.append("status",o),`${n}?${u}`},Zc=async(e=0,t=null)=>{const n=Ct("orderBy"),r=Ct("pageSize"),i={baseUrl:"/v1/entries",orderField:n,offset:e,limit:r,status:t};return le.get(bn(i))},br=async(e=0,t=null,n=null)=>{const r=Ct("orderBy"),i=n??Ct("pageSize"),s=Gc(),o={baseUrl:"/v1/entries",orderField:r,offset:e,limit:i,status:t},l={published_after:s};return le.get(bn(o,l))},eo=async(e=0,t=null)=>{const n=Ct("pageSize"),r={baseUrl:"/v1/entries",orderField:"changed_at",offset:e,limit:n,status:t},i={starred:"true"};return le.get(bn(r,i))},to=async(e=0)=>{const t=Ct("pageSize"),n={baseUrl:"/v1/entries",orderField:"changed_at",offset:e,limit:t,status:"read"};return le.get(bn(n))},Jc=async()=>le.get("/v1/feeds"),eu=async()=>le.get("/v1/feeds/counters"),tu=async e=>le.put(`/v1/feeds/${e}/refresh`),nu=async()=>le.put("/v1/feeds/refresh"),ru=async(e,t,n)=>le.post("/v1/feeds",{feed_url:e,category_id:t,crawler:n}),iu=async e=>le.delete(`/v1/feeds/${e}`),au=async(e,t)=>{const{url:n,title:r,categoryId:i,isFullText:s,hidden:o=!1}=t;return le.put(`/v1/feeds/${e}`,{feed_url:n,title:r,category_id:i,crawler:s,hide_globally:o})},su=async e=>le.put(`/v1/feeds/${e}/mark-all-as-read`),ou=async()=>le.get("/v1/me"),lu=async()=>{const e=await ou();return le.put(`/v1/users/${e.data.id}/mark-all-as-read`)},no=e=>{const t=new URL(e);return`${t.protocol}//${t.hostname}`},Zi=q(!1),Nr=q({}),Ji=q(0),ea=q(0),ta=q(0),ro=q(0),io=q([]),Fr=Ys(ro,e=>{const t=e(Nr);return e(io).map(r=>({...r,unreadCount:t[r.id]??0}))}),na=q(e=>e(Fr).sort((n,r)=>n.title.localeCompare(r.title,"en"))),ao=q(0),so=q([]),cu=Ys(ao,e=>{const t=e(Fr);return e(so).map(r=>{const i=t.filter(s=>s.category.id===r.id);return{...r,unreadCount:i.reduce((s,o)=>s+o.unreadCount,0),feedCount:i.length}})}),Gn=q(e=>e(cu).sort((n,r)=>n.title.localeCompare(r.title,"en"))),oo=q(e=>e(Gn).filter(n=>n.hide_globally).map(n=>n.id)),lo=q(e=>{const t=e(oo);return e(na).filter(r=>r.hide_globally||t.includes(r.category.id)).map(r=>r.id)}),co=q(e=>{const{showAllFeeds:t}=e(we),n=e(lo);return e(na).filter(i=>t||!n.includes(i.id))}),uo=q(e=>e(co).reduce((n,r)=>{Bi(r.site_url)||(r.site_url=no(r.feed_url));const{id:i}=r.category;return n[i]||(n[i]=[]),n[i].push(r),n},{})),uu=q(e=>{const t=e(Nr),n=e(co);return Object.entries(t).reduce((r,[i,s])=>n.some(o=>o.id===Number(i))?r+s:r,0)}),du=q(async()=>{const e=await Promise.all([eu(),br(0,"unread"),eo(),to(),Jc(),Vc()]),[t,n,r,i,s,o]=e.map(l=>l.data);return{unreadInfo:t.unreads??{},unreadTodayCount:n.total??0,starredCount:r.total??0,historyCount:i.total??0,feedsData:s,categoriesData:o}}),ra=()=>{const e=X(Zi),t=Z(du),n=X(Nr),r=X(Ji),i=X(ea),s=X(ta),o=X(io),l=X(ro),u=X(so),c=X(ao);return{fetchData:()=>{e(!1);const{unreadInfo:h,unreadTodayCount:y,starredCount:w,historyCount:b,feedsData:f,categoriesData:g}=t;n(h),r(y),i(w),s(b),o(f),l(S=>S+1),u(g),c(S=>S+1),e(!0)}}},Tr=(e,t)=>e.toLowerCase().includes(t.toLowerCase()),fu=(e,t,n)=>{if(!n)return e;const r=i=>Tr(i[t],n);return e.filter(r)},hu=(e,t,n,r)=>{const i=o=>n||!r.includes(o.feed.id);return["all","today","category"].includes(t)?e.filter(i):e},mu=()=>{const{updateConfig:e}=Rr(),{articleWidth:t,fontSize:n,layout:r,showFeedIcon:i,themeColor:s}=Z(we),o=l=>{e(l),l.themeColor&&Gs(l.themeColor)};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"setting-row",children:[a.jsxs("div",{children:[a.jsx($.Title,{heading:6,style:{marginTop:0},children:"Accent color"}),a.jsx($.Text,{type:"secondary",children:"Choose your accent color"})]}),a.jsx("div",{style:{display:"flex"},children:Object.keys(xi).map(l=>a.jsx(Ln,{content:l,children:a.jsx("div",{style:{width:"18px",height:"18px",borderRadius:"50%",margin:"2px",backgroundColor:wi(l),cursor:"pointer",border:"3px solid var(--color-bg-3)",outline:l===s?`1px solid ${wi(l)}`:"none"},onClick:()=>o({themeColor:l}),onKeyDown:u=>{(u.key==="Enter"||u.key===" ")&&o({themeColor:l})},"aria-label":`Change theme color to ${l}`})},l))})]}),a.jsx(ct,{}),a.jsxs("div",{className:"setting-row",children:[a.jsxs("div",{children:[a.jsx($.Title,{heading:6,style:{marginTop:0},children:"Compact article list"}),a.jsx($.Text,{type:"secondary",children:"Use small thumbnail in article list"})]}),a.jsx("div",{children:a.jsx(Jt,{checked:r==="small",onChange:l=>o({layout:l?"small":"large"})})})]}),a.jsx(ct,{}),a.jsxs("div",{className:"setting-row",children:[a.jsxs("div",{children:[a.jsx($.Title,{heading:6,style:{marginTop:0},children:"Show feed icon"}),a.jsx($.Text,{type:"secondary",children:"Show feed icon in feed list and article list"})]}),a.jsx("div",{children:a.jsx(Jt,{checked:i,onChange:l=>o({showFeedIcon:l})})})]}),a.jsx(ct,{}),a.jsxs("div",{className:"setting-row",children:[a.jsxs("div",{children:[a.jsx($.Title,{heading:6,style:{marginTop:0},children:"Font size"}),a.jsx($.Text,{type:"secondary",children:"Adjust article text size"})]}),a.jsx("div",{children:a.jsxs(Sr,{children:[a.jsx($.Text,{style:{fontSize:"0.75rem"},children:"A"}),a.jsx(Va,{formatTooltip:l=>`${l}rem`,max:1.25,min:.75,showTicks:!0,step:.05,style:{width:200},value:n,onChange:l=>o({fontSize:l})}),a.jsx($.Text,{style:{fontSize:"1.25rem"},children:"A"})]})})]}),a.jsx(ct,{}),a.jsxs("div",{className:"setting-row",children:[a.jsxs("div",{children:[a.jsx($.Title,{heading:6,style:{marginTop:0},children:"Article width"}),a.jsx($.Text,{type:"secondary",children:"Adjust article width"})]}),a.jsx("div",{children:a.jsxs(Sr,{children:[a.jsx($.Text,{children:"60%"}),a.jsx(Va,{formatTooltip:l=>`${l}%`,max:90,min:60,showTicks:!0,step:10,style:{width:160},value:t,onChange:l=>o({articleWidth:l})}),a.jsx($.Text,{children:"90%"})]})})]})]})},pu=()=>{const e=X(Fr),[t,n]=Pe(Gn),[r,i]=C.useState(!1),[s,o]=C.useState(""),[l,u]=C.useState(!1),[c]=ve.useForm(),[d,h]=C.useState({}),y=async()=>{if(s.trim()){try{const{data:f}=await Uc(s);n(g=>[...g,{...f,feedCount:0}]),ne.success("Category added successfully")}catch{ne.error("Failed to add category")}o(""),i(!1)}},w=async(f,g,S)=>{try{const{data:T}=await Bc(f,g,S);e(p=>p.map(x=>x.category.id===f?{...x,category:{...x.category,title:g}}:x)),n(p=>p.map(x=>x.id===f?{...x,...T}:x)),ne.success("Category updated successfully")}catch{ne.error("Failed to update category")}u(!1),c.resetFields()},b=async f=>{try{(await $c(f)).status===204?(n(S=>S.filter(T=>T.id!==f)),ne.success("Category deleted successfully")):ne.error("Failed to delete category")}catch{ne.error("Failed to delete category")}};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[t.map(f=>a.jsx(Vn,{className:"tag-style",closable:f.feedCount===0,size:"medium",onClick:()=>{h(f),u(!0),c.setFieldsValue({title:f.title})},onClose:async g=>{g.stopPropagation(),await b(f.id)},children:f.title},f.id)),r?a.jsx(et,{autoFocus:!0,className:"input-style",onBlur:y,onChange:o,onPressEnter:y,size:"small",value:s}):a.jsx(Vn,{className:"add-category-tag",icon:a.jsx(Ns,{}),onClick:()=>i(!0),size:"medium",tabIndex:0,children:"Add"})]}),d&&a.jsx(Or,{className:"modal-style",onOk:c.submit,title:"Edit Category",unmountOnExit:!0,visible:l,onCancel:()=>{u(!1),c.resetFields()},children:a.jsxs(ve,{form:c,layout:"vertical",onSubmit:f=>w(d.id,f.title,f.hidden),labelCol:{style:{flexBasis:90}},wrapperCol:{style:{flexBasis:"calc(100% - 90px)"}},children:[a.jsx(ve.Item,{label:"Title",field:"title",rules:[{required:!0}],children:a.jsx(et,{placeholder:"Please input category title"})}),a.jsx(ve.Item,{label:"Hidden",field:"hidden",initialValue:d.hide_globally,triggerPropName:"checked",rules:[{type:"boolean"}],children:a.jsx(Jt,{})})]})})]})},Dr=()=>{const[e,t]=C.useState(window.innerWidth),n=e<=768;return C.useEffect(()=>{const r=()=>t(window.innerWidth);return window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]),{screenWidth:e,isMobileView:n}},si=e=>e.slice().sort((t,n)=>n.parsing_error_count-t.parsing_error_count),gu=()=>{const[e,t]=C.useState(!1),[n,r]=C.useState({}),[i]=ve.useForm(),s=Z(na),o=X(Fr),[l,u]=C.useState(si(s)),c=Z(Gn),{isMobileView:d}=Dr(),h=l.map(p=>({category:p.category,checked_at:p.checked_at,crawler:p.crawler,feed_url:p.feed_url,key:p.id,parsing_error_count:p.parsing_error_count,title:p.title,hidden:p.hide_globally}));C.useEffect(()=>{u(si(s))},[s]);const y=p=>{r(p),t(!0),i.setFieldsValue({category:p.category.id,crawler:p.crawler,title:p.title,url:p.feed_url,hidden:p.hidden})},w=async(p,x)=>{try{const k=(await p()).status===204,M=k?"Refreshed":"Failed to refresh";k?ne.success(M):ne.error(M),o(B=>B.map(I=>x(I,k)))}catch{ne.error("Failed to refresh"),o(k=>k.map(M=>x(M,!1)))}},b=async p=>{const x=(E,k)=>E.id===p.key?{...E,parsing_error_count:k?0:E.parsing_error_count+1,checked_at:Ba()}:E;await w(tu.bind(null,p.key),x)},f=async()=>{await w(nu,(x,E)=>({...x,parsing_error_count:E?0:x.parsing_error_count+1,checked_at:Ba()}))},g=async p=>{try{await iu(p.key),ne.success("Unfollowed"),o(x=>x.filter(E=>E.id!==p.key))}catch{ne.error("Failed to unfollow")}},S=[{title:"Title",dataIndex:"title",sorter:(p,x)=>p.title.localeCompare(x.title,"en"),render:(p,x)=>{const E=x.parsing_error_count,k=E?`⚠️ ${p}`:p,M=a.jsxs("div",{children:[p,E>0&&a.jsxs(a.Fragment,{children:[a.jsx("br",{}),"⚠️ Parsing error count: ",E]})]});return a.jsx($.Ellipsis,{expandable:!1,children:a.jsx(Ln,{mini:!0,content:M,children:k})})}},!d&&{title:"Url",dataIndex:"feed_url",sorter:(p,x)=>p.feed_url.localeCompare(x.feed_url,"en"),render:p=>a.jsx($.Ellipsis,{expandable:!1,showTooltip:!0,children:p})},{title:"Category",dataIndex:"category.title",sorter:(p,x)=>p.category.title.localeCompare(x.category.title,"en"),render:p=>a.jsx($.Ellipsis,{expandable:!1,showTooltip:!0,children:a.jsx(Vn,{children:p})})},!d&&{title:"Checked at",dataIndex:"checked_at",sorter:(p,x)=>p.checked_at.localeCompare(x.checked_at,"en"),render:p=>a.jsx($.Ellipsis,{expandable:!1,children:Js(p)})},{title:"Actions",dataIndex:"op",fixed:"right",width:100,render:(p,x)=>a.jsxs(Sr,{children:[a.jsx("button",{"aria-label":"Edit this feed",className:"list-item-action",onClick:()=>y(x),type:"button",children:a.jsx(Ql,{})}),a.jsx("button",{"aria-label":"Refresh this feed",className:"list-item-action",onClick:()=>b(x),type:"button",children:a.jsx(bi,{})}),a.jsx(yi,{focusLock:!0,position:"left",title:"Unfollow？",onOk:()=>g(x),children:a.jsx("span",{className:"list-item-action",children:a.jsx(Zl,{})})})]})}].filter(Boolean),T=async(p,x)=>{try{const E=await au(p,x);o(k=>k.map(M=>M.id===p?{...M,...E.data}:M)),ne.success("Feed updated successfully"),t(!1),i.resetFields()}catch{ne.error("Failed to update feed")}};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[a.jsx("div",{style:{display:"flex",flex:1,justifyContent:"center"},children:a.jsx(et.Search,{className:"search-input",placeholder:"Search feed title or url",searchButton:!0,onChange:p=>u(si(s).filter(x=>Tr(x.title,p)||Tr(x.feed_url,p)))})}),a.jsx("div",{style:{display:"flex",justifyContent:"flex-end",paddingBottom:16},children:a.jsx(yi,{focusLock:!0,title:"Refresh all feeds?",onOk:f,children:a.jsx(ge,{icon:a.jsx(bi,{}),shape:"circle"})})})]}),a.jsx(Us,{borderCell:!0,className:"feed-table",columns:S,data:h,pagePosition:"bottomCenter",scroll:{x:!0},size:"small"}),n&&a.jsx(Or,{className:"edit-modal",onOk:i.submit,title:"Edit Feed",unmountOnExit:!0,visible:e,onCancel:()=>{t(!1),i.resetFields()},children:a.jsxs(ve,{form:i,labelCol:{span:7},layout:"vertical",wrapperCol:{span:17},onSubmit:async p=>{const x=p.url.trim(),E={url:p.url,title:p.title,categoryId:p.category,isFullText:p.crawler,hidden:p.hidden};x?await T(n.key,E):ne.error("Feed URL cannot be empty")},children:[a.jsx(ve.Item,{label:"Feed URL",field:"url",rules:[{required:!0}],children:a.jsx(et,{placeholder:"Please input feed URL"})}),a.jsx(ve.Item,{label:"Title",field:"title",rules:[{required:!0}],children:a.jsx(et,{placeholder:"Please input feed title"})}),a.jsx(ve.Item,{label:"Category",required:!0,field:"category",rules:[{required:!0}],children:a.jsx(xe,{placeholder:"Please select",children:c.map(p=>a.jsx(xe.Option,{value:p.id,children:p.title},p.id))})}),a.jsx(ve.Item,{label:"Hidden",field:"hidden",initialValue:n.hide_globally,triggerPropName:"checked",rules:[{type:"boolean"}],children:a.jsx(Jt,{})}),a.jsx(ve.Item,{label:"Fetch original content",field:"crawler",tooltip:a.jsx("div",{children:"Only affects newly retrieved articles"}),style:{marginBottom:0},triggerPropName:"checked",rules:[{type:"boolean"}],children:a.jsx(Jt,{})})]})})]})},vu=()=>{const{updateConfig:e}=Rr(),{homePage:t,markReadOnScroll:n,orderBy:r,pageSize:i,showStatus:s}=Z(we);return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"setting-row",children:[a.jsxs("div",{children:[a.jsx($.Title,{heading:6,style:{marginTop:0},children:"Default show status"}),a.jsx($.Text,{type:"secondary",children:"Which status to show by default:"})]}),a.jsx("div",{children:a.jsxs(xe,{className:"input-select",placeholder:"Select status",value:s,onChange:o=>e({showStatus:o}),children:[a.jsx(xe.Option,{value:"all",children:"All"}),a.jsx(xe.Option,{value:"unread",children:"Unread"})]})})]}),a.jsx(ct,{}),a.jsxs("div",{className:"setting-row",children:[a.jsxs("div",{children:[a.jsx($.Title,{heading:6,style:{marginTop:0},children:"Default home page"}),a.jsx($.Text,{type:"secondary",children:"Which page to show by default:"})]}),a.jsx("div",{children:a.jsxs(xe,{className:"input-select",onChange:o=>e({homePage:o}),placeholder:"Select page",value:t,children:[a.jsx(xe.Option,{value:"all",children:"All"}),a.jsx(xe.Option,{value:"today",children:"Today"}),a.jsx(xe.Option,{value:"starred",children:"Starred"}),a.jsx(xe.Option,{value:"history",children:"History"})]})})]}),a.jsx(ct,{}),a.jsxs("div",{className:"setting-row",children:[a.jsxs("div",{children:[a.jsx($.Title,{heading:6,style:{marginTop:0},children:"Entries order"}),a.jsx($.Text,{type:"secondary",children:"What order to show entries:"})]}),a.jsx("div",{children:a.jsxs(xe,{className:"input-select",onChange:o=>e({orderBy:o}),placeholder:"Select order",value:r,children:[a.jsx(xe.Option,{value:"published_at",children:"Published at"}),a.jsx(xe.Option,{value:"created_at",children:"Created at"})]})})]}),a.jsx(ct,{}),a.jsxs("div",{className:"setting-row",children:[a.jsxs("div",{children:[a.jsx($.Title,{heading:6,style:{marginTop:0},children:"Entries per page"}),a.jsx($.Text,{type:"secondary",children:"Show how many entries per page:"})]}),a.jsx("div",{children:a.jsx(Jl,{className:"input-select",defaultValue:i,min:1,mode:"button",onChange:o=>e({pageSize:o}),size:"small"})})]}),a.jsx(ct,{}),a.jsxs("div",{className:"setting-row",children:[a.jsxs("div",{children:[a.jsx($.Title,{heading:6,style:{marginTop:0},children:"Mark articles as read when scrolled off screen"}),a.jsx($.Text,{type:"secondary",children:"Automatically mark articles as read when they are scrolled out of the visible screen area"})]}),a.jsx("div",{children:a.jsx(Jt,{checked:n,onChange:o=>e({markReadOnScroll:o})})})]})]})},yu=[{title:"Key",dataIndex:"keyName",render:e=>a.jsx(Vn,{children:e})},{title:"Function",dataIndex:"description"}],bu=[{key:"1",keyName:"Esc",description:"Dismiss article"},{key:"2",keyName:"←",description:"Previous article"},{key:"3",keyName:"→",description:"Next article"},{key:"4",keyName:"B",description:"Open link externally"},{key:"5",keyName:"D",description:"Fetch original article"},{key:"6",keyName:"M",description:"Mark as read / unread"},{key:"7",keyName:"S",description:"Star / Unstar"}],xu=()=>a.jsx(Us,{borderCell:!0,columns:yu,data:bu,pagination:!1,size:"small",style:{margin:"0 auto",width:"80%"}}),wu=()=>a.jsxs(un,{className:"custom-tabs",defaultActiveTab:"1",tabPosition:"top",children:[a.jsx(un.TabPane,{title:a.jsxs("span",{children:[a.jsx(ec,{style:{marginRight:6}}),"Feeds"]}),children:a.jsx(gu,{})},"1"),a.jsx(un.TabPane,{title:a.jsxs("span",{children:[a.jsx(tc,{style:{marginRight:6}}),"Categories"]}),children:a.jsx(pu,{})},"2"),a.jsx(un.TabPane,{title:a.jsxs("span",{children:[a.jsx(nc,{style:{marginRight:6}}),"General"]}),children:a.jsx(vu,{})},"3"),a.jsx(un.TabPane,{title:a.jsxs("span",{children:[a.jsx(rc,{style:{marginRight:6}}),"Appearance"]}),children:a.jsx(mu,{})},"4"),a.jsx(un.TabPane,{title:a.jsxs("span",{children:[a.jsx(ic,{style:{marginRight:6}}),"Hotkeys"]}),children:a.jsx(xu,{})},"5")]}),Cu=[{required:!0}],Su=[{required:!0}],ju=[{type:"boolean"}],Eu=()=>{const{setSettingsModalVisible:e,settingsModalVisible:t}=Gi();return a.jsx(Or,{alignCenter:!1,autoFocus:!1,className:"settings-modal",focusLock:!0,footer:null,onCancel:()=>e(!1),title:"Settings",unmountOnExit:!0,visible:t,children:a.jsx(wu,{})})},Tu=()=>{const e=Z(Gn),{addFeedModalVisible:t,setAddFeedModalVisible:n}=Gi(),[r,i]=C.useState(!1),[s]=ve.useForm(),{fetchData:o}=ra(),l=async(u,c,d)=>{i(!0);try{await ru(u,c,d),o(),ne.success("Added a feed successfully"),n(!1),s.resetFields()}catch{ne.error("Failed to add a feed")}finally{i(!1)}};return a.jsx(Or,{title:"Add Feed",visible:t,unmountOnExit:!0,style:{width:"400px"},onOk:s.submit,confirmLoading:r,onCancel:()=>{n(!1),s.resetFields()},children:a.jsxs(ve,{form:s,labelCol:{span:7},layout:"vertical",wrapperCol:{span:17},onSubmit:async u=>{const c=u.url.trim();c?await l(c,u.category,u.crawler):ne.error("Feed URL cannot be empty")},children:[a.jsx(ve.Item,{label:"Feed URL",field:"url",rules:Cu,children:a.jsx(et,{placeholder:"Please input a feed URL"})}),a.jsx(ve.Item,{field:"category",label:"Category",required:!0,rules:Su,children:a.jsx(xe,{placeholder:"Please select a category",showSearch:!0,filterOption:(u,c)=>Tr(c.props.children,u),children:e.map(u=>a.jsx(xe.Option,{value:u.id,children:u.title},u.id))})}),a.jsx(ve.Item,{field:"crawler",initialValue:!1,label:"Fetch original content",rules:ju,style:{marginBottom:0},triggerPropName:"checked",children:a.jsx(Jt,{})})]})})},_u=()=>a.jsxs("div",{className:"main",children:[a.jsx(ac,{}),a.jsx(Eu,{}),a.jsx(Tu,{})]}),fo=({feed:e,className:t="feed-icon"})=>{const n=Bi(e.site_url)?e.site_url:no(e.feed_url),{hostname:r}=new URL(n),i=`https://icons.duckduckgo.com/ip3/${r}.ico`;return a.jsx("img",{className:t,src:i,alt:"Feed icon"})},ku=(e,t,n)=>{C.useLayoutEffect(()=>{let r=null;return e>0&&(clearTimeout(r),r=setTimeout(()=>{n(),clearTimeout(r)},t*4)),()=>clearTimeout(r)},[e,t,n])},ia=({duration:e,color:t})=>{const[n,r]=C.useState([]);ku(n.length,e,()=>{r([])});const i=s=>{const o=s.currentTarget.getBoundingClientRect(),l=o.width>o.height?o.width:o.height,u=s.pageX-o.x-l/2,c=s.pageY-o.y-l/2,d={x:u,y:c,size:l,id:`${new Date().getTime()}-${u}-${c}`};r([...n,d])};return a.jsx("div",{className:"ripple-container",onMouseDown:i,children:n.length>0&&n.map(s=>a.jsx("span",{className:"ripple-span",style:{top:s.y,left:s.x,width:s.size,height:s.size,backgroundColor:t,animationDuration:`${e}ms`}},s.id))})},ho=Pt.Item,{Sider:Au}=dc,Mu=C.memo(({category:e,isOpen:t})=>{var i;const r=(i=Z(uo)[e.id])==null?void 0:i.reduce((s,o)=>s+o.unreadCount,0);return a.jsxs("div",{className:"category-title",children:[a.jsxs($.Ellipsis,{expandable:!1,showTooltip:!0,style:{width:r?"80%":"100%"},children:[a.jsx(sc,{className:t?"icon-open":"icon-closed"}),e.title]}),r>0&&a.jsx($.Ellipsis,{className:"unread-count",expandable:!1,children:r})]})}),Iu=({atom:e})=>{const t=Z(e);return a.jsx($.Ellipsis,{className:"item-count",expandable:!1,children:t||""})},or=({path:e,Icon:t,label:n,countAtom:r})=>{const i=$s(),s=yn(),o=i.pathname===e;return a.jsxs(ho,{onClick:()=>s(e),className:Wi("arco-menu-item",{"arco-menu-selected":o}),children:[a.jsxs("div",{className:"custom-menu-item",children:[a.jsxs("span",{children:[a.jsx(t,{}),n]}),a.jsx(Iu,{atom:r})]}),a.jsx(ia,{color:"var(--color-text-4)",duration:1e3})]},e)},Pu=()=>{const e=$s(),t=yn(),n=Z(Gn),r=Z(Zi),i=Z(uo),s=Z(oo),o=Z(we),{homePage:l,showAllFeeds:u,showFeedIcon:c}=o,{collapsed:d,toggleCollapsed:h}=Ks(),{screenWidth:y}=Dr(),[w,b]=C.useState([`/${l}`]),[f,g]=C.useState([]),S=e.pathname,T=(p,x)=>{g(x)};return C.useEffect(()=>{b([S])},[S]),C.useEffect(()=>{y<=992&&!d&&h()},[w]),a.jsx(Au,{breakpoint:"lg",className:"sidebar",collapsed:d,collapsedWidth:0,collapsible:!0,onCollapse:h,trigger:null,width:240,style:{borderRight:d?"none":"1px solid var(--color-border-2)",display:d?"none":"block"},children:a.jsxs(Pt,{autoScrollIntoView:!0,collapse:d,hasCollapseButton:!0,onClickSubMenu:T,onCollapseChange:h,selectedKeys:w,style:{width:"240px",height:"100%"},children:[a.jsxs("div",{className:"menu-header",style:{visibility:d?"hidden":"visible"},children:[a.jsx(Ds,{className:"avatar",size:32,children:a.jsx(oc,{style:{color:"var(--color-bg-1)"}})}),a.jsx($.Title,{heading:6,style:{margin:"0"},children:"ReactFlux"})]}),a.jsx($.Title,{className:"section-title",heading:6,style:{paddingLeft:"12px"},children:"Articles"}),a.jsx(jr,{loading:!r,animation:!0,text:{rows:3}}),r&&a.jsxs("div",{children:[a.jsx(or,{path:"/all",Icon:lc,label:"All",countAtom:uu}),a.jsx(or,{path:"/today",Icon:cc,label:"Today",countAtom:Ji}),a.jsx(or,{path:"/starred",Icon:Hi,label:"Starred",countAtom:ea}),a.jsx(or,{path:"/history",Icon:uc,label:"History",countAtom:ta})]}),a.jsx($.Title,{className:"section-title",heading:6,style:{paddingLeft:"12px"},children:"Feeds"}),a.jsx(jr,{loading:!r,animation:!0,text:{rows:6}}),r?n.filter(p=>u||!s.includes(p.id)).map(p=>{var x;return a.jsx(Pt.SubMenu,{selectable:!0,style:{position:"relative",overflow:"hidden"},title:a.jsx(Mu,{category:p,isOpen:f.includes(`/category/${p.id}`)}),onClick:E=>{!(E.target.tagName==="svg"||E.target.tagName==="path")&&S!==`/category/${p.id}`&&t(`/category/${p.id}`)},children:(x=i[p.id])==null?void 0:x.map(E=>a.jsxs(ho,{style:{position:"relative",overflow:"hidden"},onClick:k=>{k.stopPropagation(),t(`/feed/${E.id}`)},children:[a.jsxs("div",{className:"custom-menu-item",children:[a.jsxs($.Ellipsis,{expandable:!1,showTooltip:!0,style:{width:E.unreadCount!==0?"80%":"100%"},children:[c&&a.jsx(fo,{feed:E,className:"feed-icon-sidebar"}),E.title]}),E.unreadCount!==0&&a.jsx($.Ellipsis,{className:"item-count",expandable:!1,children:E.unreadCount})]}),a.jsx(ia,{color:"var(--color-text-4)",duration:1e3})]},`/feed/${E.id}`))},`/category/${p.id}`)}):null]})})},Ou=()=>{const{theme:e}=Z(we),[t,n]=C.useState(window.matchMedia("(prefers-color-scheme: dark)").matches);return C.useEffect(()=>{const r=s=>{n(s.matches)},i=window.matchMedia("(prefers-color-scheme: dark)");return i.addEventListener("change",r),()=>i.removeEventListener("change",r)},[]),C.useEffect(()=>{const r=i=>{const s=i?"dark":"light";document.body.setAttribute("arco-theme",s),document.body.style.colorScheme=s};r(e==="system"?t:e==="dark")},[t,e]),a.jsxs("div",{className:"app",children:[a.jsx(Pu,{}),a.jsx(Nc,{}),a.jsx(_u,{})]})};var mo={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const Ru=Symbol((mo?"production":void 0)!=="production"?"RESET":"");function po(e){const t=Symbol(),n=q(t);(mo?"production":void 0)!=="production"&&(n.debugPrivate=!0);const r=q((i,s)=>{const o=i(n);return o!==t?o:e(i,s)},(i,s,o)=>{if(o===Ru)s(n,t);else if(typeof o=="function"){const l=i(r);s(n,o(l))}else s(n,o)});return r}const go=q(0),Lr=q(0),vo=q(0),yo=q(0),Vr=q(!1),Ur=q(!1),Kn=q([]),Qn=q([]),aa=po(e=>e(we).homePage),Zn=po(e=>{const t=e(aa);return["starred","history"].includes(t)?"all":e(we).showStatus}),Nu=q(e=>{const t=e(Zn);return e(t==="all"?Kn:Qn)}),$r=q("0"),Br=q(""),sa=q(e=>{const t=e(Nu),n=e($r),r=e(Br),i=fu(t,n,r),s=e(aa),{showAllFeeds:o}=e(we),l=e(lo);return hu(i,s,o,l)}),bo=q(!0),xo=q(!1),Fu=q(null),xn=()=>{const[e,t]=Pe(Fu);return{activeContent:e,setActiveContent:t}};var Jn={};(function e(t,n,r,i){var s=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),o=typeof Path2D=="function"&&typeof DOMMatrix=="function",l=function(){if(!t.OffscreenCanvas)return!1;var v=new OffscreenCanvas(1,1),m=v.getContext("2d");m.fillRect(0,0,1,1);var P=v.transferToImageBitmap();try{m.createPattern(P,"no-repeat")}catch{return!1}return!0}();function u(){}function c(v){var m=n.exports.Promise,P=m!==void 0?m:t.Promise;return typeof P=="function"?new P(v):(v(u,u),null)}var d=function(v,m){return{transform:function(P){if(v)return P;if(m.has(P))return m.get(P);var O=new OffscreenCanvas(P.width,P.height),N=O.getContext("2d");return N.drawImage(P,0,0),m.set(P,O),O},clear:function(){m.clear()}}}(l,new Map),h=function(){var v=Math.floor(16.666666666666668),m,P,O={},N=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(m=function(L){var D=Math.random();return O[D]=requestAnimationFrame(function F(V){N===V||N+v-1<V?(N=V,delete O[D],L()):O[D]=requestAnimationFrame(F)}),D},P=function(L){O[L]&&cancelAnimationFrame(O[L])}):(m=function(L){return setTimeout(L,v)},P=function(L){return clearTimeout(L)}),{frame:m,cancel:P}}(),y=function(){var v,m,P={};function O(N){function L(D,F){N.postMessage({options:D||{},callback:F})}N.init=function(F){var V=F.transferControlToOffscreen();N.postMessage({canvas:V},[V])},N.fire=function(F,V,A){if(m)return L(F,null),m;var R=Math.random().toString(36).slice(2);return m=c(function(K){function Q(oe){oe.data.callback===R&&(delete P[R],N.removeEventListener("message",Q),m=null,d.clear(),A(),K())}N.addEventListener("message",Q),L(F,R),P[R]=Q.bind(null,{data:{callback:R}})}),m},N.reset=function(){N.postMessage({reset:!0});for(var F in P)P[F](),delete P[F]}}return function(){if(v)return v;if(!r&&s){var N=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{v=new Worker(URL.createObjectURL(new Blob([N])))}catch(L){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("🎊 Could not load worker",L),null}O(v)}return v}}(),w={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function b(v,m){return m?m(v):v}function f(v){return v!=null}function g(v,m,P){return b(v&&f(v[m])?v[m]:w[m],P)}function S(v){return v<0?0:Math.floor(v)}function T(v,m){return Math.floor(Math.random()*(m-v))+v}function p(v){return parseInt(v,16)}function x(v){return v.map(E)}function E(v){var m=String(v).replace(/[^0-9a-f]/gi,"");return m.length<6&&(m=m[0]+m[0]+m[1]+m[1]+m[2]+m[2]),{r:p(m.substring(0,2)),g:p(m.substring(2,4)),b:p(m.substring(4,6))}}function k(v){var m=g(v,"origin",Object);return m.x=g(m,"x",Number),m.y=g(m,"y",Number),m}function M(v){v.width=document.documentElement.clientWidth,v.height=document.documentElement.clientHeight}function B(v){var m=v.getBoundingClientRect();v.width=m.width,v.height=m.height}function I(v){var m=document.createElement("canvas");return m.style.position="fixed",m.style.top="0px",m.style.left="0px",m.style.pointerEvents="none",m.style.zIndex=v,m}function z(v,m,P,O,N,L,D,F,V){v.save(),v.translate(m,P),v.rotate(L),v.scale(O,N),v.arc(0,0,1,D,F,V),v.restore()}function ie(v){var m=v.angle*(Math.PI/180),P=v.spread*(Math.PI/180);return{x:v.x,y:v.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:v.startVelocity*.5+Math.random()*v.startVelocity,angle2D:-m+(.5*P-Math.random()*P),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:v.color,shape:v.shape,tick:0,totalTicks:v.ticks,decay:v.decay,drift:v.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:v.gravity*3,ovalScalar:.6,scalar:v.scalar,flat:v.flat}}function fe(v,m){m.x+=Math.cos(m.angle2D)*m.velocity+m.drift,m.y+=Math.sin(m.angle2D)*m.velocity+m.gravity,m.velocity*=m.decay,m.flat?(m.wobble=0,m.wobbleX=m.x+10*m.scalar,m.wobbleY=m.y+10*m.scalar,m.tiltSin=0,m.tiltCos=0,m.random=1):(m.wobble+=m.wobbleSpeed,m.wobbleX=m.x+10*m.scalar*Math.cos(m.wobble),m.wobbleY=m.y+10*m.scalar*Math.sin(m.wobble),m.tiltAngle+=.1,m.tiltSin=Math.sin(m.tiltAngle),m.tiltCos=Math.cos(m.tiltAngle),m.random=Math.random()+2);var P=m.tick++/m.totalTicks,O=m.x+m.random*m.tiltCos,N=m.y+m.random*m.tiltSin,L=m.wobbleX+m.random*m.tiltCos,D=m.wobbleY+m.random*m.tiltSin;if(v.fillStyle="rgba("+m.color.r+", "+m.color.g+", "+m.color.b+", "+(1-P)+")",v.beginPath(),o&&m.shape.type==="path"&&typeof m.shape.path=="string"&&Array.isArray(m.shape.matrix))v.fill(qe(m.shape.path,m.shape.matrix,m.x,m.y,Math.abs(L-O)*.1,Math.abs(D-N)*.1,Math.PI/10*m.wobble));else if(m.shape.type==="bitmap"){var F=Math.PI/10*m.wobble,V=Math.abs(L-O)*.1,A=Math.abs(D-N)*.1,R=m.shape.bitmap.width*m.scalar,K=m.shape.bitmap.height*m.scalar,Q=new DOMMatrix([Math.cos(F)*V,Math.sin(F)*V,-Math.sin(F)*A,Math.cos(F)*A,m.x,m.y]);Q.multiplySelf(new DOMMatrix(m.shape.matrix));var oe=v.createPattern(d.transform(m.shape.bitmap),"no-repeat");oe.setTransform(Q),v.globalAlpha=1-P,v.fillStyle=oe,v.fillRect(m.x-R/2,m.y-K/2,R,K),v.globalAlpha=1}else if(m.shape==="circle")v.ellipse?v.ellipse(m.x,m.y,Math.abs(L-O)*m.ovalScalar,Math.abs(D-N)*m.ovalScalar,Math.PI/10*m.wobble,0,2*Math.PI):z(v,m.x,m.y,Math.abs(L-O)*m.ovalScalar,Math.abs(D-N)*m.ovalScalar,Math.PI/10*m.wobble,0,2*Math.PI);else if(m.shape==="star")for(var W=Math.PI/2*3,Y=4*m.scalar,Ee=8*m.scalar,he=m.x,Ce=m.y,Ve=5,me=Math.PI/Ve;Ve--;)he=m.x+Math.cos(W)*Ee,Ce=m.y+Math.sin(W)*Ee,v.lineTo(he,Ce),W+=me,he=m.x+Math.cos(W)*Y,Ce=m.y+Math.sin(W)*Y,v.lineTo(he,Ce),W+=me;else v.moveTo(Math.floor(m.x),Math.floor(m.y)),v.lineTo(Math.floor(m.wobbleX),Math.floor(N)),v.lineTo(Math.floor(L),Math.floor(D)),v.lineTo(Math.floor(O),Math.floor(m.wobbleY));return v.closePath(),v.fill(),m.tick<m.totalTicks}function _e(v,m,P,O,N){var L=m.slice(),D=v.getContext("2d"),F,V,A=c(function(R){function K(){F=V=null,D.clearRect(0,0,O.width,O.height),d.clear(),N(),R()}function Q(){r&&!(O.width===i.width&&O.height===i.height)&&(O.width=v.width=i.width,O.height=v.height=i.height),!O.width&&!O.height&&(P(v),O.width=v.width,O.height=v.height),D.clearRect(0,0,O.width,O.height),L=L.filter(function(oe){return fe(D,oe)}),L.length?F=h.frame(Q):K()}F=h.frame(Q),V=K});return{addFettis:function(R){return L=L.concat(R),A},canvas:v,promise:A,reset:function(){F&&h.cancel(F),V&&V()}}}function pe(v,m){var P=!v,O=!!g(m||{},"resize"),N=!1,L=g(m,"disableForReducedMotion",Boolean),D=s&&!!g(m||{},"useWorker"),F=D?y():null,V=P?M:B,A=v&&F?!!v.__confetti_initialized:!1,R=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,K;function Q(W,Y,Ee){for(var he=g(W,"particleCount",S),Ce=g(W,"angle",Number),Ve=g(W,"spread",Number),me=g(W,"startVelocity",Number),dt=g(W,"decay",Number),Ut=g(W,"gravity",Number),Xe=g(W,"drift",Number),$t=g(W,"colors",x),Bt=g(W,"ticks",Number),Ye=g(W,"shapes"),Ue=g(W,"scalar"),it=!!g(W,"flat"),jt=k(W),zt=he,Et=[],tn=v.width*jt.x,Ae=v.height*jt.y;zt--;)Et.push(ie({x:tn,y:Ae,angle:Ce,spread:Ve,startVelocity:me,color:$t[zt%$t.length],shape:Ye[T(0,Ye.length)],ticks:Bt,decay:dt,gravity:Ut,drift:Xe,scalar:Ue,flat:it}));return K?K.addFettis(Et):(K=_e(v,Et,V,Y,Ee),K.promise)}function oe(W){var Y=L||g(W,"disableForReducedMotion",Boolean),Ee=g(W,"zIndex",Number);if(Y&&R)return c(function(me){me()});P&&K?v=K.canvas:P&&!v&&(v=I(Ee),document.body.appendChild(v)),O&&!A&&V(v);var he={width:v.width,height:v.height};F&&!A&&F.init(v),A=!0,F&&(v.__confetti_initialized=!0);function Ce(){if(F){var me={getBoundingClientRect:function(){if(!P)return v.getBoundingClientRect()}};V(me),F.postMessage({resize:{width:me.width,height:me.height}});return}he.width=he.height=null}function Ve(){K=null,O&&(N=!1,t.removeEventListener("resize",Ce)),P&&v&&(document.body.removeChild(v),v=null,A=!1)}return O&&!N&&(N=!0,t.addEventListener("resize",Ce,!1)),F?F.fire(W,he,Ve):Q(W,he,Ve)}return oe.reset=function(){F&&F.reset(),K&&K.reset()},oe}var de;function ue(){return de||(de=pe(null,{useWorker:!0,resize:!0})),de}function qe(v,m,P,O,N,L,D){var F=new Path2D(v),V=new Path2D;V.addPath(F,new DOMMatrix(m));var A=new Path2D;return A.addPath(V,new DOMMatrix([Math.cos(D)*N,Math.sin(D)*N,-Math.sin(D)*L,Math.cos(D)*L,P,O])),A}function ke(v){if(!o)throw new Error("path confetti are not supported in this browser");var m,P;typeof v=="string"?m=v:(m=v.path,P=v.matrix);var O=new Path2D(m),N=document.createElement("canvas"),L=N.getContext("2d");if(!P){for(var D=1e3,F=D,V=D,A=0,R=0,K,Q,oe=0;oe<D;oe+=2)for(var W=0;W<D;W+=2)L.isPointInPath(O,oe,W,"nonzero")&&(F=Math.min(F,oe),V=Math.min(V,W),A=Math.max(A,oe),R=Math.max(R,W));K=A-F,Q=R-V;var Y=10,Ee=Math.min(Y/K,Y/Q);P=[Ee,0,0,Ee,-Math.round(K/2+F)*Ee,-Math.round(Q/2+V)*Ee]}return{type:"path",path:m,matrix:P}}function St(v){var m,P=1,O="#000000",N='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof v=="string"?m=v:(m=v.text,P="scalar"in v?v.scalar:P,N="fontFamily"in v?v.fontFamily:N,O="color"in v?v.color:O);var L=10*P,D=""+L+"px "+N,F=new OffscreenCanvas(L,L),V=F.getContext("2d");V.font=D;var A=V.measureText(m),R=Math.ceil(A.actualBoundingBoxRight+A.actualBoundingBoxLeft),K=Math.ceil(A.actualBoundingBoxAscent+A.actualBoundingBoxDescent),Q=2,oe=A.actualBoundingBoxLeft+Q,W=A.actualBoundingBoxAscent+Q;R+=Q+Q,K+=Q+Q,F=new OffscreenCanvas(R,K),V=F.getContext("2d"),V.font=D,V.fillStyle=O,V.fillText(m,oe,W);var Y=1/P;return{type:"bitmap",bitmap:F.transferToImageBitmap(),matrix:[Y,0,0,Y,-R*Y/2,-K*Y/2]}}n.exports=function(){return ue().apply(this,arguments)},n.exports.reset=function(){ue().reset()},n.exports.create=pe,n.exports.shapeFromPath=ke,n.exports.shapeFromText=St})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),Jn,!1);const Du=Jn.exports;Jn.exports.create;const oa=()=>{const e=X(Nr),t=X(Ji),n=X(ta),r=X(ea),{activeContent:i,setActiveContent:s}=xn(),o=X(Kn),l=X(Lr),u=X(Qn),c=(f,g)=>f.map(S=>S.id===g.id?g:S),d=(f,g)=>{const S=f.feed.id,T=Yc(f.published_at);g==="read"?(e(x=>({...x,[S]:Math.max(0,x[S]-1)})),l(x=>Math.max(0,x-1)),n(x=>x+1),T&&t(x=>Math.max(0,x-1))):(e(x=>({...x,[S]:x[S]+1})),l(x=>x+1),n(x=>Math.max(0,x-1)),T&&t(x=>x+1));const p={...f,status:g};i&&s(p),o(x=>c(x,p)),u(x=>c(x,p))},h=(f,g)=>{g?(r(T=>T+1),Du({particleCount:100,angle:120,spread:70,origin:{x:1,y:1}})):r(T=>Math.max(0,T-1));const S={...f,starred:g};i&&s(S),o(T=>c(T,S)),u(T=>c(T,S))};return{handleEntryStatusUpdate:d,handleFetchContent:async()=>{try{const f=await Qc(i.id);ne.success("Fetched content successfully"),s({...i,content:f.data.content})}catch{ne.error("Failed to fetch content, please try again later")}},handleToggleStarred:async f=>{const g=!f.starred;h(f,g),Kc(f.id).catch(()=>{ne.error(`Failed to ${g?"star":"unstar"} entry, please try again later`),h(f,!g)})},handleToggleStatus:async f=>{const g=f.status,S=g==="read"?"unread":"read";d(f,S),Qi([f.id],S).catch(()=>{ne.error(`Failed to mark entry as ${S}, please try again later`),d(f,g)})}}},za=(e,t="start")=>{const n=document.querySelector(e);n&&n.scrollIntoView({behavior:"smooth",block:t})},Lu=e=>{const n=new DOMParser().parseFromString(e,"text/html").querySelectorAll("img");return Array.from(n).map(r=>r.getAttribute("src"))},Ci=e=>{var i;const r=(i=new DOMParser().parseFromString(e.content,"text/html").querySelector("img"))==null?void 0:i.getAttribute("src");return{...e,imgSrc:r}},wo=()=>{const{pageSize:e}=Z(we),[t,n]=Pe(Kn),[r,i]=Pe(vo),[s,o]=Pe(Qn),[l,u]=Pe(yo),c=Z(Zn),d=X(Ur),h=X(Vr),y=Z(go),w=Z(Lr),[b,f]=C.useState(!1),g=()=>{c==="all"?i(p=>p+e):u(p=>p+e)},S=p=>{const x=c==="all"?t:s,E=new Map([...x.map(M=>[M.id,M]),...p.filter(M=>!x.find(B=>B.id===M.id)).map(M=>[M.id,M])]),k=Array.from(E.values());return c==="all"?(n(k),h(k.length<y)):(o(k),d(k.length<w)),k};return{handleLoadMore:async(p,x)=>{var E;f(!0);try{let k;if(c==="all"?k=await x(r+e):k=await x(l+e,c),(E=k==null?void 0:k.data)!=null&&E.entries){g();const M=k.data.entries.map(Ci);S(M)}}catch(k){console.error("Error fetching more articles:",k)}finally{f(!1)}},loadingMore:b}},Co=(e,t,n)=>{const r=Z(sa),i=Z(Zn),s=Z(Ur),o=Z(Vr),{activeContent:l,setActiveContent:u}=xn(),{handleLoadMore:c}=wo(),[d,h]=C.useState(!1),[y,w]=C.useState(!1);C.useEffect(()=>{y&&!d&&(g(e),w(!1))},[d,y]);const b=(E,k)=>{l&&(u(null),E.current&&(E.current.setAttribute("tabIndex","-1"),E.current.focus()),k.current&&k.current.scrollTo(0,0))},f=()=>{const E=r.findIndex(k=>k.id===(l==null?void 0:l.id));if(E>0){const k=r[E-1];t(k),za(".card-custom-selected-style","end")}},g=async E=>{if(d)return;const k=r.findIndex(B=>B.id===(l==null?void 0:l.id));if(k===r.length-1&&(i==="all"&&o||s)){try{h(!0),await c(E,n),w(!0)}catch{ne.error("Failed to load more articles, please try again later")}finally{h(!1)}return}if(k===-1){const B=document.querySelector(".entry-list");B&&B.scrollTo(0,0)}if(k<r.length-1){const B=r[k+1];t(B),w(!1),za(".card-custom-selected-style")}};return{handleEscapeKey:b,handleLeftKey:f,handleRightKey:g,handleBKey:()=>{l&&window.open(l.url,"_blank")},handleDKey:E=>{l&&E()},handleMKey:E=>{l&&E()},handleSKey:E=>{l&&E()}}};var So={},la={},ca={};Object.defineProperty(ca,"__esModule",{value:!0});var Ha="html",Wa="head",lr="body",Vu=/<([a-zA-Z]+[0-9]?)/,qa=/<head[^]*>/i,Xa=/<body[^]*>/i,_r=function(e,t){throw new Error("This browser does not support `document.implementation.createHTMLDocument`")},Si=function(e,t){throw new Error("This browser does not support `DOMParser.prototype.parseFromString`")},Ya=typeof window=="object"&&window.DOMParser;if(typeof Ya=="function"){var Uu=new Ya,$u="text/html";Si=function(e,t){return t&&(e="<".concat(t,">").concat(e,"</").concat(t,">")),Uu.parseFromString(e,$u)},_r=Si}if(typeof document=="object"&&document.implementation){var cr=document.implementation.createHTMLDocument();_r=function(e,t){if(t){var n=cr.documentElement.querySelector(t);return n&&(n.innerHTML=e),cr}return cr.documentElement.innerHTML=e,cr}}var ur=typeof document=="object"&&document.createElement("template"),ji;ur&&ur.content&&(ji=function(e){return ur.innerHTML=e,ur.content.childNodes});function Bu(e){var t,n,r=e.match(Vu),i=r&&r[1]?r[1].toLowerCase():"";switch(i){case Ha:{var s=Si(e);if(!qa.test(e)){var o=s.querySelector(Wa);(t=o==null?void 0:o.parentNode)===null||t===void 0||t.removeChild(o)}if(!Xa.test(e)){var o=s.querySelector(lr);(n=o==null?void 0:o.parentNode)===null||n===void 0||n.removeChild(o)}return s.querySelectorAll(Ha)}case Wa:case lr:{var l=_r(e).querySelectorAll(i);return Xa.test(e)&&qa.test(e)?l[0].parentNode.childNodes:l}default:{if(ji)return ji(e);var o=_r(e,lr).querySelector(lr);return o.childNodes}}}ca.default=Bu;var gn={},jo={},er={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Doctype=e.CDATA=e.Tag=e.Style=e.Script=e.Comment=e.Directive=e.Text=e.Root=e.isTag=e.ElementType=void 0;var t;(function(r){r.Root="root",r.Text="text",r.Directive="directive",r.Comment="comment",r.Script="script",r.Style="style",r.Tag="tag",r.CDATA="cdata",r.Doctype="doctype"})(t=e.ElementType||(e.ElementType={}));function n(r){return r.type===t.Tag||r.type===t.Script||r.type===t.Style}e.isTag=n,e.Root=t.Root,e.Text=t.Text,e.Directive=t.Directive,e.Comment=t.Comment,e.Script=t.Script,e.Style=t.Style,e.Tag=t.Tag,e.CDATA=t.CDATA,e.Doctype=t.Doctype})(er);var J={},Dt=se&&se.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),In=se&&se.__assign||function(){return In=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},In.apply(this,arguments)};Object.defineProperty(J,"__esModule",{value:!0});J.cloneNode=J.hasChildren=J.isDocument=J.isDirective=J.isComment=J.isText=J.isCDATA=J.isTag=J.Element=J.Document=J.CDATA=J.NodeWithChildren=J.ProcessingInstruction=J.Comment=J.Text=J.DataNode=J.Node=void 0;var Ne=er,ua=function(){function e(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent},set:function(t){this.parent=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return this.prev},set:function(t){this.prev=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return this.next},set:function(t){this.next=t},enumerable:!1,configurable:!0}),e.prototype.cloneNode=function(t){return t===void 0&&(t=!1),da(this,t)},e}();J.Node=ua;var zr=function(e){Dt(t,e);function t(n){var r=e.call(this)||this;return r.data=n,r}return Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.data},set:function(n){this.data=n},enumerable:!1,configurable:!0}),t}(ua);J.DataNode=zr;var Eo=function(e){Dt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=Ne.ElementType.Text,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),t}(zr);J.Text=Eo;var To=function(e){Dt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=Ne.ElementType.Comment,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),t}(zr);J.Comment=To;var _o=function(e){Dt(t,e);function t(n,r){var i=e.call(this,r)||this;return i.name=n,i.type=Ne.ElementType.Directive,i}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),t}(zr);J.ProcessingInstruction=_o;var Hr=function(e){Dt(t,e);function t(n){var r=e.call(this)||this;return r.children=n,r}return Object.defineProperty(t.prototype,"firstChild",{get:function(){var n;return(n=this.children[0])!==null&&n!==void 0?n:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.children},set:function(n){this.children=n},enumerable:!1,configurable:!0}),t}(ua);J.NodeWithChildren=Hr;var ko=function(e){Dt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=Ne.ElementType.CDATA,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),t}(Hr);J.CDATA=ko;var Ao=function(e){Dt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=Ne.ElementType.Root,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),t}(Hr);J.Document=Ao;var Mo=function(e){Dt(t,e);function t(n,r,i,s){i===void 0&&(i=[]),s===void 0&&(s=n==="script"?Ne.ElementType.Script:n==="style"?Ne.ElementType.Style:Ne.ElementType.Tag);var o=e.call(this,i)||this;return o.name=n,o.attribs=r,o.type=s,o}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tagName",{get:function(){return this.name},set:function(n){this.name=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){var n=this;return Object.keys(this.attribs).map(function(r){var i,s;return{name:r,value:n.attribs[r],namespace:(i=n["x-attribsNamespace"])===null||i===void 0?void 0:i[r],prefix:(s=n["x-attribsPrefix"])===null||s===void 0?void 0:s[r]}})},enumerable:!1,configurable:!0}),t}(Hr);J.Element=Mo;function Io(e){return(0,Ne.isTag)(e)}J.isTag=Io;function Po(e){return e.type===Ne.ElementType.CDATA}J.isCDATA=Po;function Oo(e){return e.type===Ne.ElementType.Text}J.isText=Oo;function Ro(e){return e.type===Ne.ElementType.Comment}J.isComment=Ro;function No(e){return e.type===Ne.ElementType.Directive}J.isDirective=No;function Fo(e){return e.type===Ne.ElementType.Root}J.isDocument=Fo;function zu(e){return Object.prototype.hasOwnProperty.call(e,"children")}J.hasChildren=zu;function da(e,t){t===void 0&&(t=!1);var n;if(Oo(e))n=new Eo(e.data);else if(Ro(e))n=new To(e.data);else if(Io(e)){var r=t?oi(e.children):[],i=new Mo(e.name,In({},e.attribs),r);r.forEach(function(u){return u.parent=i}),e.namespace!=null&&(i.namespace=e.namespace),e["x-attribsNamespace"]&&(i["x-attribsNamespace"]=In({},e["x-attribsNamespace"])),e["x-attribsPrefix"]&&(i["x-attribsPrefix"]=In({},e["x-attribsPrefix"])),n=i}else if(Po(e)){var r=t?oi(e.children):[],s=new ko(r);r.forEach(function(c){return c.parent=s}),n=s}else if(Fo(e)){var r=t?oi(e.children):[],o=new Ao(r);r.forEach(function(c){return c.parent=o}),e["x-mode"]&&(o["x-mode"]=e["x-mode"]),n=o}else if(No(e)){var l=new _o(e.name,e.data);e["x-name"]!=null&&(l["x-name"]=e["x-name"],l["x-publicId"]=e["x-publicId"],l["x-systemId"]=e["x-systemId"]),n=l}else throw new Error("Not implemented yet: ".concat(e.type));return n.startIndex=e.startIndex,n.endIndex=e.endIndex,e.sourceCodeLocation!=null&&(n.sourceCodeLocation=e.sourceCodeLocation),n}J.cloneNode=da;function oi(e){for(var t=e.map(function(r){return da(r,!0)}),n=1;n<t.length;n++)t[n].prev=t[n-1],t[n-1].next=t[n];return t}(function(e){var t=se&&se.__createBinding||(Object.create?function(l,u,c,d){d===void 0&&(d=c);var h=Object.getOwnPropertyDescriptor(u,c);(!h||("get"in h?!u.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return u[c]}}),Object.defineProperty(l,d,h)}:function(l,u,c,d){d===void 0&&(d=c),l[d]=u[c]}),n=se&&se.__exportStar||function(l,u){for(var c in l)c!=="default"&&!Object.prototype.hasOwnProperty.call(u,c)&&t(u,l,c)};Object.defineProperty(e,"__esModule",{value:!0}),e.DomHandler=void 0;var r=er,i=J;n(J,e);var s={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},o=function(){function l(u,c,d){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof c=="function"&&(d=c,c=s),typeof u=="object"&&(c=u,u=void 0),this.callback=u??null,this.options=c??s,this.elementCB=d??null}return l.prototype.onparserinit=function(u){this.parser=u},l.prototype.onreset=function(){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},l.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},l.prototype.onerror=function(u){this.handleCallback(u)},l.prototype.onclosetag=function(){this.lastNode=null;var u=this.tagStack.pop();this.options.withEndIndices&&(u.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(u)},l.prototype.onopentag=function(u,c){var d=this.options.xmlMode?r.ElementType.Tag:void 0,h=new i.Element(u,c,void 0,d);this.addNode(h),this.tagStack.push(h)},l.prototype.ontext=function(u){var c=this.lastNode;if(c&&c.type===r.ElementType.Text)c.data+=u,this.options.withEndIndices&&(c.endIndex=this.parser.endIndex);else{var d=new i.Text(u);this.addNode(d),this.lastNode=d}},l.prototype.oncomment=function(u){if(this.lastNode&&this.lastNode.type===r.ElementType.Comment){this.lastNode.data+=u;return}var c=new i.Comment(u);this.addNode(c),this.lastNode=c},l.prototype.oncommentend=function(){this.lastNode=null},l.prototype.oncdatastart=function(){var u=new i.Text(""),c=new i.CDATA([u]);this.addNode(c),u.parent=c,this.lastNode=u},l.prototype.oncdataend=function(){this.lastNode=null},l.prototype.onprocessinginstruction=function(u,c){var d=new i.ProcessingInstruction(u,c);this.addNode(d)},l.prototype.handleCallback=function(u){if(typeof this.callback=="function")this.callback(u,this.dom);else if(u)throw u},l.prototype.addNode=function(u){var c=this.tagStack[this.tagStack.length-1],d=c.children[c.children.length-1];this.options.withStartIndices&&(u.startIndex=this.parser.startIndex),this.options.withEndIndices&&(u.endIndex=this.parser.endIndex),c.children.push(u),d&&(u.prev=d,d.next=u),u.parent=c,this.lastNode=null},l}();e.DomHandler=o,e.default=o})(jo);var Do={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CASE_SENSITIVE_TAG_NAMES_MAP=e.CASE_SENSITIVE_TAG_NAMES=void 0,e.CASE_SENSITIVE_TAG_NAMES=["animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","linearGradient","radialGradient","textPath"],e.CASE_SENSITIVE_TAG_NAMES_MAP=e.CASE_SENSITIVE_TAG_NAMES.reduce(function(t,n){return t[n.toLowerCase()]=n,t},{})})(Do);Object.defineProperty(gn,"__esModule",{value:!0});gn.formatDOM=gn.formatAttributes=void 0;var dr=jo,Hu=Do;function Wu(e){return Hu.CASE_SENSITIVE_TAG_NAMES_MAP[e]}function Lo(e){for(var t={},n=0,r=e.length;n<r;n++){var i=e[n];t[i.name]=i.value}return t}gn.formatAttributes=Lo;function qu(e){e=e.toLowerCase();var t=Wu(e);return t||e}function Vo(e,t,n){t===void 0&&(t=null);for(var r=[],i,s=0,o=e.length;s<o;s++){var l=e[s];switch(l.nodeType){case 1:{var u=qu(l.nodeName);i=new dr.Element(u,Lo(l.attributes)),i.children=Vo(u==="template"?l.content.childNodes:l.childNodes,i);break}case 3:i=new dr.Text(l.nodeValue);break;case 8:i=new dr.Comment(l.nodeValue);break;default:continue}var c=r[s-1]||null;c&&(c.next=i),i.parent=t,i.prev=c,i.next=null,r.push(i)}return n&&(i=new dr.ProcessingInstruction(n.substring(0,n.indexOf(" ")).toLowerCase(),n),i.next=r[0]||null,i.parent=t,r.unshift(i),r[1]&&(r[1].prev=r[0])),r}gn.formatDOM=Vo;var Xu=se&&se.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(la,"__esModule",{value:!0});var Yu=Xu(ca),Gu=gn,Ku=/<(![a-zA-Z\s]+)>/;function Qu(e){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];var t=e.match(Ku),n=t?t[1]:void 0;return(0,Gu.formatDOM)((0,Yu.default)(e),null,n)}la.default=Qu;var Wr={},rt={},qr={},Zu=0;qr.SAME=Zu;var Ju=1;qr.CAMELCASE=Ju;qr.possibleStandardNames={accept:0,acceptCharset:1,"accept-charset":"acceptCharset",accessKey:1,action:0,allowFullScreen:1,alt:0,as:0,async:0,autoCapitalize:1,autoComplete:1,autoCorrect:1,autoFocus:1,autoPlay:1,autoSave:1,capture:0,cellPadding:1,cellSpacing:1,challenge:0,charSet:1,checked:0,children:0,cite:0,class:"className",classID:1,className:1,cols:0,colSpan:1,content:0,contentEditable:1,contextMenu:1,controls:0,controlsList:1,coords:0,crossOrigin:1,dangerouslySetInnerHTML:1,data:0,dateTime:1,default:0,defaultChecked:1,defaultValue:1,defer:0,dir:0,disabled:0,disablePictureInPicture:1,disableRemotePlayback:1,download:0,draggable:0,encType:1,enterKeyHint:1,for:"htmlFor",form:0,formMethod:1,formAction:1,formEncType:1,formNoValidate:1,formTarget:1,frameBorder:1,headers:0,height:0,hidden:0,high:0,href:0,hrefLang:1,htmlFor:1,httpEquiv:1,"http-equiv":"httpEquiv",icon:0,id:0,innerHTML:1,inputMode:1,integrity:0,is:0,itemID:1,itemProp:1,itemRef:1,itemScope:1,itemType:1,keyParams:1,keyType:1,kind:0,label:0,lang:0,list:0,loop:0,low:0,manifest:0,marginWidth:1,marginHeight:1,max:0,maxLength:1,media:0,mediaGroup:1,method:0,min:0,minLength:1,multiple:0,muted:0,name:0,noModule:1,nonce:0,noValidate:1,open:0,optimum:0,pattern:0,placeholder:0,playsInline:1,poster:0,preload:0,profile:0,radioGroup:1,readOnly:1,referrerPolicy:1,rel:0,required:0,reversed:0,role:0,rows:0,rowSpan:1,sandbox:0,scope:0,scoped:0,scrolling:0,seamless:0,selected:0,shape:0,size:0,sizes:0,span:0,spellCheck:1,src:0,srcDoc:1,srcLang:1,srcSet:1,start:0,step:0,style:0,summary:0,tabIndex:1,target:0,title:0,type:0,useMap:1,value:0,width:0,wmode:0,wrap:0,about:0,accentHeight:1,"accent-height":"accentHeight",accumulate:0,additive:0,alignmentBaseline:1,"alignment-baseline":"alignmentBaseline",allowReorder:1,alphabetic:0,amplitude:0,arabicForm:1,"arabic-form":"arabicForm",ascent:0,attributeName:1,attributeType:1,autoReverse:1,azimuth:0,baseFrequency:1,baselineShift:1,"baseline-shift":"baselineShift",baseProfile:1,bbox:0,begin:0,bias:0,by:0,calcMode:1,capHeight:1,"cap-height":"capHeight",clip:0,clipPath:1,"clip-path":"clipPath",clipPathUnits:1,clipRule:1,"clip-rule":"clipRule",color:0,colorInterpolation:1,"color-interpolation":"colorInterpolation",colorInterpolationFilters:1,"color-interpolation-filters":"colorInterpolationFilters",colorProfile:1,"color-profile":"colorProfile",colorRendering:1,"color-rendering":"colorRendering",contentScriptType:1,contentStyleType:1,cursor:0,cx:0,cy:0,d:0,datatype:0,decelerate:0,descent:0,diffuseConstant:1,direction:0,display:0,divisor:0,dominantBaseline:1,"dominant-baseline":"dominantBaseline",dur:0,dx:0,dy:0,edgeMode:1,elevation:0,enableBackground:1,"enable-background":"enableBackground",end:0,exponent:0,externalResourcesRequired:1,fill:0,fillOpacity:1,"fill-opacity":"fillOpacity",fillRule:1,"fill-rule":"fillRule",filter:0,filterRes:1,filterUnits:1,floodOpacity:1,"flood-opacity":"floodOpacity",floodColor:1,"flood-color":"floodColor",focusable:0,fontFamily:1,"font-family":"fontFamily",fontSize:1,"font-size":"fontSize",fontSizeAdjust:1,"font-size-adjust":"fontSizeAdjust",fontStretch:1,"font-stretch":"fontStretch",fontStyle:1,"font-style":"fontStyle",fontVariant:1,"font-variant":"fontVariant",fontWeight:1,"font-weight":"fontWeight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:1,"glyph-name":"glyphName",glyphOrientationHorizontal:1,"glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphOrientationVertical:1,"glyph-orientation-vertical":"glyphOrientationVertical",glyphRef:1,gradientTransform:1,gradientUnits:1,hanging:0,horizAdvX:1,"horiz-adv-x":"horizAdvX",horizOriginX:1,"horiz-origin-x":"horizOriginX",ideographic:0,imageRendering:1,"image-rendering":"imageRendering",in2:0,in:0,inlist:0,intercept:0,k1:0,k2:0,k3:0,k4:0,k:0,kernelMatrix:1,kernelUnitLength:1,kerning:0,keyPoints:1,keySplines:1,keyTimes:1,lengthAdjust:1,letterSpacing:1,"letter-spacing":"letterSpacing",lightingColor:1,"lighting-color":"lightingColor",limitingConeAngle:1,local:0,markerEnd:1,"marker-end":"markerEnd",markerHeight:1,markerMid:1,"marker-mid":"markerMid",markerStart:1,"marker-start":"markerStart",markerUnits:1,markerWidth:1,mask:0,maskContentUnits:1,maskUnits:1,mathematical:0,mode:0,numOctaves:1,offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:1,"overline-position":"overlinePosition",overlineThickness:1,"overline-thickness":"overlineThickness",paintOrder:1,"paint-order":"paintOrder",panose1:0,"panose-1":"panose1",pathLength:1,patternContentUnits:1,patternTransform:1,patternUnits:1,pointerEvents:1,"pointer-events":"pointerEvents",points:0,pointsAtX:1,pointsAtY:1,pointsAtZ:1,prefix:0,preserveAlpha:1,preserveAspectRatio:1,primitiveUnits:1,property:0,r:0,radius:0,refX:1,refY:1,renderingIntent:1,"rendering-intent":"renderingIntent",repeatCount:1,repeatDur:1,requiredExtensions:1,requiredFeatures:1,resource:0,restart:0,result:0,results:0,rotate:0,rx:0,ry:0,scale:0,security:0,seed:0,shapeRendering:1,"shape-rendering":"shapeRendering",slope:0,spacing:0,specularConstant:1,specularExponent:1,speed:0,spreadMethod:1,startOffset:1,stdDeviation:1,stemh:0,stemv:0,stitchTiles:1,stopColor:1,"stop-color":"stopColor",stopOpacity:1,"stop-opacity":"stopOpacity",strikethroughPosition:1,"strikethrough-position":"strikethroughPosition",strikethroughThickness:1,"strikethrough-thickness":"strikethroughThickness",string:0,stroke:0,strokeDasharray:1,"stroke-dasharray":"strokeDasharray",strokeDashoffset:1,"stroke-dashoffset":"strokeDashoffset",strokeLinecap:1,"stroke-linecap":"strokeLinecap",strokeLinejoin:1,"stroke-linejoin":"strokeLinejoin",strokeMiterlimit:1,"stroke-miterlimit":"strokeMiterlimit",strokeWidth:1,"stroke-width":"strokeWidth",strokeOpacity:1,"stroke-opacity":"strokeOpacity",suppressContentEditableWarning:1,suppressHydrationWarning:1,surfaceScale:1,systemLanguage:1,tableValues:1,targetX:1,targetY:1,textAnchor:1,"text-anchor":"textAnchor",textDecoration:1,"text-decoration":"textDecoration",textLength:1,textRendering:1,"text-rendering":"textRendering",to:0,transform:0,typeof:0,u1:0,u2:0,underlinePosition:1,"underline-position":"underlinePosition",underlineThickness:1,"underline-thickness":"underlineThickness",unicode:0,unicodeBidi:1,"unicode-bidi":"unicodeBidi",unicodeRange:1,"unicode-range":"unicodeRange",unitsPerEm:1,"units-per-em":"unitsPerEm",unselectable:0,vAlphabetic:1,"v-alphabetic":"vAlphabetic",values:0,vectorEffect:1,"vector-effect":"vectorEffect",version:0,vertAdvY:1,"vert-adv-y":"vertAdvY",vertOriginX:1,"vert-origin-x":"vertOriginX",vertOriginY:1,"vert-origin-y":"vertOriginY",vHanging:1,"v-hanging":"vHanging",vIdeographic:1,"v-ideographic":"vIdeographic",viewBox:1,viewTarget:1,visibility:0,vMathematical:1,"v-mathematical":"vMathematical",vocab:0,widths:0,wordSpacing:1,"word-spacing":"wordSpacing",writingMode:1,"writing-mode":"writingMode",x1:0,x2:0,x:0,xChannelSelector:1,xHeight:1,"x-height":"xHeight",xlinkActuate:1,"xlink:actuate":"xlinkActuate",xlinkArcrole:1,"xlink:arcrole":"xlinkArcrole",xlinkHref:1,"xlink:href":"xlinkHref",xlinkRole:1,"xlink:role":"xlinkRole",xlinkShow:1,"xlink:show":"xlinkShow",xlinkTitle:1,"xlink:title":"xlinkTitle",xlinkType:1,"xlink:type":"xlinkType",xmlBase:1,"xml:base":"xmlBase",xmlLang:1,"xml:lang":"xmlLang",xmlns:0,"xml:space":"xmlSpace",xmlnsXlink:1,"xmlns:xlink":"xmlnsXlink",xmlSpace:1,y1:0,y2:0,y:0,yChannelSelector:1,z:0,zoomAndPan:1};const Uo=0,Lt=1,Xr=2,Yr=3,fa=4,$o=5,Bo=6;function ed(e){return je.hasOwnProperty(e)?je[e]:null}function Oe(e,t,n,r,i,s,o){this.acceptsBooleans=t===Xr||t===Yr||t===fa,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}const je={},td=["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"];td.forEach(e=>{je[e]=new Oe(e,Uo,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(([e,t])=>{je[e]=new Oe(e,Lt,!1,t,null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(e=>{je[e]=new Oe(e,Xr,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(e=>{je[e]=new Oe(e,Xr,!1,e,null,!1,!1)});["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach(e=>{je[e]=new Oe(e,Yr,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(e=>{je[e]=new Oe(e,Yr,!0,e,null,!1,!1)});["capture","download"].forEach(e=>{je[e]=new Oe(e,fa,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(e=>{je[e]=new Oe(e,Bo,!1,e,null,!1,!1)});["rowSpan","start"].forEach(e=>{je[e]=new Oe(e,$o,!1,e.toLowerCase(),null,!1,!1)});const ha=/[\-\:]([a-z])/g,ma=e=>e[1].toUpperCase();["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach(e=>{const t=e.replace(ha,ma);je[t]=new Oe(t,Lt,!1,e,null,!1,!1)});["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach(e=>{const t=e.replace(ha,ma);je[t]=new Oe(t,Lt,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(e=>{const t=e.replace(ha,ma);je[t]=new Oe(t,Lt,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(e=>{je[e]=new Oe(e,Lt,!1,e.toLowerCase(),null,!1,!1)});const nd="xlinkHref";je[nd]=new Oe("xlinkHref",Lt,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(e=>{je[e]=new Oe(e,Lt,!1,e.toLowerCase(),null,!0,!0)});const{CAMELCASE:rd,SAME:id,possibleStandardNames:Ga}=qr,ad=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",sd=ad+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",od=RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+sd+"]*$")),ld=Object.keys(Ga).reduce((e,t)=>{const n=Ga[t];return n===id?e[t]=t:n===rd?e[t.toLowerCase()]=t:e[t]=n,e},{});rt.BOOLEAN=Yr;rt.BOOLEANISH_STRING=Xr;rt.NUMERIC=$o;rt.OVERLOADED_BOOLEAN=fa;rt.POSITIVE_NUMERIC=Bo;rt.RESERVED=Uo;rt.STRING=Lt;rt.getPropertyInfo=ed;rt.isCustomAttribute=od;rt.possibleStandardNames=ld;var pa={},ga={},Ka=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,cd=/\n/g,ud=/^\s*/,dd=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,fd=/^:\s*/,hd=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,md=/^[;\s]*/,pd=/^\s+|\s+$/g,gd=`
`,Qa="/",Za="*",Kt="",vd="comment",yd="declaration",bd=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(b){var f=b.match(cd);f&&(n+=f.length);var g=b.lastIndexOf(gd);r=~g?b.length-g:r+b.length}function s(){var b={line:n,column:r};return function(f){return f.position=new o(b),c(),f}}function o(b){this.start=b,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function l(b){var f=new Error(t.source+":"+n+":"+r+": "+b);if(f.reason=b,f.filename=t.source,f.line=n,f.column=r,f.source=e,!t.silent)throw f}function u(b){var f=b.exec(e);if(f){var g=f[0];return i(g),e=e.slice(g.length),f}}function c(){u(ud)}function d(b){var f;for(b=b||[];f=h();)f!==!1&&b.push(f);return b}function h(){var b=s();if(!(Qa!=e.charAt(0)||Za!=e.charAt(1))){for(var f=2;Kt!=e.charAt(f)&&(Za!=e.charAt(f)||Qa!=e.charAt(f+1));)++f;if(f+=2,Kt===e.charAt(f-1))return l("End of comment missing");var g=e.slice(2,f-2);return r+=2,i(g),e=e.slice(f),r+=2,b({type:vd,comment:g})}}function y(){var b=s(),f=u(dd);if(f){if(h(),!u(fd))return l("property missing ':'");var g=u(hd),S=b({type:yd,property:Ja(f[0].replace(Ka,Kt)),value:g?Ja(g[0].replace(Ka,Kt)):Kt});return u(md),S}}function w(){var b=[];d(b);for(var f;f=y();)f!==!1&&(b.push(f),d(b));return b}return c(),w()};function Ja(e){return e?e.replace(pd,Kt):Kt}var xd=se&&se.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ga,"__esModule",{value:!0});var wd=xd(bd);function Cd(e,t){var n=null;if(!e||typeof e!="string")return n;var r=(0,wd.default)(e),i=typeof t=="function";return r.forEach(function(s){if(s.type==="declaration"){var o=s.property,l=s.value;i?t(o,l,s):l&&(n=n||{},n[o]=l)}}),n}ga.default=Cd;var Gr={};Object.defineProperty(Gr,"__esModule",{value:!0});Gr.camelCase=void 0;var Sd=/^--[a-zA-Z0-9-]+$/,jd=/-([a-z])/g,Ed=/^[^-]+$/,Td=/^-(webkit|moz|ms|o|khtml)-/,_d=/^-(ms)-/,kd=function(e){return!e||Ed.test(e)||Sd.test(e)},Ad=function(e,t){return t.toUpperCase()},es=function(e,t){return"".concat(t,"-")},Md=function(e,t){return t===void 0&&(t={}),kd(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(_d,es):e=e.replace(Td,es),e.replace(jd,Ad))};Gr.camelCase=Md;var Id=se&&se.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Pd=Id(ga),Od=Gr;function Ei(e,t){var n={};return!e||typeof e!="string"||(0,Pd.default)(e,function(r,i){r&&i&&(n[(0,Od.camelCase)(r,t)]=i)}),n}Ei.default=Ei;var Rd=Ei;(function(e){var t=se&&se.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0}),e.returnFirstArg=e.canTextBeChildOfNode=e.ELEMENTS_WITH_NO_TEXT_CHILDREN=e.PRESERVE_CUSTOM_ATTRIBUTES=e.setStyleProp=e.isCustomComponent=void 0;var n=C,r=t(Rd),i=new Set(["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"]);function s(d,h){return d.includes("-")?!i.has(d):!!(h&&typeof h.is=="string")}e.isCustomComponent=s;var o={reactCompat:!0};function l(d,h){if(typeof d=="string"){if(!d.trim()){h.style={};return}try{h.style=(0,r.default)(d,o)}catch{h.style={}}}}e.setStyleProp=l,e.PRESERVE_CUSTOM_ATTRIBUTES=Number(n.version.split(".")[0])>=16,e.ELEMENTS_WITH_NO_TEXT_CHILDREN=new Set(["tr","tbody","thead","tfoot","colgroup","table","head","html","frameset"]);var u=function(d){return!e.ELEMENTS_WITH_NO_TEXT_CHILDREN.has(d.name)};e.canTextBeChildOfNode=u;var c=function(d){return d};e.returnFirstArg=c})(pa);Object.defineProperty(Wr,"__esModule",{value:!0});var An=rt,ts=pa,Nd=["checked","value"],Fd=["input","select","textarea"],Dd={reset:!0,submit:!0};function Ld(e,t){e===void 0&&(e={});var n={},r=!!(e.type&&Dd[e.type]);for(var i in e){var s=e[i];if((0,An.isCustomAttribute)(i)){n[i]=s;continue}var o=i.toLowerCase(),l=ns(o);if(l){var u=(0,An.getPropertyInfo)(l);switch(Nd.includes(l)&&Fd.includes(t)&&!r&&(l=ns("default"+o)),n[l]=s,u&&u.type){case An.BOOLEAN:n[l]=!0;break;case An.OVERLOADED_BOOLEAN:s===""&&(n[l]=!0);break}continue}ts.PRESERVE_CUSTOM_ATTRIBUTES&&(n[i]=s)}return(0,ts.setStyleProp)(e.style,n),n}Wr.default=Ld;function ns(e){return An.possibleStandardNames[e]}var va={},Vd=se&&se.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(va,"__esModule",{value:!0});var li=C,Ud=Vd(Wr),Pn=pa,$d={cloneElement:li.cloneElement,createElement:li.createElement,isValidElement:li.isValidElement};function zo(e,t){t===void 0&&(t={});for(var n=[],r=typeof t.replace=="function",i=t.transform||Pn.returnFirstArg,s=t.library||$d,o=s.cloneElement,l=s.createElement,u=s.isValidElement,c=e.length,d=0;d<c;d++){var h=e[d];if(r){var y=t.replace(h,d);if(u(y)){c>1&&(y=o(y,{key:y.key||d})),n.push(i(y,h,d));continue}}if(h.type==="text"){var w=!h.data.trim().length;if(w&&h.parent&&!(0,Pn.canTextBeChildOfNode)(h.parent)||t.trim&&w)continue;n.push(i(h.data,h,d));continue}var b=h,f={};Bd(b)?((0,Pn.setStyleProp)(b.attribs.style,b.attribs),f=b.attribs):b.attribs&&(f=(0,Ud.default)(b.attribs,b.name));var g=void 0;switch(h.type){case"script":case"style":h.children[0]&&(f.dangerouslySetInnerHTML={__html:h.children[0].data});break;case"tag":h.name==="textarea"&&h.children[0]?f.defaultValue=h.children[0].data:h.children&&h.children.length&&(g=zo(h.children,t));break;default:continue}c>1&&(f.key=d),n.push(i(l(h.name,f,g),h,d))}return n.length===1?n[0]:n}va.default=zo;function Bd(e){return Pn.PRESERVE_CUSTOM_ATTRIBUTES&&e.type==="tag"&&(0,Pn.isCustomComponent)(e.name,e.attribs)}var Ho={},ee={},Vt=se&&se.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),On=se&&se.__assign||function(){return On=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},On.apply(this,arguments)};Object.defineProperty(ee,"__esModule",{value:!0});ee.cloneNode=ee.hasChildren=ee.isDocument=ee.isDirective=ee.isComment=ee.isText=ee.isCDATA=ee.isTag=ee.Element=ee.Document=ee.CDATA=ee.NodeWithChildren=ee.ProcessingInstruction=ee.Comment=ee.Text=ee.DataNode=ee.Node=void 0;var Fe=er,ya=function(){function e(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent},set:function(t){this.parent=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return this.prev},set:function(t){this.prev=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return this.next},set:function(t){this.next=t},enumerable:!1,configurable:!0}),e.prototype.cloneNode=function(t){return t===void 0&&(t=!1),ba(this,t)},e}();ee.Node=ya;var Kr=function(e){Vt(t,e);function t(n){var r=e.call(this)||this;return r.data=n,r}return Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.data},set:function(n){this.data=n},enumerable:!1,configurable:!0}),t}(ya);ee.DataNode=Kr;var Wo=function(e){Vt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=Fe.ElementType.Text,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),t}(Kr);ee.Text=Wo;var qo=function(e){Vt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=Fe.ElementType.Comment,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),t}(Kr);ee.Comment=qo;var Xo=function(e){Vt(t,e);function t(n,r){var i=e.call(this,r)||this;return i.name=n,i.type=Fe.ElementType.Directive,i}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),t}(Kr);ee.ProcessingInstruction=Xo;var Qr=function(e){Vt(t,e);function t(n){var r=e.call(this)||this;return r.children=n,r}return Object.defineProperty(t.prototype,"firstChild",{get:function(){var n;return(n=this.children[0])!==null&&n!==void 0?n:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.children},set:function(n){this.children=n},enumerable:!1,configurable:!0}),t}(ya);ee.NodeWithChildren=Qr;var Yo=function(e){Vt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=Fe.ElementType.CDATA,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),t}(Qr);ee.CDATA=Yo;var Go=function(e){Vt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=Fe.ElementType.Root,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),t}(Qr);ee.Document=Go;var Ko=function(e){Vt(t,e);function t(n,r,i,s){i===void 0&&(i=[]),s===void 0&&(s=n==="script"?Fe.ElementType.Script:n==="style"?Fe.ElementType.Style:Fe.ElementType.Tag);var o=e.call(this,i)||this;return o.name=n,o.attribs=r,o.type=s,o}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tagName",{get:function(){return this.name},set:function(n){this.name=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){var n=this;return Object.keys(this.attribs).map(function(r){var i,s;return{name:r,value:n.attribs[r],namespace:(i=n["x-attribsNamespace"])===null||i===void 0?void 0:i[r],prefix:(s=n["x-attribsPrefix"])===null||s===void 0?void 0:s[r]}})},enumerable:!1,configurable:!0}),t}(Qr);ee.Element=Ko;function Qo(e){return(0,Fe.isTag)(e)}ee.isTag=Qo;function Zo(e){return e.type===Fe.ElementType.CDATA}ee.isCDATA=Zo;function Jo(e){return e.type===Fe.ElementType.Text}ee.isText=Jo;function el(e){return e.type===Fe.ElementType.Comment}ee.isComment=el;function tl(e){return e.type===Fe.ElementType.Directive}ee.isDirective=tl;function nl(e){return e.type===Fe.ElementType.Root}ee.isDocument=nl;function zd(e){return Object.prototype.hasOwnProperty.call(e,"children")}ee.hasChildren=zd;function ba(e,t){t===void 0&&(t=!1);var n;if(Jo(e))n=new Wo(e.data);else if(el(e))n=new qo(e.data);else if(Qo(e)){var r=t?ci(e.children):[],i=new Ko(e.name,On({},e.attribs),r);r.forEach(function(u){return u.parent=i}),e.namespace!=null&&(i.namespace=e.namespace),e["x-attribsNamespace"]&&(i["x-attribsNamespace"]=On({},e["x-attribsNamespace"])),e["x-attribsPrefix"]&&(i["x-attribsPrefix"]=On({},e["x-attribsPrefix"])),n=i}else if(Zo(e)){var r=t?ci(e.children):[],s=new Yo(r);r.forEach(function(c){return c.parent=s}),n=s}else if(nl(e)){var r=t?ci(e.children):[],o=new Go(r);r.forEach(function(c){return c.parent=o}),e["x-mode"]&&(o["x-mode"]=e["x-mode"]),n=o}else if(tl(e)){var l=new Xo(e.name,e.data);e["x-name"]!=null&&(l["x-name"]=e["x-name"],l["x-publicId"]=e["x-publicId"],l["x-systemId"]=e["x-systemId"]),n=l}else throw new Error("Not implemented yet: ".concat(e.type));return n.startIndex=e.startIndex,n.endIndex=e.endIndex,e.sourceCodeLocation!=null&&(n.sourceCodeLocation=e.sourceCodeLocation),n}ee.cloneNode=ba;function ci(e){for(var t=e.map(function(r){return ba(r,!0)}),n=1;n<t.length;n++)t[n].prev=t[n-1],t[n-1].next=t[n];return t}(function(e){var t=se&&se.__createBinding||(Object.create?function(l,u,c,d){d===void 0&&(d=c);var h=Object.getOwnPropertyDescriptor(u,c);(!h||("get"in h?!u.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return u[c]}}),Object.defineProperty(l,d,h)}:function(l,u,c,d){d===void 0&&(d=c),l[d]=u[c]}),n=se&&se.__exportStar||function(l,u){for(var c in l)c!=="default"&&!Object.prototype.hasOwnProperty.call(u,c)&&t(u,l,c)};Object.defineProperty(e,"__esModule",{value:!0}),e.DomHandler=void 0;var r=er,i=ee;n(ee,e);var s={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},o=function(){function l(u,c,d){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof c=="function"&&(d=c,c=s),typeof u=="object"&&(c=u,u=void 0),this.callback=u??null,this.options=c??s,this.elementCB=d??null}return l.prototype.onparserinit=function(u){this.parser=u},l.prototype.onreset=function(){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},l.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},l.prototype.onerror=function(u){this.handleCallback(u)},l.prototype.onclosetag=function(){this.lastNode=null;var u=this.tagStack.pop();this.options.withEndIndices&&(u.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(u)},l.prototype.onopentag=function(u,c){var d=this.options.xmlMode?r.ElementType.Tag:void 0,h=new i.Element(u,c,void 0,d);this.addNode(h),this.tagStack.push(h)},l.prototype.ontext=function(u){var c=this.lastNode;if(c&&c.type===r.ElementType.Text)c.data+=u,this.options.withEndIndices&&(c.endIndex=this.parser.endIndex);else{var d=new i.Text(u);this.addNode(d),this.lastNode=d}},l.prototype.oncomment=function(u){if(this.lastNode&&this.lastNode.type===r.ElementType.Comment){this.lastNode.data+=u;return}var c=new i.Comment(u);this.addNode(c),this.lastNode=c},l.prototype.oncommentend=function(){this.lastNode=null},l.prototype.oncdatastart=function(){var u=new i.Text(""),c=new i.CDATA([u]);this.addNode(c),u.parent=c,this.lastNode=u},l.prototype.oncdataend=function(){this.lastNode=null},l.prototype.onprocessinginstruction=function(u,c){var d=new i.ProcessingInstruction(u,c);this.addNode(d)},l.prototype.handleCallback=function(u){if(typeof this.callback=="function")this.callback(u,this.dom);else if(u)throw u},l.prototype.addNode=function(u){var c=this.tagStack[this.tagStack.length-1],d=c.children[c.children.length-1];this.options.withStartIndices&&(u.startIndex=this.parser.startIndex),this.options.withEndIndices&&(u.endIndex=this.parser.endIndex),c.children.push(u),d&&(u.prev=d,d.next=u),u.parent=c,this.lastNode=null},l}();e.DomHandler=o,e.default=o})(Ho);(function(e){var t=se&&se.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(e,"__esModule",{value:!0}),e.htmlToDOM=e.domToReact=e.attributesToProps=e.Text=e.ProcessingInstruction=e.Element=e.Comment=void 0;var n=t(la);e.htmlToDOM=n.default;var r=t(Wr);e.attributesToProps=r.default;var i=t(va);e.domToReact=i.default;var s=Ho;Object.defineProperty(e,"Comment",{enumerable:!0,get:function(){return s.Comment}}),Object.defineProperty(e,"Element",{enumerable:!0,get:function(){return s.Element}}),Object.defineProperty(e,"ProcessingInstruction",{enumerable:!0,get:function(){return s.ProcessingInstruction}}),Object.defineProperty(e,"Text",{enumerable:!0,get:function(){return s.Text}});var o={lowerCaseAttributeNames:!1};function l(u,c){if(typeof u!="string")throw new TypeError("First argument must be a string");return u?(0,i.default)((0,n.default)(u,(c==null?void 0:c.htmlparser2)||o),c):[]}e.default=l})(So);const rs=zi(So),Hd=rs.default||rs;function Te(){return Te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Te.apply(this,arguments)}function xa(e,t){if(e==null)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)t.indexOf(n=s[r])>=0||(i[n]=e[n]);return i}function xr(e){var t=C.useRef({fn:e,curr:void 0}).current;if(t.fn=e,!t.curr){var n=Object.create(null);Object.keys(e).forEach(function(r){n[r]=function(){var i;return(i=t.fn[r]).call.apply(i,[t.fn].concat([].slice.call(arguments)))}}),t.curr=n}return t.curr}function Ti(e){return C.useReducer(function(t,n){return Te({},t,typeof n=="function"?n(t):n)},e)}C.createContext(void 0);var xt=typeof window<"u"&&"ontouchstart"in window,_i=function(e,t,n){return Math.max(Math.min(e,n),t)},fr=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=0),_i(e,1*(1-n),Math.max(6,t)*(1+n))},ki=typeof window>"u"||/ServerSideRendering/.test(navigator&&navigator.userAgent)?C.useEffect:C.useLayoutEffect;function fn(e,t,n){var r=C.useRef(t);r.current=t,C.useEffect(function(){function i(s){r.current(s)}return e&&window.addEventListener(e,i,n),function(){e&&window.removeEventListener(e,i)}},[e])}var Wd=["container"];function qd(e){var t=e.container,n=t===void 0?document.body:t,r=xa(e,Wd);return Bs.createPortal(te.createElement("div",Te({},r)),n)}function Xd(e){return te.createElement("svg",Te({width:"44",height:"44",viewBox:"0 0 768 768"},e),te.createElement("path",{d:"M607.5 205.5l-178.5 178.5 178.5 178.5-45 45-178.5-178.5-178.5 178.5-45-45 178.5-178.5-178.5-178.5 45-45 178.5 178.5 178.5-178.5z"}))}function Yd(e){return te.createElement("svg",Te({width:"44",height:"44",viewBox:"0 0 768 768"},e),te.createElement("path",{d:"M640.5 352.5v63h-390l178.5 180-45 45-256.5-256.5 256.5-256.5 45 45-178.5 180h390z"}))}function Gd(e){return te.createElement("svg",Te({width:"44",height:"44",viewBox:"0 0 768 768"},e),te.createElement("path",{d:"M384 127.5l256.5 256.5-256.5 256.5-45-45 178.5-180h-390v-63h390l-178.5-180z"}))}function Kd(){return C.useEffect(function(){var e=document.body.style,t=e.overflow;return e.overflow="hidden",function(){e.overflow=t}},[]),null}function is(e){var t=e.touches[0],n=t.clientX,r=t.clientY;if(e.touches.length>=2){var i=e.touches[1],s=i.clientX,o=i.clientY;return[(n+s)/2,(r+o)/2,Math.sqrt(Math.pow(s-n,2)+Math.pow(o-r,2))]}return[n,r,0]}var It=function(e,t,n,r){var i=n*t,s=(i-r)/2,o=void 0,l=e;return i<=r?(o=1,l=0):e>0&&s-e<=0?(o=2,l=s):e<0&&s+e<=0&&(o=3,l=-s),[o,l]};function ui(e,t,n,r,i,s,o,l,u,c){o===void 0&&(o=innerWidth/2),l===void 0&&(l=innerHeight/2),u===void 0&&(u=0),c===void 0&&(c=0);var d=It(e,s,n,innerWidth)[0],h=It(t,s,r,innerHeight),y=innerWidth/2,w=innerHeight/2;return{x:o-s/i*(o-(y+e))-y+(r/n>=3&&n*s===innerWidth?0:d?u/2:u),y:l-s/i*(l-(w+t))-w+(h[0]?c/2:c),lastCX:o,lastCY:l}}function Ai(e,t,n){var r=e%180!=0;return r?[n,t,r]:[t,n,r]}function di(e,t,n){var r=Ai(n,innerWidth,innerHeight),i=r[0],s=r[1],o=0,l=i,u=s,c=e/t*s,d=t/e*i;return e<i&&t<s?(l=e,u=t):e<i&&t>=s?l=c:e>=i&&t<s||e/t>i/s?u=d:t/e>=3&&!r[2]?o=((u=d)-s)/2:l=c,{width:l,height:u,x:0,y:o,pause:!0}}function hr(e,t){var n=t.leading,r=n!==void 0&&n,i=t.maxWait,s=t.wait,o=s===void 0?i||0:s,l=C.useRef(e);l.current=e;var u=C.useRef(0),c=C.useRef(),d=function(){return c.current&&clearTimeout(c.current)},h=C.useCallback(function(){var y=[].slice.call(arguments),w=Date.now();function b(){u.current=w,d(),l.current.apply(null,y)}var f=u.current,g=w-f;if(f===0&&(r&&b(),u.current=w),i!==void 0){if(g>i)return void b()}else g<o&&(u.current=w);d(),c.current=setTimeout(function(){b(),u.current=0},o)},[o,i,r]);return h.cancel=d,h}var as=function(e,t,n){return Qt(e,t,n,100,function(r){return r},function(){return Qt(t,e,n)})},Qd=function(e){return 1-Math.pow(1-e,4)};function Qt(e,t,n,r,i,s){r===void 0&&(r=400),i===void 0&&(i=Qd);var o=t-e;if(o!==0){var l=Date.now(),u=0,c=function(){var h=Math.min(1,(Date.now()-l)/r);n(e+i(h)*o)&&h<1?d():(cancelAnimationFrame(u),h>=1&&s&&s())};d()}function d(){u=requestAnimationFrame(c)}}var Zd={T:0,L:0,W:0,H:0,FIT:void 0},rl=function(){var e=C.useRef(!1);return C.useEffect(function(){return e.current=!0,function(){e.current=!1}},[]),e},Jd=["className"];function ef(e){var t=e.className,n=xa(e,Jd);return te.createElement("div",Te({className:"PhotoView__Spinner "+t},n),te.createElement("svg",{viewBox:"0 0 32 32",width:"36",height:"36",fill:"white"},te.createElement("path",{opacity:".25",d:"M16 0 A16 16 0 0 0 16 32 A16 16 0 0 0 16 0 M16 4 A12 12 0 0 1 16 28 A12 12 0 0 1 16 4"}),te.createElement("path",{d:"M16 0 A16 16 0 0 1 32 16 L28 16 A12 12 0 0 0 16 4z"})))}var tf=["src","loaded","broken","className","onPhotoLoad","loadingElement","brokenElement"];function nf(e){var t=e.src,n=e.loaded,r=e.broken,i=e.className,s=e.onPhotoLoad,o=e.loadingElement,l=e.brokenElement,u=xa(e,tf),c=rl();return t&&!r?te.createElement(te.Fragment,null,te.createElement("img",Te({className:"PhotoView__Photo"+(i?" "+i:""),src:t,onLoad:function(d){var h=d.target;c.current&&s({loaded:!0,naturalWidth:h.naturalWidth,naturalHeight:h.naturalHeight})},onError:function(){c.current&&s({broken:!0})},alt:""},u)),!n&&(te.createElement("span",{className:"PhotoView__icon"},o)||te.createElement(ef,{className:"PhotoView__icon"}))):l?te.createElement("span",{className:"PhotoView__icon"},typeof l=="function"?l({src:t}):l):null}var rf={naturalWidth:void 0,naturalHeight:void 0,width:void 0,height:void 0,loaded:void 0,broken:!1,x:0,y:0,touched:!1,maskTouched:!1,rotate:0,scale:1,CX:0,CY:0,lastX:0,lastY:0,lastCX:0,lastCY:0,lastScale:1,touchTime:0,touchLength:0,pause:!0,stopRaf:!0,reach:void 0};function af(e){var t=e.item,n=t.src,r=t.render,i=t.width,s=i===void 0?0:i,o=t.height,l=o===void 0?0:o,u=t.originRef,c=e.visible,d=e.speed,h=e.easing,y=e.wrapClassName,w=e.className,b=e.style,f=e.loadingElement,g=e.brokenElement,S=e.onPhotoTap,T=e.onMaskTap,p=e.onReachMove,x=e.onReachUp,E=e.onPhotoResize,k=e.isActive,M=e.expose,B=Ti(rf),I=B[0],z=B[1],ie=C.useRef(0),fe=rl(),_e=I.naturalWidth,pe=_e===void 0?s:_e,de=I.naturalHeight,ue=de===void 0?l:de,qe=I.width,ke=qe===void 0?s:qe,St=I.height,v=St===void 0?l:St,m=I.loaded,P=m===void 0?!n:m,O=I.broken,N=I.x,L=I.y,D=I.touched,F=I.stopRaf,V=I.maskTouched,A=I.rotate,R=I.scale,K=I.CX,Q=I.CY,oe=I.lastX,W=I.lastY,Y=I.lastCX,Ee=I.lastCY,he=I.lastScale,Ce=I.touchTime,Ve=I.touchLength,me=I.pause,dt=I.reach,Ut=xr({onScale:function(j){return Xe(fr(j))},onRotate:function(j){A!==j&&(M({rotate:j}),z(Te({rotate:j},di(pe,ue,j))))}});function Xe(j,U,ae){R!==j&&(M({scale:j}),z(Te({scale:j},ui(N,L,ke,v,R,j,U,ae),j<=1&&{x:0,y:0})))}var $t=hr(function(j,U,ae){if(ae===void 0&&(ae=0),(D||V)&&k){var Ht=Ai(A,ke,v),ft=Ht[0],Ge=Ht[1];if(ae===0&&ie.current===0){var Se=Math.abs(j-K)<=20,De=Math.abs(U-Q)<=20;if(Se&&De)return void z({lastCX:j,lastCY:U});ie.current=Se?U>Q?3:2:1}var Wt=j-Y,qt=U-Ee,Ke=void 0;if(ae===0){var Xt=It(Wt+oe,R,ft,innerWidth)[0],an=It(qt+W,R,Ge,innerHeight);Ke=function(Tt,mt,pt,st){return mt&&Tt===1||st==="x"?"x":pt&&Tt>1||st==="y"?"y":void 0}(ie.current,Xt,an[0],dt),Ke!==void 0&&p(Ke,j,U,R)}if(Ke==="x"||V)return void z({reach:"x"});var ht=fr(R+(ae-Ve)/100/2*R,pe/ke,.2);M({scale:ht}),z(Te({touchLength:ae,reach:Ke,scale:ht},ui(N,L,ke,v,R,ht,j,U,Wt,qt)))}},{maxWait:8});function Bt(j){return!F&&!D&&(fe.current&&z(Te({},j,{pause:c})),fe.current)}var Ye,Ue,it,jt,zt,Et,tn,Ae,ir=(zt=function(j){return Bt({x:j})},Et=function(j){return Bt({y:j})},tn=function(j){return fe.current&&(M({scale:j}),z({scale:j})),!D&&fe.current},Ae=xr({X:function(j){return zt(j)},Y:function(j){return Et(j)},S:function(j){return tn(j)}}),function(j,U,ae,Ht,ft,Ge,Se,De,Wt,qt,Ke){var Xt=Ai(qt,ft,Ge),an=Xt[0],ht=Xt[1],Tt=It(j,De,an,innerWidth),mt=Tt[0],pt=Tt[1],st=It(U,De,ht,innerHeight),sn=st[0],sr=st[1],on=Date.now()-Ke;if(on>=200||De!=Se||Math.abs(Wt-Se)>1){var _t=ui(j,U,ft,Ge,Se,De),gt=_t.x,Yt=_t.y,$e=mt?pt:gt!==j?gt:null,ln=sn?sr:Yt!==U?Yt:null;return $e!==null&&Qt(j,$e,Ae.X),ln!==null&&Qt(U,ln,Ae.Y),void(De!=Se&&Qt(Se,De,Ae.S))}var Gt=(j-ae)/on,kt=(U-Ht)/on,At=Math.sqrt(Math.pow(Gt,2)+Math.pow(kt,2)),vt=!1,yt=!1;(function(Qe,Me){var Ie=Qe,bt=0,Ze=void 0,Be=0,cn=function(jn){Ze||(Ze=jn);var En=jn-Ze,Na=Math.sign(Qe),Fa=-.001*Na,Da=Math.sign(-Ie)*Math.pow(Ie,2)*2e-4,Ll=Ie*En+(Fa+Da)*Math.pow(En,2)/2;bt+=Ll,Ze=jn,Na*(Ie+=(Fa+Da)*En)<=0?ze():Me(bt)?ot():ze()};function ot(){Be=requestAnimationFrame(cn)}function ze(){cancelAnimationFrame(Be)}ot()})(At,function(Qe){var Me=j+Qe*(Gt/At),Ie=U+Qe*(kt/At),bt=It(Me,Se,an,innerWidth),Ze=bt[0],Be=bt[1],cn=It(Ie,Se,ht,innerHeight),ot=cn[0],ze=cn[1];if(Ze&&!vt&&(vt=!0,mt?Qt(Me,Be,Ae.X):as(Be,Me+(Me-Be),Ae.X)),ot&&!yt&&(yt=!0,sn?Qt(Ie,ze,Ae.Y):as(ze,Ie+(Ie-ze),Ae.Y)),vt&&yt)return!1;var jn=vt||Ae.X(Be),En=yt||Ae.Y(ze);return jn&&En})}),nn=(Ye=S,Ue=function(j,U){dt||Xe(R!==1?1:Math.max(2,pe/ke),j,U)},it=C.useRef(0),jt=hr(function(){it.current=0,Ye.apply(void 0,[].slice.call(arguments))},{wait:300}),function(){var j=[].slice.call(arguments);it.current+=1,jt.apply(void 0,j),it.current>=2&&(jt.cancel(),it.current=0,Ue.apply(void 0,j))});function rn(j,U){if(ie.current=0,(D||V)&&k){z({touched:!1,maskTouched:!1,pause:!1,stopRaf:!1,reach:void 0});var ae=fr(R,pe/ke);if(ir(N,L,oe,W,ke,v,R,ae,he,A,Ce),x(j,U),K===j&&Q===U){if(D)return void nn(j,U);V&&T(j,U)}}}function Sn(j,U,ae){ae===void 0&&(ae=0),z({touched:!0,CX:j,CY:U,lastCX:j,lastCY:U,lastX:N,lastY:L,lastScale:R,touchLength:ae,touchTime:Date.now()})}function ar(j){z({maskTouched:!0,CX:j.clientX,CY:j.clientY,lastX:N,lastY:L})}fn(xt?void 0:"mousemove",function(j){j.preventDefault(),$t(j.clientX,j.clientY)}),fn(xt?void 0:"mouseup",function(j){rn(j.clientX,j.clientY)}),fn(xt?"touchmove":void 0,function(j){j.preventDefault();var U=is(j);$t.apply(void 0,U)},{passive:!1}),fn(xt?"touchend":void 0,function(j){var U=j.changedTouches[0];rn(U.clientX,U.clientY)},{passive:!1}),fn("resize",hr(function(){P&&!D&&(z(di(pe,ue,A)),E())},{maxWait:8})),ki(function(){k&&M(Te({scale:R,rotate:A},Ut))},[k]);var at=function(j,U,ae,Ht,ft,Ge,Se,De,Wt,qt){var Ke=function(gt,Yt,$e,ln,Gt){var kt=C.useRef(!1),At=Ti({lead:!0,scale:$e}),vt=At[0],yt=vt.lead,Qe=vt.scale,Me=At[1],Ie=hr(function(bt){try{return Gt(!0),Me({lead:!1,scale:bt}),Promise.resolve()}catch(Ze){return Promise.reject(Ze)}},{wait:ln});return ki(function(){kt.current?(Gt(!1),Me({lead:!0}),Ie($e)):kt.current=!0},[$e]),yt?[gt*Qe,Yt*Qe,$e/Qe]:[gt*$e,Yt*$e,1]}(Ge,Se,De,Wt,qt),Xt=Ke[0],an=Ke[1],ht=Ke[2],Tt=function(gt,Yt,$e,ln,Gt){var kt=C.useState(Zd),At=kt[0],vt=kt[1],yt=C.useState(0),Qe=yt[0],Me=yt[1],Ie=C.useRef(),bt=xr({OK:function(){return gt&&Me(4)}});function Ze(Be){Gt(!1),Me(Be)}return C.useEffect(function(){if(Ie.current||(Ie.current=Date.now()),$e){if(function(Be,cn){var ot=Be&&Be.current;if(ot&&ot.nodeType===1){var ze=ot.getBoundingClientRect();cn({T:ze.top,L:ze.left,W:ze.width,H:ze.height,FIT:ot.tagName==="IMG"?getComputedStyle(ot).objectFit:void 0})}}(Yt,vt),gt)return Date.now()-Ie.current<250?(Me(1),requestAnimationFrame(function(){Me(2),requestAnimationFrame(function(){return Ze(3)})}),void setTimeout(bt.OK,ln)):void Me(4);Ze(5)}},[gt,$e]),[Qe,At]}(j,U,ae,Wt,qt),mt=Tt[0],pt=Tt[1],st=pt.W,sn=pt.FIT,sr=innerWidth/2,on=innerHeight/2,_t=mt<3||mt>4;return[_t?st?pt.L:sr:Ht+(sr-Ge*De/2),_t?st?pt.T:on:ft+(on-Se*De/2),Xt,_t&&sn?Xt*(pt.H/st):an,mt===0?ht:_t?st/(Ge*De)||.01:ht,_t?sn?1:0:1,mt,sn]}(c,u,P,N,L,ke,v,R,d,function(j){return z({pause:j})}),G=at[4],ce=at[6],be="transform "+d+"ms "+h,ye={className:w,onMouseDown:xt?void 0:function(j){j.stopPropagation(),j.button===0&&Sn(j.clientX,j.clientY,0)},onTouchStart:xt?function(j){j.stopPropagation(),Sn.apply(void 0,is(j))}:void 0,onWheel:function(j){if(!dt){var U=fr(R-j.deltaY/100/2,pe/ke);z({stopRaf:!0}),Xe(U,j.clientX,j.clientY)}},style:{width:at[2],height:at[3],opacity:at[5],objectFit:ce===4?void 0:at[7],transform:A?"rotate("+A+"deg)":void 0,transition:ce>2?be+", opacity "+d+"ms ease, height "+(ce<4?d/2:ce>4?d:0)+"ms "+h:void 0}};return te.createElement("div",{className:"PhotoView__PhotoWrap"+(y?" "+y:""),style:b,onMouseDown:!xt&&k?ar:void 0,onTouchStart:xt&&k?function(j){return ar(j.touches[0])}:void 0},te.createElement("div",{className:"PhotoView__PhotoBox",style:{transform:"matrix("+G+", 0, 0, "+G+", "+at[0]+", "+at[1]+")",transition:D||me?void 0:be,willChange:k?"transform":void 0}},n?te.createElement(nf,Te({src:n,loaded:P,broken:O},ye,{onPhotoLoad:function(j){z(Te({},j,j.loaded&&di(j.naturalWidth||0,j.naturalHeight||0,A)))},loadingElement:f,brokenElement:g})):r&&r({attrs:ye,scale:G,rotate:A})))}var ss={x:0,touched:!1,pause:!1,lastCX:void 0,lastCY:void 0,bg:void 0,lastBg:void 0,overlay:!0,minimal:!0,scale:1,rotate:0};function sf(e){var t=e.loop,n=t===void 0?3:t,r=e.speed,i=e.easing,s=e.photoClosable,o=e.maskClosable,l=o===void 0||o,u=e.maskOpacity,c=u===void 0?1:u,d=e.pullClosable,h=d===void 0||d,y=e.bannerVisible,w=y===void 0||y,b=e.overlayRender,f=e.toolbarRender,g=e.className,S=e.maskClassName,T=e.photoClassName,p=e.photoWrapClassName,x=e.loadingElement,E=e.brokenElement,k=e.images,M=e.index,B=M===void 0?0:M,I=e.onIndexChange,z=e.visible,ie=e.onClose,fe=e.afterClose,_e=e.portalContainer,pe=Ti(ss),de=pe[0],ue=pe[1],qe=C.useState(0),ke=qe[0],St=qe[1],v=de.x,m=de.touched,P=de.pause,O=de.lastCX,N=de.lastCY,L=de.bg,D=L===void 0?c:L,F=de.lastBg,V=de.overlay,A=de.minimal,R=de.scale,K=de.rotate,Q=de.onScale,oe=de.onRotate,W=e.hasOwnProperty("index"),Y=W?B:ke,Ee=W?I:St,he=C.useRef(Y),Ce=k.length,Ve=k[Y],me=typeof n=="boolean"?n:Ce>n,dt=function(G,ce){var be=C.useReducer(function(ae){return!ae},!1)[1],ye=C.useRef(0),j=function(ae,Ht){var ft=C.useRef(ae);function Ge(Se){ft.current=Se}return C.useMemo(function(){(function(Se){G?(Se(G),ye.current=1):ye.current=2})(Ge)},[ae]),[ft.current,Ge]}(G),U=j[1];return[j[0],ye.current,function(){be(),ye.current===2&&(U(!1),ce&&ce()),ye.current=0}]}(z,fe),Ut=dt[0],Xe=dt[1],$t=dt[2];ki(function(){if(Ut)return ue({pause:!0,x:Y*-(innerWidth+20)}),void(he.current=Y);ue(ss)},[Ut]);var Bt=xr({close:function(G){oe&&oe(0),ue({overlay:!0,lastBg:D}),ie(G)},changeIndex:function(G,ce){ce===void 0&&(ce=!1);var be=me?he.current+(G-Y):G,ye=Ce-1,j=_i(be,0,ye),U=me?be:j,ae=innerWidth+20;ue({touched:!1,lastCX:void 0,lastCY:void 0,x:-ae*U,pause:ce}),he.current=U,Ee&&Ee(me?G<0?ye:G>ye?0:G:j)}}),Ye=Bt.close,Ue=Bt.changeIndex;function it(G){return G?Ye():ue({overlay:!V})}function jt(){ue({x:-(innerWidth+20)*Y,lastCX:void 0,lastCY:void 0,pause:!0}),he.current=Y}function zt(G,ce,be,ye){G==="x"?function(j){if(O!==void 0){var U=j-O,ae=U;!me&&(Y===0&&U>0||Y===Ce-1&&U<0)&&(ae=U/2),ue({touched:!0,lastCX:O,x:-(innerWidth+20)*he.current+ae,pause:!1})}else ue({touched:!0,lastCX:j,x:v,pause:!1})}(ce):G==="y"&&function(j,U){if(N!==void 0){var ae=c===null?null:_i(c,.01,c-Math.abs(j-N)/100/4);ue({touched:!0,lastCY:N,bg:U===1?ae:c,minimal:U===1})}else ue({touched:!0,lastCY:j,bg:D,minimal:!0})}(be,ye)}function Et(G,ce){var be=G-(O??G),ye=ce-(N??ce),j=!1;if(be<-40)Ue(Y+1);else if(be>40)Ue(Y-1);else{var U=-(innerWidth+20)*he.current;Math.abs(ye)>100&&A&&h&&(j=!0,Ye()),ue({touched:!1,x:U,lastCX:void 0,lastCY:void 0,bg:c,overlay:!!j||V})}}fn("keydown",function(G){if(z)switch(G.key){case"ArrowLeft":Ue(Y-1,!0);break;case"ArrowRight":Ue(Y+1,!0);break;case"Escape":Ye()}});var tn=function(G,ce,be){return C.useMemo(function(){var ye=G.length;return be?G.concat(G).concat(G).slice(ye+ce-1,ye+ce+2):G.slice(Math.max(ce-1,0),Math.min(ce+2,ye+1))},[G,ce,be])}(k,Y,me);if(!Ut)return null;var Ae=V&&!Xe,ir=z?D:F,nn=Q&&oe&&{images:k,index:Y,visible:z,onClose:Ye,onIndexChange:Ue,overlayVisible:Ae,overlay:Ve&&Ve.overlay,scale:R,rotate:K,onScale:Q,onRotate:oe},rn=r?r(Xe):400,Sn=i?i(Xe):"cubic-bezier(0.25, 0.8, 0.25, 1)",ar=r?r(3):600,at=i?i(3):"cubic-bezier(0.25, 0.8, 0.25, 1)";return te.createElement(qd,{className:"PhotoView-Portal"+(Ae?"":" PhotoView-Slider__clean")+(z?"":" PhotoView-Slider__willClose")+(g?" "+g:""),role:"dialog",onClick:function(G){return G.stopPropagation()},container:_e},z&&te.createElement(Kd,null),te.createElement("div",{className:"PhotoView-Slider__Backdrop"+(S?" "+S:"")+(Xe===1?" PhotoView-Slider__fadeIn":Xe===2?" PhotoView-Slider__fadeOut":""),style:{background:ir?"rgba(0, 0, 0, "+ir+")":void 0,transitionTimingFunction:Sn,transitionDuration:(m?0:rn)+"ms",animationDuration:rn+"ms"},onAnimationEnd:$t}),w&&te.createElement("div",{className:"PhotoView-Slider__BannerWrap"},te.createElement("div",{className:"PhotoView-Slider__Counter"},Y+1," / ",Ce),te.createElement("div",{className:"PhotoView-Slider__BannerRight"},f&&nn&&f(nn),te.createElement(Xd,{className:"PhotoView-Slider__toolbarIcon",onClick:Ye}))),tn.map(function(G,ce){var be=me||Y!==0?he.current-1+ce:Y+ce;return te.createElement(af,{key:me?G.key+"/"+G.src+"/"+be:G.key,item:G,speed:rn,easing:Sn,visible:z,onReachMove:zt,onReachUp:Et,onPhotoTap:function(){return it(s)},onMaskTap:function(){return it(l)},wrapClassName:p,className:T,style:{left:(innerWidth+20)*be+"px",transform:"translate3d("+v+"px, 0px, 0)",transition:m||P?void 0:"transform "+ar+"ms "+at},loadingElement:x,brokenElement:E,onPhotoResize:jt,isActive:he.current===be,expose:ue})}),!xt&&w&&te.createElement(te.Fragment,null,(me||Y!==0)&&te.createElement("div",{className:"PhotoView-Slider__ArrowLeft",onClick:function(){return Ue(Y-1,!0)}},te.createElement(Yd,null)),(me||Y+1<Ce)&&te.createElement("div",{className:"PhotoView-Slider__ArrowRight",onClick:function(){return Ue(Y+1,!0)}},te.createElement(Gd,null))),b&&nn&&te.createElement("div",{className:"PhotoView-Slider__Overlay"},b(nn)))}const of=({info:e,handleEntryClick:t,getEntries:n,entryListRef:r,entryDetailRef:i})=>{const{activeContent:s}=xn(),{handleFetchContent:o,handleToggleStarred:l,handleToggleStatus:u}=oa(),{handleLeftKey:c,handleRightKey:d,handleEscapeKey:h}=Co(e,t,n);if(!s)return null;const y=s.status==="unread",w=s.starred;return a.jsxs(ge.Group,{className:"action-buttons",children:[a.jsx(ge,{icon:a.jsx(fc,{}),onClick:()=>h(r,i),shape:"round",type:"primary"}),a.jsx(ge,{icon:y?a.jsx(zs,{}):a.jsx(Hs,{}),onClick:()=>u(s),type:"primary"}),a.jsx(ge,{icon:w?a.jsx(qi,{style:{color:"#ffcd00"}}):a.jsx(Hi,{}),onClick:()=>l(s),type:"primary"}),a.jsx(ge,{icon:a.jsx(hc,{}),onClick:c,type:"primary"}),a.jsx(ge,{icon:a.jsx(mc,{}),onClick:d,type:"primary"}),a.jsx(ge,{icon:a.jsx(pc,{}),onClick:o,shape:"round",type:"primary"})]})},lf=({url:e,text:t})=>{const[n,r]=C.useState(!1),i=()=>r(!n);return a.jsx(vc,{to:e,style:{color:"inherit",textDecoration:n?"underline":"none"},onMouseEnter:i,onMouseLeave:i,children:t})},cf=({node:e,index:t,togglePhotoSlider:n})=>{const[r,i]=C.useState(!1),{isMobileView:s}=Dr();return a.jsx("div",{style:{textAlign:"center",position:"relative"},children:a.jsxs("div",{style:{display:"inline-block",position:"relative"},onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:[a.jsx("img",{...e.attribs,alt:e.attribs.alt}),a.jsx(ge,{icon:a.jsx(yc,{}),shape:"circle",style:{position:"absolute",top:30,right:10,color:"white",backgroundColor:"rgba(0, 0, 0, 0.5)",opacity:s||r?1:0,transition:"opacity 0.3s"},onClick:o=>{o.preventDefault(),n(t)}})]})})},uf=(e,t)=>({replace:n=>{if(n.type==="tag"&&n.name==="img"){const r=e.findIndex(i=>i===n.attribs.src);return a.jsx(cf,{node:n,index:r,togglePhotoSlider:t})}return n}}),df=C.forwardRef(({info:e,handleEntryClick:t,getEntries:n,entryListRef:r},i)=>{const s=yn(),{activeContent:o}=xn(),l=Z(we),{articleWidth:u,fontSize:c}=l,d=X(xo),[h,y]=C.useState(!1),[w,b]=C.useState(0),f=X(Br),g=X($r),S=()=>{g("author"),f(o.author)},T=B=>{b(B),y(I=>!I)};if(C.useEffect(()=>{var I;const B=(I=i.current)==null?void 0:I.querySelector(".scroll-container");B&&(B.setAttribute("tabIndex","-1"),setTimeout(()=>{B.focus()},200))},[o==null?void 0:o.id]),!o)return a.jsxs("div",{ref:i,className:"content-empty",children:[a.jsx(gc,{style:{fontSize:"64px"}}),a.jsx($.Title,{heading:6,style:{color:"var(--color-text-3)",marginTop:"10px"},children:"ReactFlux"})]});const p=Lu(o.content),x=uf(p,T),E=Hd(o.content,x),k=o.feed.category.id,M=o.feed.category.title;return a.jsxs("div",{className:"article-content",onBlur:()=>d(!1),onFocus:()=>d(!0),ref:i,children:[a.jsxs("div",{className:"scroll-container",children:[a.jsxs("div",{className:"article-header",style:{width:`${u}%`},children:[a.jsx($.Title,{className:"article-title",heading:3,children:a.jsx("a",{href:o.url,target:"_blank",rel:"noopener noreferrer",children:o.title})}),a.jsxs("div",{className:"article-meta",children:[a.jsx($.Text,{children:a.jsx(lf,{url:`/feed/${o.feed.id}`,text:o.feed.title})}),a.jsx($.Text,{onClick:S,style:{cursor:"pointer"},children:` - ${o.author}`}),a.jsx($.Text,{children:a.jsx(Vn,{size:"small",onClick:()=>{s(`/category/${k}`)},style:{marginLeft:"10px",cursor:"pointer"},children:M})})]}),a.jsx($.Text,{className:"article-date",children:Ft(o.published_at).format("dddd, MMMM D, YYYY [at] h:mm A")}),a.jsx(ct,{})]}),a.jsxs("div",{className:"article-body",style:{fontSize:`${c}rem`,width:`${u}%`},children:[E,a.jsx(sf,{images:p.map(B=>({src:B,key:B})),visible:h,onClose:()=>{y(!1),d(!0)},index:w,onIndexChange:b})]},o.id)]}),a.jsx(of,{info:e,handleEntryClick:t,getEntries:n,entryListRef:r,entryDetailRef:i})]})});var ff=Object.defineProperty,hf=(e,t)=>{for(var n in t)ff(e,n,{get:t[n],enumerable:!0})},nt={};hf(nt,{assign:()=>gf,colors:()=>Nt,createStringInterpolator:()=>_a,skipAnimation:()=>ul,to:()=>cl,willAdvance:()=>ka});var wa=nr(),H=e=>tr(e,wa),Ca=nr();H.write=e=>tr(e,Ca);var Zr=nr();H.onStart=e=>tr(e,Zr);var Sa=nr();H.onFrame=e=>tr(e,Sa);var ja=nr();H.onFinish=e=>tr(e,ja);var mn=[];H.setTimeout=(e,t)=>{const n=H.now()+t,r=()=>{const s=mn.findIndex(o=>o.cancel==r);~s&&mn.splice(s,1),Rt-=~s?1:0},i={time:n,handler:e,cancel:r};return mn.splice(il(n),0,i),Rt+=1,al(),i};var il=e=>~(~mn.findIndex(t=>t.time>e)||~mn.length);H.cancel=e=>{Zr.delete(e),Sa.delete(e),ja.delete(e),wa.delete(e),Ca.delete(e)};H.sync=e=>{Mi=!0,H.batchedUpdates(e),Mi=!1};H.throttle=e=>{let t;function n(){try{e(...t)}finally{t=null}}function r(...i){t=i,H.onStart(n)}return r.handler=e,r.cancel=()=>{Zr.delete(n),t=null},r};var Ea=typeof window<"u"?window.requestAnimationFrame:()=>{};H.use=e=>Ea=e;H.now=typeof performance<"u"?()=>performance.now():Date.now;H.batchedUpdates=e=>e();H.catch=console.error;H.frameLoop="always";H.advance=()=>{H.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):ol()};var Ot=-1,Rt=0,Mi=!1;function tr(e,t){Mi?(t.delete(e),e(0)):(t.add(e),al())}function al(){Ot<0&&(Ot=0,H.frameLoop!=="demand"&&Ea(sl))}function mf(){Ot=-1}function sl(){~Ot&&(Ea(sl),H.batchedUpdates(ol))}function ol(){const e=Ot;Ot=H.now();const t=il(Ot);if(t&&(ll(mn.splice(0,t),n=>n.handler()),Rt-=t),!Rt){mf();return}Zr.flush(),wa.flush(e?Math.min(64,Ot-e):16.667),Sa.flush(),Ca.flush(),ja.flush()}function nr(){let e=new Set,t=e;return{add(n){Rt+=t==e&&!e.has(n)?1:0,e.add(n)},delete(n){return Rt-=t==e&&e.has(n)?1:0,e.delete(n)},flush(n){t.size&&(e=new Set,Rt-=t.size,ll(t,r=>r(n)&&e.add(r)),Rt+=e.size,t=e)}}}function ll(e,t){e.forEach(n=>{try{t(n)}catch(r){H.catch(r)}})}function Ii(){}var pf=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),_={arr:Array.isArray,obj:e=>!!e&&e.constructor.name==="Object",fun:e=>typeof e=="function",str:e=>typeof e=="string",num:e=>typeof e=="number",und:e=>e===void 0};function wt(e,t){if(_.arr(e)){if(!_.arr(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}var re=(e,t)=>e.forEach(t);function ut(e,t,n){if(_.arr(e)){for(let r=0;r<e.length;r++)t.call(n,e[r],`${r}`);return}for(const r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r)}var Le=e=>_.und(e)?[]:_.arr(e)?e:[e];function Rn(e,t){if(e.size){const n=Array.from(e);e.clear(),re(n,t)}}var Mn=(e,...t)=>Rn(e,n=>n(...t)),Ta=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),_a,cl,Nt=null,ul=!1,ka=Ii,gf=e=>{e.to&&(cl=e.to),e.now&&(H.now=e.now),e.colors!==void 0&&(Nt=e.colors),e.skipAnimation!=null&&(ul=e.skipAnimation),e.createStringInterpolator&&(_a=e.createStringInterpolator),e.requestAnimationFrame&&H.use(e.requestAnimationFrame),e.batchedUpdates&&(H.batchedUpdates=e.batchedUpdates),e.willAdvance&&(ka=e.willAdvance),e.frameLoop&&(H.frameLoop=e.frameLoop)},Nn=new Set,We=[],fi=[],kr=0,Jr={get idle(){return!Nn.size&&!We.length},start(e){kr>e.priority?(Nn.add(e),H.onStart(vf)):(dl(e),H(Pi))},advance:Pi,sort(e){if(kr)H.onFrame(()=>Jr.sort(e));else{const t=We.indexOf(e);~t&&(We.splice(t,1),fl(e))}},clear(){We=[],Nn.clear()}};function vf(){Nn.forEach(dl),Nn.clear(),H(Pi)}function dl(e){We.includes(e)||fl(e)}function fl(e){We.splice(yf(We,t=>t.priority>e.priority),0,e)}function Pi(e){const t=fi;for(let n=0;n<We.length;n++){const r=We[n];kr=r.priority,r.idle||(ka(r),r.advance(e),r.idle||t.push(r))}return kr=0,fi=We,fi.length=0,We=t,We.length>0}function yf(e,t){const n=e.findIndex(t);return n<0?e.length:n}var bf=(e,t,n)=>Math.min(Math.max(n,e),t),xf={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},tt="[-+]?\\d*\\.?\\d+",Ar=tt+"%";function ei(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}var wf=new RegExp("rgb"+ei(tt,tt,tt)),Cf=new RegExp("rgba"+ei(tt,tt,tt,tt)),Sf=new RegExp("hsl"+ei(tt,Ar,Ar)),jf=new RegExp("hsla"+ei(tt,Ar,Ar,tt)),Ef=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Tf=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,_f=/^#([0-9a-fA-F]{6})$/,kf=/^#([0-9a-fA-F]{8})$/;function Af(e){let t;return typeof e=="number"?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=_f.exec(e))?parseInt(t[1]+"ff",16)>>>0:Nt&&Nt[e]!==void 0?Nt[e]:(t=wf.exec(e))?(dn(t[1])<<24|dn(t[2])<<16|dn(t[3])<<8|255)>>>0:(t=Cf.exec(e))?(dn(t[1])<<24|dn(t[2])<<16|dn(t[3])<<8|cs(t[4]))>>>0:(t=Ef.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=kf.exec(e))?parseInt(t[1],16)>>>0:(t=Tf.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=Sf.exec(e))?(os(ls(t[1]),mr(t[2]),mr(t[3]))|255)>>>0:(t=jf.exec(e))?(os(ls(t[1]),mr(t[2]),mr(t[3]))|cs(t[4]))>>>0:null}function hi(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function os(e,t,n){const r=n<.5?n*(1+t):n+t-n*t,i=2*n-r,s=hi(i,r,e+1/3),o=hi(i,r,e),l=hi(i,r,e-1/3);return Math.round(s*255)<<24|Math.round(o*255)<<16|Math.round(l*255)<<8}function dn(e){const t=parseInt(e,10);return t<0?0:t>255?255:t}function ls(e){return(parseFloat(e)%360+360)%360/360}function cs(e){const t=parseFloat(e);return t<0?0:t>1?255:Math.round(t*255)}function mr(e){const t=parseFloat(e);return t<0?0:t>100?1:t/100}function us(e){let t=Af(e);if(t===null)return e;t=t||0;const n=(t&4278190080)>>>24,r=(t&16711680)>>>16,i=(t&65280)>>>8,s=(t&255)/255;return`rgba(${n}, ${r}, ${i}, ${s})`}var Un=(e,t,n)=>{if(_.fun(e))return e;if(_.arr(e))return Un({range:e,output:t,extrapolate:n});if(_.str(e.output[0]))return _a(e);const r=e,i=r.output,s=r.range||[0,1],o=r.extrapolateLeft||r.extrapolate||"extend",l=r.extrapolateRight||r.extrapolate||"extend",u=r.easing||(c=>c);return c=>{const d=If(c,s);return Mf(c,s[d],s[d+1],i[d],i[d+1],u,o,l,r.map)}};function Mf(e,t,n,r,i,s,o,l,u){let c=u?u(e):e;if(c<t){if(o==="identity")return c;o==="clamp"&&(c=t)}if(c>n){if(l==="identity")return c;l==="clamp"&&(c=n)}return r===i?r:t===n?e<=t?r:i:(t===-1/0?c=-c:n===1/0?c=c-t:c=(c-t)/(n-t),c=s(c),r===-1/0?c=-c:i===1/0?c=c+r:c=c*(i-r)+r,c)}function If(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}var Pf=(e,t="end")=>n=>{n=t==="end"?Math.min(n,.999):Math.max(n,.001);const r=n*e,i=t==="end"?Math.floor(r):Math.ceil(r);return bf(0,1,i/e)},Mr=1.70158,pr=Mr*1.525,ds=Mr+1,fs=2*Math.PI/3,hs=2*Math.PI/4.5,gr=e=>e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,Of={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>1-(1-e)*(1-e),easeInOutQuad:e=>e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2,easeInCubic:e=>e*e*e,easeOutCubic:e=>1-Math.pow(1-e,3),easeInOutCubic:e=>e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2,easeInQuart:e=>e*e*e*e,easeOutQuart:e=>1-Math.pow(1-e,4),easeInOutQuart:e=>e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2,easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>1-Math.pow(1-e,5),easeInOutQuint:e=>e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2,easeInSine:e=>1-Math.cos(e*Math.PI/2),easeOutSine:e=>Math.sin(e*Math.PI/2),easeInOutSine:e=>-(Math.cos(Math.PI*e)-1)/2,easeInExpo:e=>e===0?0:Math.pow(2,10*e-10),easeOutExpo:e=>e===1?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>e===0?0:e===1?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2,easeInCirc:e=>1-Math.sqrt(1-Math.pow(e,2)),easeOutCirc:e=>Math.sqrt(1-Math.pow(e-1,2)),easeInOutCirc:e=>e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2,easeInBack:e=>ds*e*e*e-Mr*e*e,easeOutBack:e=>1+ds*Math.pow(e-1,3)+Mr*Math.pow(e-1,2),easeInOutBack:e=>e<.5?Math.pow(2*e,2)*((pr+1)*2*e-pr)/2:(Math.pow(2*e-2,2)*((pr+1)*(e*2-2)+pr)+2)/2,easeInElastic:e=>e===0?0:e===1?1:-Math.pow(2,10*e-10)*Math.sin((e*10-10.75)*fs),easeOutElastic:e=>e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin((e*10-.75)*fs)+1,easeInOutElastic:e=>e===0?0:e===1?1:e<.5?-(Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*hs))/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*hs)/2+1,easeInBounce:e=>1-gr(1-e),easeOutBounce:gr,easeInOutBounce:e=>e<.5?(1-gr(1-2*e))/2:(1+gr(2*e-1))/2,steps:Pf},$n=Symbol.for("FluidValue.get"),vn=Symbol.for("FluidValue.observers"),He=e=>!!(e&&e[$n]),Re=e=>e&&e[$n]?e[$n]():e,ms=e=>e[vn]||null;function Rf(e,t){e.eventObserved?e.eventObserved(t):e(t)}function Bn(e,t){const n=e[vn];n&&n.forEach(r=>{Rf(r,t)})}var hl=class{constructor(e){if(!e&&!(e=this.get))throw Error("Unknown getter");Nf(this,e)}},Nf=(e,t)=>ml(e,$n,t);function wn(e,t){if(e[$n]){let n=e[vn];n||ml(e,vn,n=new Set),n.has(t)||(n.add(t),e.observerAdded&&e.observerAdded(n.size,t))}return t}function zn(e,t){const n=e[vn];if(n&&n.has(t)){const r=n.size-1;r?n.delete(t):e[vn]=null,e.observerRemoved&&e.observerRemoved(r,t)}}var ml=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),wr=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Ff=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,ps=new RegExp(`(${wr.source})(%|[a-z]+)`,"i"),Df=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,ti=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,pl=e=>{const[t,n]=Lf(e);if(!t||Ta())return e;const r=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(r)return r.trim();if(n&&n.startsWith("--")){const i=window.getComputedStyle(document.documentElement).getPropertyValue(n);return i||e}else{if(n&&ti.test(n))return pl(n);if(n)return n}return e},Lf=e=>{const t=ti.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]},mi,Vf=(e,t,n,r,i)=>`rgba(${Math.round(t)}, ${Math.round(n)}, ${Math.round(r)}, ${i})`,gl=e=>{mi||(mi=Nt?new RegExp(`(${Object.keys(Nt).join("|")})(?!\\w)`,"g"):/^\b$/);const t=e.output.map(s=>Re(s).replace(ti,pl).replace(Ff,us).replace(mi,us)),n=t.map(s=>s.match(wr).map(Number)),i=n[0].map((s,o)=>n.map(l=>{if(!(o in l))throw Error('The arity of each "output" value must be equal');return l[o]})).map(s=>Un({...e,output:s}));return s=>{var u;const o=!ps.test(t[0])&&((u=t.find(c=>ps.test(c)))==null?void 0:u.replace(wr,""));let l=0;return t[0].replace(wr,()=>`${i[l++](s)}${o||""}`).replace(Df,Vf)}},Aa="react-spring: ",vl=e=>{const t=e;let n=!1;if(typeof t!="function")throw new TypeError(`${Aa}once requires a function parameter`);return(...r)=>{n||(t(...r),n=!0)}},Uf=vl(console.warn);function $f(){Uf(`${Aa}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var Bf=vl(console.warn);function zf(){Bf(`${Aa}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function ni(e){return _.str(e)&&(e[0]=="#"||/\d/.test(e)||!Ta()&&ti.test(e)||e in(Nt||{}))}var Ma=Ta()?C.useEffect:C.useLayoutEffect,Hf=()=>{const e=C.useRef(!1);return Ma(()=>(e.current=!0,()=>{e.current=!1}),[]),e};function yl(){const e=C.useState()[1],t=Hf();return()=>{t.current&&e(Math.random())}}function Wf(e,t){const[n]=C.useState(()=>({inputs:t,result:e()})),r=C.useRef(),i=r.current;let s=i;return s?t&&s.inputs&&qf(t,s.inputs)||(s={inputs:t,result:e()}):s=n,C.useEffect(()=>{r.current=s,i==n&&(n.inputs=n.result=void 0)},[s]),s.result}function qf(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}var bl=e=>C.useEffect(e,Xf),Xf=[];function gs(e){const t=C.useRef();return C.useEffect(()=>{t.current=e}),t.current}var Hn=Symbol.for("Animated:node"),Yf=e=>!!e&&e[Hn]===e,lt=e=>e&&e[Hn],Ia=(e,t)=>pf(e,Hn,t),ri=e=>e&&e[Hn]&&e[Hn].getPayload(),xl=class{constructor(){Ia(this,this)}getPayload(){return this.payload||[]}},rr=class extends xl{constructor(e){super(),this._value=e,this.done=!0,this.durationProgress=0,_.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new rr(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return _.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value===e?!1:(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,_.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}},Wn=class extends rr{constructor(e){super(0),this._string=null,this._toString=Un({output:[e,e]})}static create(e){return new Wn(e)}getValue(){const e=this._string;return e??(this._string=this._toString(this._value))}setValue(e){if(_.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else if(super.setValue(e))this._string=null;else return!1;return!0}reset(e){e&&(this._toString=Un({output:[this.getValue(),e]})),this._value=0,super.reset()}},Ir={dependencies:null},ii=class extends xl{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const t={};return ut(this.source,(n,r)=>{Yf(n)?t[r]=n.getValue(e):He(n)?t[r]=Re(n):e||(t[r]=n)}),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&re(this.payload,e=>e.reset())}_makePayload(e){if(e){const t=new Set;return ut(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){Ir.dependencies&&He(e)&&Ir.dependencies.add(e);const t=ri(e);t&&re(t,n=>this.add(n))}},wl=class extends ii{constructor(e){super(e)}static create(e){return new wl(e)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){const t=this.getPayload();return e.length==t.length?t.map((n,r)=>n.setValue(e[r])).some(Boolean):(super.setValue(e.map(Gf)),!0)}};function Gf(e){return(ni(e)?Wn:rr).create(e)}function Oi(e){const t=lt(e);return t?t.constructor:_.arr(e)?wl:ni(e)?Wn:rr}var vs=(e,t)=>{const n=!_.fun(e)||e.prototype&&e.prototype.isReactComponent;return C.forwardRef((r,i)=>{const s=C.useRef(null),o=n&&C.useCallback(b=>{s.current=Zf(i,b)},[i]),[l,u]=Qf(r,t),c=yl(),d=()=>{const b=s.current;if(n&&!b)return;(b?t.applyAnimatedValues(b,l.getValue(!0)):!1)===!1&&c()},h=new Kf(d,u),y=C.useRef();Ma(()=>(y.current=h,re(u,b=>wn(b,h)),()=>{y.current&&(re(y.current.deps,b=>zn(b,y.current)),H.cancel(y.current.update))})),C.useEffect(d,[]),bl(()=>()=>{const b=y.current;re(b.deps,f=>zn(f,b))});const w=t.getComponentProps(l.getValue());return C.createElement(e,{...w,ref:o})})},Kf=class{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){e.type=="change"&&H.write(this.update)}};function Qf(e,t){const n=new Set;return Ir.dependencies=n,e.style&&(e={...e,style:t.createAnimatedStyle(e.style)}),e=new ii(e),Ir.dependencies=null,[e,n]}function Zf(e,t){return e&&(_.fun(e)?e(t):e.current=t),t}var ys=Symbol.for("AnimatedComponent"),Jf=(e,{applyAnimatedValues:t=()=>!1,createAnimatedStyle:n=i=>new ii(i),getComponentProps:r=i=>i}={})=>{const i={applyAnimatedValues:t,createAnimatedStyle:n,getComponentProps:r},s=o=>{const l=bs(o)||"Anonymous";return _.str(o)?o=s[o]||(s[o]=vs(o,i)):o=o[ys]||(o[ys]=vs(o,i)),o.displayName=`Animated(${l})`,o};return ut(e,(o,l)=>{_.arr(e)&&(l=bs(o)),s[l]=s(o)}),{animated:s}},bs=e=>_.str(e)?e:e&&_.str(e.displayName)?e.displayName:_.fun(e)&&e.name||null;function Zt(e,...t){return _.fun(e)?e(...t):e}var Fn=(e,t)=>e===!0||!!(t&&e&&(_.fun(e)?e(t):Le(e).includes(t))),Cl=(e,t)=>_.obj(e)?t&&e[t]:e,Sl=(e,t)=>e.default===!0?e[t]:e.default?e.default[t]:void 0,eh=e=>e,Pa=(e,t=eh)=>{let n=th;e.default&&e.default!==!0&&(e=e.default,n=Object.keys(e));const r={};for(const i of n){const s=t(e[i],i);_.und(s)||(r[i]=s)}return r},th=["config","onProps","onStart","onChange","onPause","onResume","onRest"],nh={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function rh(e){const t={};let n=0;if(ut(e,(r,i)=>{nh[i]||(t[i]=r,n++)}),n)return t}function jl(e){const t=rh(e);if(t){const n={to:t};return ut(e,(r,i)=>i in t||(n[i]=r)),n}return{...e}}function qn(e){return e=Re(e),_.arr(e)?e.map(qn):ni(e)?nt.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function ih(e){for(const t in e)return!0;return!1}function Ri(e){return _.fun(e)||_.arr(e)&&_.obj(e[0])}function ah(e,t){var n;(n=e.ref)==null||n.delete(e),t==null||t.delete(e)}function sh(e,t){var n;t&&e.ref!==t&&((n=e.ref)==null||n.delete(e),t.add(e),e.ref=t)}var oh={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},Ni={...oh.default,mass:1,damping:1,easing:Of.linear,clamp:!1},lh=class{constructor(){this.velocity=0,Object.assign(this,Ni)}};function ch(e,t,n){n&&(n={...n},xs(n,t),t={...n,...t}),xs(e,t),Object.assign(e,t);for(const o in Ni)e[o]==null&&(e[o]=Ni[o]);let{frequency:r,damping:i}=e;const{mass:s}=e;return _.und(r)||(r<.01&&(r=.01),i<0&&(i=0),e.tension=Math.pow(2*Math.PI/r,2)*s,e.friction=4*Math.PI*i*s/r),e}function xs(e,t){if(!_.und(t.decay))e.duration=void 0;else{const n=!_.und(t.tension)||!_.und(t.friction);(n||!_.und(t.frequency)||!_.und(t.damping)||!_.und(t.mass))&&(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}}var ws=[],uh=class{constructor(){this.changed=!1,this.values=ws,this.toValues=null,this.fromValues=ws,this.config=new lh,this.immediate=!1}};function El(e,{key:t,props:n,defaultProps:r,state:i,actions:s}){return new Promise((o,l)=>{let u,c,d=Fn(n.cancel??(r==null?void 0:r.cancel),t);if(d)w();else{_.und(n.pause)||(i.paused=Fn(n.pause,t));let b=r==null?void 0:r.pause;b!==!0&&(b=i.paused||Fn(b,t)),u=Zt(n.delay||0,t),b?(i.resumeQueue.add(y),s.pause()):(s.resume(),y())}function h(){i.resumeQueue.add(y),i.timeouts.delete(c),c.cancel(),u=c.time-H.now()}function y(){u>0&&!nt.skipAnimation?(i.delayed=!0,c=H.setTimeout(w,u),i.pauseQueue.add(h),i.timeouts.add(c)):w()}function w(){i.delayed&&(i.delayed=!1),i.pauseQueue.delete(h),i.timeouts.delete(c),e<=(i.cancelId||0)&&(d=!0);try{s.start({...n,callId:e,cancel:d},o)}catch(b){l(b)}}})}var Oa=(e,t)=>t.length==1?t[0]:t.some(n=>n.cancelled)?pn(e.get()):t.every(n=>n.noop)?Tl(e.get()):Je(e.get(),t.every(n=>n.finished)),Tl=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),Je=(e,t,n=!1)=>({value:e,finished:t,cancelled:n}),pn=e=>({value:e,cancelled:!0,finished:!1});function _l(e,t,n,r){const{callId:i,parentId:s,onRest:o}=t,{asyncTo:l,promise:u}=n;return!s&&e===l&&!t.reset?u:n.promise=(async()=>{n.asyncId=i,n.asyncTo=e;const c=Pa(t,(g,S)=>S==="onRest"?void 0:g);let d,h;const y=new Promise((g,S)=>(d=g,h=S)),w=g=>{const S=i<=(n.cancelId||0)&&pn(r)||i!==n.asyncId&&Je(r,!1);if(S)throw g.result=S,h(g),g},b=(g,S)=>{const T=new Cs,p=new Ss;return(async()=>{if(nt.skipAnimation)throw Xn(n),p.result=Je(r,!1),h(p),p;w(T);const x=_.obj(g)?{...g}:{...S,to:g};x.parentId=i,ut(c,(k,M)=>{_.und(x[M])&&(x[M]=k)});const E=await r.start(x);return w(T),n.paused&&await new Promise(k=>{n.resumeQueue.add(k)}),E})()};let f;if(nt.skipAnimation)return Xn(n),Je(r,!1);try{let g;_.arr(e)?g=(async S=>{for(const T of S)await b(T)})(e):g=Promise.resolve(e(b,r.stop.bind(r))),await Promise.all([g.then(d),y]),f=Je(r.get(),!0,!1)}catch(g){if(g instanceof Cs)f=g.result;else if(g instanceof Ss)f=g.result;else throw g}finally{i==n.asyncId&&(n.asyncId=s,n.asyncTo=s?l:void 0,n.promise=s?u:void 0)}return _.fun(o)&&H.batchedUpdates(()=>{o(f,r,r.item)}),f})()}function Xn(e,t){Rn(e.timeouts,n=>n.cancel()),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var Cs=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},Ss=class extends Error{constructor(){super("SkipAnimationSignal")}},Fi=e=>e instanceof Ra,dh=1,Ra=class extends hl{constructor(){super(...arguments),this.id=dh++,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=lt(this);return e&&e.getValue()}to(...e){return nt.to(this,e)}interpolate(...e){return $f(),nt.to(this,e)}toJSON(){return this.get()}observerAdded(e){e==1&&this._attach()}observerRemoved(e){e==0&&this._detach()}_attach(){}_detach(){}_onChange(e,t=!1){Bn(this,{type:"change",parent:this,value:e,idle:t})}_onPriorityChange(e){this.idle||Jr.sort(this),Bn(this,{type:"priority",parent:this,priority:e})}},en=Symbol.for("SpringPhase"),kl=1,Di=2,Li=4,pi=e=>(e[en]&kl)>0,Mt=e=>(e[en]&Di)>0,Tn=e=>(e[en]&Li)>0,js=(e,t)=>t?e[en]|=Di|kl:e[en]&=~Di,Es=(e,t)=>t?e[en]|=Li:e[en]&=~Li,fh=class extends Ra{constructor(e,t){if(super(),this.animation=new uh,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!_.und(e)||!_.und(t)){const n=_.obj(e)?{...e}:{...t,from:e};_.und(n.default)&&(n.default=!0),this.start(n)}}get idle(){return!(Mt(this)||this._state.asyncTo)||Tn(this)}get goal(){return Re(this.animation.to)}get velocity(){const e=lt(this);return e instanceof rr?e.lastVelocity||0:e.getPayload().map(t=>t.lastVelocity||0)}get hasAnimated(){return pi(this)}get isAnimating(){return Mt(this)}get isPaused(){return Tn(this)}get isDelayed(){return this._state.delayed}advance(e){let t=!0,n=!1;const r=this.animation;let{toValues:i}=r;const{config:s}=r,o=ri(r.to);!o&&He(r.to)&&(i=Le(Re(r.to))),r.values.forEach((c,d)=>{if(c.done)return;const h=c.constructor==Wn?1:o?o[d].lastPosition:i[d];let y=r.immediate,w=h;if(!y){if(w=c.lastPosition,s.tension<=0){c.done=!0;return}let b=c.elapsedTime+=e;const f=r.fromValues[d],g=c.v0!=null?c.v0:c.v0=_.arr(s.velocity)?s.velocity[d]:s.velocity;let S;const T=s.precision||(f==h?.005:Math.min(1,Math.abs(h-f)*.001));if(_.und(s.duration))if(s.decay){const p=s.decay===!0?.998:s.decay,x=Math.exp(-(1-p)*b);w=f+g/(1-p)*(1-x),y=Math.abs(c.lastPosition-w)<=T,S=g*x}else{S=c.lastVelocity==null?g:c.lastVelocity;const p=s.restVelocity||T/10,x=s.clamp?0:s.bounce,E=!_.und(x),k=f==h?c.v0>0:f<h;let M,B=!1;const I=1,z=Math.ceil(e/I);for(let ie=0;ie<z&&(M=Math.abs(S)>p,!(!M&&(y=Math.abs(h-w)<=T,y)));++ie){E&&(B=w==h||w>h==k,B&&(S=-S*x,w=h));const fe=-s.tension*1e-6*(w-h),_e=-s.friction*.001*S,pe=(fe+_e)/s.mass;S=S+pe*I,w=w+S*I}}else{let p=1;s.duration>0&&(this._memoizedDuration!==s.duration&&(this._memoizedDuration=s.duration,c.durationProgress>0&&(c.elapsedTime=s.duration*c.durationProgress,b=c.elapsedTime+=e)),p=(s.progress||0)+b/this._memoizedDuration,p=p>1?1:p<0?0:p,c.durationProgress=p),w=f+s.easing(p)*(h-f),S=(w-c.lastPosition)/e,y=p==1}c.lastVelocity=S,Number.isNaN(w)&&(console.warn("Got NaN while animating:",this),y=!0)}o&&!o[d].done&&(y=!1),y?c.done=!0:t=!1,c.setValue(w,s.round)&&(n=!0)});const l=lt(this),u=l.getValue();if(t){const c=Re(r.to);(u!==c||n)&&!s.decay?(l.setValue(c),this._onChange(c)):n&&s.decay&&this._onChange(u),this._stop()}else n&&this._onChange(u)}set(e){return H.batchedUpdates(()=>{this._stop(),this._focus(e),this._set(e)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(Mt(this)){const{to:e,config:t}=this.animation;H.batchedUpdates(()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()})}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let n;return _.und(e)?(n=this.queue||[],this.queue=[]):n=[_.obj(e)?e:{...t,to:e}],Promise.all(n.map(r=>this._update(r))).then(r=>Oa(this,r))}stop(e){const{to:t}=this.animation;return this._focus(this.get()),Xn(this._state,e&&this._lastCallId),H.batchedUpdates(()=>this._stop(t,e)),this}reset(){this._update({reset:!0})}eventObserved(e){e.type=="change"?this._start():e.type=="priority"&&(this.priority=e.priority+1)}_prepareNode(e){const t=this.key||"";let{to:n,from:r}=e;n=_.obj(n)?n[t]:n,(n==null||Ri(n))&&(n=void 0),r=_.obj(r)?r[t]:r,r==null&&(r=void 0);const i={to:n,from:r};return pi(this)||(e.reverse&&([n,r]=[r,n]),r=Re(r),_.und(r)?lt(this)||this._set(n):this._set(r)),i}_update({...e},t){const{key:n,defaultProps:r}=this;e.default&&Object.assign(r,Pa(e,(o,l)=>/^on/.test(l)?Cl(o,n):o)),_s(this,e,"onProps"),kn(this,"onProps",e,this);const i=this._prepareNode(e);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const s=this._state;return El(++this._lastCallId,{key:n,props:e,defaultProps:r,state:s,actions:{pause:()=>{Tn(this)||(Es(this,!0),Mn(s.pauseQueue),kn(this,"onPause",Je(this,_n(this,this.animation.to)),this))},resume:()=>{Tn(this)&&(Es(this,!1),Mt(this)&&this._resume(),Mn(s.resumeQueue),kn(this,"onResume",Je(this,_n(this,this.animation.to)),this))},start:this._merge.bind(this,i)}}).then(o=>{if(e.loop&&o.finished&&!(t&&o.noop)){const l=Al(e);if(l)return this._update(l,!0)}return o})}_merge(e,t,n){if(t.cancel)return this.stop(!0),n(pn(this));const r=!_.und(e.to),i=!_.und(e.from);if(r||i)if(t.callId>this._lastToId)this._lastToId=t.callId;else return n(pn(this));const{key:s,defaultProps:o,animation:l}=this,{to:u,from:c}=l;let{to:d=u,from:h=c}=e;i&&!r&&(!t.default||_.und(d))&&(d=h),t.reverse&&([d,h]=[h,d]);const y=!wt(h,c);y&&(l.from=h),h=Re(h);const w=!wt(d,u);w&&this._focus(d);const b=Ri(t.to),{config:f}=l,{decay:g,velocity:S}=f;(r||i)&&(f.velocity=0),t.config&&!b&&ch(f,Zt(t.config,s),t.config!==o.config?Zt(o.config,s):void 0);let T=lt(this);if(!T||_.und(d))return n(Je(this,!0));const p=_.und(t.reset)?i&&!t.default:!_.und(h)&&Fn(t.reset,s),x=p?h:this.get(),E=qn(d),k=_.num(E)||_.arr(E)||ni(E),M=!b&&(!k||Fn(o.immediate||t.immediate,s));if(w){const ie=Oi(d);if(ie!==T.constructor)if(M)T=this._set(E);else throw Error(`Cannot animate between ${T.constructor.name} and ${ie.name}, as the "to" prop suggests`)}const B=T.constructor;let I=He(d),z=!1;if(!I){const ie=p||!pi(this)&&y;(w||ie)&&(z=wt(qn(x),E),I=!z),(!wt(l.immediate,M)&&!M||!wt(f.decay,g)||!wt(f.velocity,S))&&(I=!0)}if(z&&Mt(this)&&(l.changed&&!p?I=!0:I||this._stop(u)),!b&&((I||He(u))&&(l.values=T.getPayload(),l.toValues=He(d)?null:B==Wn?[1]:Le(E)),l.immediate!=M&&(l.immediate=M,!M&&!p&&this._set(u)),I)){const{onRest:ie}=l;re(mh,_e=>_s(this,t,_e));const fe=Je(this,_n(this,u));Mn(this._pendingCalls,fe),this._pendingCalls.add(n),l.changed&&H.batchedUpdates(()=>{var _e;l.changed=!p,ie==null||ie(fe,this),p?Zt(o.onRest,fe):(_e=l.onStart)==null||_e.call(l,fe,this)})}p&&this._set(x),b?n(_l(t.to,t,this._state,this)):I?this._start():Mt(this)&&!w?this._pendingCalls.add(n):n(Tl(x))}_focus(e){const t=this.animation;e!==t.to&&(ms(this)&&this._detach(),t.to=e,ms(this)&&this._attach())}_attach(){let e=0;const{to:t}=this.animation;He(t)&&(wn(t,this),Fi(t)&&(e=t.priority+1)),this.priority=e}_detach(){const{to:e}=this.animation;He(e)&&zn(e,this)}_set(e,t=!0){const n=Re(e);if(!_.und(n)){const r=lt(this);if(!r||!wt(n,r.getValue())){const i=Oi(n);!r||r.constructor!=i?Ia(this,i.create(n)):r.setValue(n),r&&H.batchedUpdates(()=>{this._onChange(n,t)})}}return lt(this)}_onStart(){const e=this.animation;e.changed||(e.changed=!0,kn(this,"onStart",Je(this,_n(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),Zt(this.animation.onChange,e,this)),Zt(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){const e=this.animation;lt(this).reset(Re(e.to)),e.immediate||(e.fromValues=e.values.map(t=>t.lastPosition)),Mt(this)||(js(this,!0),Tn(this)||this._resume())}_resume(){nt.skipAnimation?this.finish():Jr.start(this)}_stop(e,t){if(Mt(this)){js(this,!1);const n=this.animation;re(n.values,i=>{i.done=!0}),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),Bn(this,{type:"idle",parent:this});const r=t?pn(this.get()):Je(this.get(),_n(this,e??n.to));Mn(this._pendingCalls,r),n.changed&&(n.changed=!1,kn(this,"onRest",r,this))}}};function _n(e,t){const n=qn(t),r=qn(e.get());return wt(r,n)}function Al(e,t=e.loop,n=e.to){const r=Zt(t);if(r){const i=r!==!0&&jl(r),s=(i||e).reverse,o=!i||i.reset;return Yn({...e,loop:t,default:!1,pause:void 0,to:!s||Ri(n)?n:void 0,from:o?e.from:void 0,reset:o,...i})}}function Yn(e){const{to:t,from:n}=e=jl(e),r=new Set;return _.obj(t)&&Ts(t,r),_.obj(n)&&Ts(n,r),e.keys=r.size?Array.from(r):null,e}function hh(e){const t=Yn(e);return _.und(t.default)&&(t.default=Pa(t)),t}function Ts(e,t){ut(e,(n,r)=>n!=null&&t.add(r))}var mh=["onStart","onRest","onChange","onPause","onResume"];function _s(e,t,n){e.animation[n]=t[n]!==Sl(t,n)?Cl(t[n],e.key):void 0}function kn(e,t,...n){var r,i,s,o;(i=(r=e.animation)[t])==null||i.call(r,...n),(o=(s=e.defaultProps)[t])==null||o.call(s,...n)}var ph=["onStart","onChange","onRest"],gh=1,vh=class{constructor(e,t){this.id=gh++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start({default:!0,...e})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle&&!e.isDelayed&&!e.isPaused)}get item(){return this._item}set item(e){this._item=e}get(){const e={};return this.each((t,n)=>e[n]=t.get()),e}set(e){for(const t in e){const n=e[t];_.und(n)||this.springs[t].set(n)}}update(e){return e&&this.queue.push(Yn(e)),this}start(e){let{queue:t}=this;return e?t=Le(e).map(Yn):this.queue=[],this._flush?this._flush(this,t):(Rl(this,t),Vi(this,t))}stop(e,t){if(e!==!!e&&(t=e),t){const n=this.springs;re(Le(t),r=>n[r].stop(!!e))}else Xn(this._state,this._lastAsyncId),this.each(n=>n.stop(!!e));return this}pause(e){if(_.und(e))this.start({pause:!0});else{const t=this.springs;re(Le(e),n=>t[n].pause())}return this}resume(e){if(_.und(e))this.start({pause:!1});else{const t=this.springs;re(Le(e),n=>t[n].resume())}return this}each(e){ut(this.springs,e)}_onFrame(){const{onStart:e,onChange:t,onRest:n}=this._events,r=this._active.size>0,i=this._changed.size>0;(r&&!this._started||i&&!this._started)&&(this._started=!0,Rn(e,([l,u])=>{u.value=this.get(),l(u,this,this._item)}));const s=!r&&this._started,o=i||s&&n.size?this.get():null;i&&t.size&&Rn(t,([l,u])=>{u.value=o,l(u,this,this._item)}),s&&(this._started=!1,Rn(n,([l,u])=>{u.value=o,l(u,this,this._item)}))}eventObserved(e){if(e.type=="change")this._changed.add(e.parent),e.idle||this._active.add(e.parent);else if(e.type=="idle")this._active.delete(e.parent);else return;H.onFrame(this._onFrame)}};function Vi(e,t){return Promise.all(t.map(n=>Ml(e,n))).then(n=>Oa(e,n))}async function Ml(e,t,n){const{keys:r,to:i,from:s,loop:o,onRest:l,onResolve:u}=t,c=_.obj(t.default)&&t.default;o&&(t.loop=!1),i===!1&&(t.to=null),s===!1&&(t.from=null);const d=_.arr(i)||_.fun(i)?i:void 0;d?(t.to=void 0,t.onRest=void 0,c&&(c.onRest=void 0)):re(ph,f=>{const g=t[f];if(_.fun(g)){const S=e._events[f];t[f]=({finished:T,cancelled:p})=>{const x=S.get(g);x?(T||(x.finished=!1),p&&(x.cancelled=!0)):S.set(g,{value:null,finished:T||!1,cancelled:p||!1})},c&&(c[f]=t[f])}});const h=e._state;t.pause===!h.paused?(h.paused=t.pause,Mn(t.pause?h.pauseQueue:h.resumeQueue)):h.paused&&(t.pause=!0);const y=(r||Object.keys(e.springs)).map(f=>e.springs[f].start(t)),w=t.cancel===!0||Sl(t,"cancel")===!0;(d||w&&h.asyncId)&&y.push(El(++e._lastAsyncId,{props:t,state:h,actions:{pause:Ii,resume:Ii,start(f,g){w?(Xn(h,e._lastAsyncId),g(pn(e))):(f.onRest=l,g(_l(d,f,h,e)))}}})),h.paused&&await new Promise(f=>{h.resumeQueue.add(f)});const b=Oa(e,await Promise.all(y));if(o&&b.finished&&!(n&&b.noop)){const f=Al(t,o,i);if(f)return Rl(e,[f]),Ml(e,f,!0)}return u&&H.batchedUpdates(()=>u(b,e,e.item)),b}function ks(e,t){const n={...e.springs};return t&&re(Le(t),r=>{_.und(r.keys)&&(r=Yn(r)),_.obj(r.to)||(r={...r,to:void 0}),Ol(n,r,i=>Pl(i))}),Il(e,n),n}function Il(e,t){ut(t,(n,r)=>{e.springs[r]||(e.springs[r]=n,wn(n,e))})}function Pl(e,t){const n=new fh;return n.key=e,t&&wn(n,t),n}function Ol(e,t,n){t.keys&&re(t.keys,r=>{(e[r]||(e[r]=n(r)))._prepareNode(t)})}function Rl(e,t){re(t,n=>{Ol(e.springs,n,r=>Pl(r,e))})}var ai=({children:e,...t})=>{const n=C.useContext(Pr),r=t.pause||!!n.pause,i=t.immediate||!!n.immediate;t=Wf(()=>({pause:r,immediate:i}),[r,i]);const{Provider:s}=Pr;return C.createElement(s,{value:t},e)},Pr=yh(ai,{});ai.Provider=Pr.Provider;ai.Consumer=Pr.Consumer;function yh(e,t){return Object.assign(e,C.createContext(t)),e.Provider._context=e,e.Consumer._context=e,e}var bh=()=>{const e=[],t=function(r){zf();const i=[];return re(e,(s,o)=>{if(_.und(r))i.push(s.start());else{const l=n(r,s,o);l&&i.push(s.start(l))}}),i};t.current=e,t.add=function(r){e.includes(r)||e.push(r)},t.delete=function(r){const i=e.indexOf(r);~i&&e.splice(i,1)},t.pause=function(){return re(e,r=>r.pause(...arguments)),this},t.resume=function(){return re(e,r=>r.resume(...arguments)),this},t.set=function(r){re(e,(i,s)=>{const o=_.fun(r)?r(s,i):r;o&&i.set(o)})},t.start=function(r){const i=[];return re(e,(s,o)=>{if(_.und(r))i.push(s.start());else{const l=this._getProps(r,s,o);l&&i.push(s.start(l))}}),i},t.stop=function(){return re(e,r=>r.stop(...arguments)),this},t.update=function(r){return re(e,(i,s)=>i.update(this._getProps(r,i,s))),this};const n=function(r,i,s){return _.fun(r)?r(s,i):r};return t._getProps=n,t};function xh(e,t,n){const r=_.fun(t)&&t;r&&!n&&(n=[]);const i=C.useMemo(()=>r||arguments.length==3?bh():void 0,[]),s=C.useRef(0),o=yl(),l=C.useMemo(()=>({ctrls:[],queue:[],flush(S,T){const p=ks(S,T);return s.current>0&&!l.queue.length&&!Object.keys(p).some(E=>!S.springs[E])?Vi(S,T):new Promise(E=>{Il(S,p),l.queue.push(()=>{E(Vi(S,T))}),o()})}}),[]),u=C.useRef([...l.ctrls]),c=[],d=gs(e)||0;C.useMemo(()=>{re(u.current.slice(e,d),S=>{ah(S,i),S.stop(!0)}),u.current.length=e,h(d,e)},[e]),C.useMemo(()=>{h(0,Math.min(d,e))},n);function h(S,T){for(let p=S;p<T;p++){const x=u.current[p]||(u.current[p]=new vh(null,l.flush)),E=r?r(p,x):t[p];E&&(c[p]=hh(E))}}const y=u.current.map((S,T)=>ks(S,c[T])),w=C.useContext(ai),b=gs(w),f=w!==b&&ih(w);Ma(()=>{s.current++,l.ctrls=u.current;const{queue:S}=l;S.length&&(l.queue=[],re(S,T=>T())),re(u.current,(T,p)=>{i==null||i.add(T),f&&T.start({default:w});const x=c[p];x&&(sh(T,x.ref),T.ref?T.queue.push(x):T.start(x))})}),bl(()=>()=>{re(l.ctrls,S=>S.stop(!0))});const g=y.map(S=>({...S}));return i?[g,i]:g}function wh(e,t){const n=_.fun(e),[[r],i]=xh(1,n?e:[e],n?t||[]:t);return n||arguments.length==2?[r,i]:r}var Ch=class extends Ra{constructor(e,t){super(),this.source=e,this.idle=!0,this._active=new Set,this.calc=Un(...t);const n=this._get(),r=Oi(n);Ia(this,r.create(n))}advance(e){const t=this._get(),n=this.get();wt(t,n)||(lt(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&As(this._active)&&gi(this)}_get(){const e=_.arr(this.source)?this.source.map(Re):Le(Re(this.source));return this.calc(...e)}_start(){this.idle&&!As(this._active)&&(this.idle=!1,re(ri(this),e=>{e.done=!1}),nt.skipAnimation?(H.batchedUpdates(()=>this.advance()),gi(this)):Jr.start(this))}_attach(){let e=1;re(Le(this.source),t=>{He(t)&&wn(t,this),Fi(t)&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))}),this.priority=e,this._start()}_detach(){re(Le(this.source),e=>{He(e)&&zn(e,this)}),this._active.clear(),gi(this)}eventObserved(e){e.type=="change"?e.idle?this.advance():(this._active.add(e.parent),this._start()):e.type=="idle"?this._active.delete(e.parent):e.type=="priority"&&(this.priority=Le(this.source).reduce((t,n)=>Math.max(t,(Fi(n)?n.priority:0)+1),0))}};function Sh(e){return e.idle!==!1}function As(e){return!e.size||Array.from(e).every(Sh)}function gi(e){e.idle||(e.idle=!0,re(ri(e),t=>{t.done=!0}),Bn(e,{type:"idle",parent:e}))}nt.assign({createStringInterpolator:gl,to:(e,t)=>new Ch(e,t)});var Nl=/^--/;function jh(e,t){return t==null||typeof t=="boolean"||t===""?"":typeof t=="number"&&t!==0&&!Nl.test(e)&&!(Dn.hasOwnProperty(e)&&Dn[e])?t+"px":(""+t).trim()}var Ms={};function Eh(e,t){if(!e.nodeType||!e.setAttribute)return!1;const n=e.nodeName==="filter"||e.parentNode&&e.parentNode.nodeName==="filter",{style:r,children:i,scrollTop:s,scrollLeft:o,viewBox:l,...u}=t,c=Object.values(u),d=Object.keys(u).map(h=>n||e.hasAttribute(h)?h:Ms[h]||(Ms[h]=h.replace(/([A-Z])/g,y=>"-"+y.toLowerCase())));i!==void 0&&(e.textContent=i);for(const h in r)if(r.hasOwnProperty(h)){const y=jh(h,r[h]);Nl.test(h)?e.style.setProperty(h,y):e.style[h]=y}d.forEach((h,y)=>{e.setAttribute(h,c[y])}),s!==void 0&&(e.scrollTop=s),o!==void 0&&(e.scrollLeft=o),l!==void 0&&e.setAttribute("viewBox",l)}var Dn={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Th=(e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1),_h=["Webkit","Ms","Moz","O"];Dn=Object.keys(Dn).reduce((e,t)=>(_h.forEach(n=>e[Th(n,t)]=e[t]),e),Dn);var kh=/^(matrix|translate|scale|rotate|skew)/,Ah=/^(translate)/,Mh=/^(rotate|skew)/,vi=(e,t)=>_.num(e)&&e!==0?e+t:e,Cr=(e,t)=>_.arr(e)?e.every(n=>Cr(n,t)):_.num(e)?e===t:parseFloat(e)===t,Ih=class extends ii{constructor({x:e,y:t,z:n,...r}){const i=[],s=[];(e||t||n)&&(i.push([e||0,t||0,n||0]),s.push(o=>[`translate3d(${o.map(l=>vi(l,"px")).join(",")})`,Cr(o,0)])),ut(r,(o,l)=>{if(l==="transform")i.push([o||""]),s.push(u=>[u,u===""]);else if(kh.test(l)){if(delete r[l],_.und(o))return;const u=Ah.test(l)?"px":Mh.test(l)?"deg":"";i.push(Le(o)),s.push(l==="rotate3d"?([c,d,h,y])=>[`rotate3d(${c},${d},${h},${vi(y,u)})`,Cr(y,0)]:c=>[`${l}(${c.map(d=>vi(d,u)).join(",")})`,Cr(c,l.startsWith("scale")?1:0)])}}),i.length&&(r.transform=new Ph(i,s)),super(r)}},Ph=class extends hl{constructor(e,t){super(),this.inputs=e,this.transforms=t,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let e="",t=!0;return re(this.inputs,(n,r)=>{const i=Re(n[0]),[s,o]=this.transforms[r](_.arr(i)?i:n.map(Re));e+=" "+s,t=t&&o}),t?"none":e}observerAdded(e){e==1&&re(this.inputs,t=>re(t,n=>He(n)&&wn(n,this)))}observerRemoved(e){e==0&&re(this.inputs,t=>re(t,n=>He(n)&&zn(n,this)))}eventObserved(e){e.type=="change"&&(this._value=null),Bn(this,e)}},Oh=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];nt.assign({batchedUpdates:Bs.unstable_batchedUpdates,createStringInterpolator:gl,colors:xf});var Rh=Jf(Oh,{applyAnimatedValues:Eh,createAnimatedStyle:e=>new Ih(e),getComponentProps:({scrollTop:e,scrollLeft:t,...n})=>n}),Nh=Rh.animated,Ui=new Map,vr=new WeakMap,Is=0,Fh=void 0;function Dh(e){return e?(vr.has(e)||(Is+=1,vr.set(e,Is.toString())),vr.get(e)):"0"}function Lh(e){return Object.keys(e).sort().filter(t=>e[t]!==void 0).map(t=>`${t}_${t==="root"?Dh(e.root):e[t]}`).toString()}function Vh(e){const t=Lh(e);let n=Ui.get(t);if(!n){const r=new Map;let i;const s=new IntersectionObserver(o=>{o.forEach(l=>{var u;const c=l.isIntersecting&&i.some(d=>l.intersectionRatio>=d);e.trackVisibility&&typeof l.isVisible>"u"&&(l.isVisible=c),(u=r.get(l.target))==null||u.forEach(d=>{d(c,l)})})},e);i=s.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:s,elements:r},Ui.set(t,n)}return n}function Uh(e,t,n={},r=Fh){if(typeof window.IntersectionObserver>"u"&&r!==void 0){const u=e.getBoundingClientRect();return t(r,{isIntersecting:r,target:e,intersectionRatio:typeof n.threshold=="number"?n.threshold:0,time:0,boundingClientRect:u,intersectionRect:u,rootBounds:u}),()=>{}}const{id:i,observer:s,elements:o}=Vh(n),l=o.get(e)||[];return o.has(e)||o.set(e,l),l.push(t),s.observe(e),function(){l.splice(l.indexOf(t),1),l.length===0&&(o.delete(e),s.unobserve(e)),o.size===0&&(s.disconnect(),Ui.delete(i))}}function Fl({threshold:e,delay:t,trackVisibility:n,rootMargin:r,root:i,triggerOnce:s,skip:o,initialInView:l,fallbackInView:u,onChange:c}={}){var d;const[h,y]=C.useState(null),w=C.useRef(),[b,f]=C.useState({inView:!!l,entry:void 0});w.current=c,C.useEffect(()=>{if(o||!h)return;let p;return p=Uh(h,(x,E)=>{f({inView:x,entry:E}),w.current&&w.current(x,E),E.isIntersecting&&s&&p&&(p(),p=void 0)},{root:i,rootMargin:r,threshold:e,trackVisibility:n,delay:t},u),()=>{p&&p()}},[Array.isArray(e)?e.toString():e,h,i,r,s,o,n,u,t]);const g=(d=b.entry)==null?void 0:d.target,S=C.useRef();!h&&g&&!s&&!o&&S.current!==g&&(S.current=g,f({inView:!!l,entry:void 0}));const T=[y,b.inView,b.entry];return T.ref=T[0],T.inView=T[1],T.entry=T[2],T}const $h="Left",Bh="Right",zh="Up",Hh="Down",hn={delta:10,preventScrollOnSwipe:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0,swipeDuration:1/0,touchEventOptions:{passive:!0}},$i={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},Ps="mousemove",Os="mouseup",Wh="touchend",qh="touchmove",Xh="touchstart";function Yh(e,t,n,r){return e>t?n>0?Bh:$h:r>0?Hh:zh}function Rs(e,t){if(t===0)return e;const n=Math.PI/180*t,r=e[0]*Math.cos(n)+e[1]*Math.sin(n),i=e[1]*Math.cos(n)-e[0]*Math.sin(n);return[r,i]}function Gh(e,t){const n=d=>{const h="touches"in d;h&&d.touches.length>1||e((y,w)=>{w.trackMouse&&!h&&(document.addEventListener(Ps,r),document.addEventListener(Os,o));const{clientX:b,clientY:f}=h?d.touches[0]:d,g=Rs([b,f],w.rotationAngle);return w.onTouchStartOrOnMouseDown&&w.onTouchStartOrOnMouseDown({event:d}),Object.assign(Object.assign(Object.assign({},y),$i),{initial:g.slice(),xy:g,start:d.timeStamp||0})})},r=d=>{e((h,y)=>{const w="touches"in d;if(w&&d.touches.length>1)return h;if(d.timeStamp-h.start>y.swipeDuration)return h.swiping?Object.assign(Object.assign({},h),{swiping:!1}):h;const{clientX:b,clientY:f}=w?d.touches[0]:d,[g,S]=Rs([b,f],y.rotationAngle),T=g-h.xy[0],p=S-h.xy[1],x=Math.abs(T),E=Math.abs(p),k=(d.timeStamp||0)-h.start,M=Math.sqrt(x*x+E*E)/(k||1),B=[T/(k||1),p/(k||1)],I=Yh(x,E,T,p),z=typeof y.delta=="number"?y.delta:y.delta[I.toLowerCase()]||hn.delta;if(x<z&&E<z&&!h.swiping)return h;const ie={absX:x,absY:E,deltaX:T,deltaY:p,dir:I,event:d,first:h.first,initial:h.initial,velocity:M,vxvy:B};ie.first&&y.onSwipeStart&&y.onSwipeStart(ie),y.onSwiping&&y.onSwiping(ie);let fe=!1;return(y.onSwiping||y.onSwiped||y[`onSwiped${I}`])&&(fe=!0),fe&&y.preventScrollOnSwipe&&y.trackTouch&&d.cancelable&&d.preventDefault(),Object.assign(Object.assign({},h),{first:!1,eventData:ie,swiping:!0})})},i=d=>{e((h,y)=>{let w;if(h.swiping&&h.eventData){if(d.timeStamp-h.start<y.swipeDuration){w=Object.assign(Object.assign({},h.eventData),{event:d}),y.onSwiped&&y.onSwiped(w);const b=y[`onSwiped${w.dir}`];b&&b(w)}}else y.onTap&&y.onTap({event:d});return y.onTouchEndOrOnMouseUp&&y.onTouchEndOrOnMouseUp({event:d}),Object.assign(Object.assign(Object.assign({},h),$i),{eventData:w})})},s=()=>{document.removeEventListener(Ps,r),document.removeEventListener(Os,o)},o=d=>{s(),i(d)},l=(d,h)=>{let y=()=>{};if(d&&d.addEventListener){const w=Object.assign(Object.assign({},hn.touchEventOptions),h.touchEventOptions),b=[[Xh,n,w],[qh,r,Object.assign(Object.assign({},w),h.preventScrollOnSwipe?{passive:!1}:{})],[Wh,i,w]];b.forEach(([f,g,S])=>d.addEventListener(f,g,S)),y=()=>b.forEach(([f,g])=>d.removeEventListener(f,g))}return y},c={ref:d=>{d!==null&&e((h,y)=>{if(h.el===d)return h;const w={};return h.el&&h.el!==d&&h.cleanUpTouch&&(h.cleanUpTouch(),w.cleanUpTouch=void 0),y.trackTouch&&d&&(w.cleanUpTouch=l(d,y)),Object.assign(Object.assign(Object.assign({},h),{el:d}),w)})}};return t.trackMouse&&(c.onMouseDown=n),[c,l]}function Kh(e,t,n,r){return!t.trackTouch||!e.el?(e.cleanUpTouch&&e.cleanUpTouch(),Object.assign(Object.assign({},e),{cleanUpTouch:void 0})):e.cleanUpTouch?t.preventScrollOnSwipe!==n.preventScrollOnSwipe||t.touchEventOptions.passive!==n.touchEventOptions.passive?(e.cleanUpTouch(),Object.assign(Object.assign({},e),{cleanUpTouch:r(e.el,t)})):e:Object.assign(Object.assign({},e),{cleanUpTouch:r(e.el,t)})}function Qh(e){const{trackMouse:t}=e,n=C.useRef(Object.assign({},$i)),r=C.useRef(Object.assign({},hn)),i=C.useRef(Object.assign({},r.current));i.current=Object.assign({},r.current),r.current=Object.assign(Object.assign({},hn),e);let s;for(s in hn)r.current[s]===void 0&&(r.current[s]=hn[s]);const[o,l]=C.useMemo(()=>Gh(u=>n.current=u(n.current,r.current),{trackMouse:t}),[t]);return n.current=Kh(n.current,r.current,i.current,l),o}const Zh=({alt:e,borderRadius:t,height:n,src:r,status:i,width:s})=>{const[o,l]=C.useState(!1),{ref:u,inView:c,entry:d}=Fl();return C.useEffect(()=>{if(c&&!o){const h=new Image;h.onload=()=>l(!0),h.onerror=()=>{d.target.style.display="none"},h.src=r}},[c,o,r]),a.jsx("div",{className:"image-container",ref:u,children:o?a.jsx("img",{className:i==="unread"?"":"read",src:r,alt:e,style:{width:s,height:n,objectFit:"cover",borderRadius:t}}):a.jsx("div",{className:"skeleton-container",children:a.jsx(jr,{text:{rows:0},image:{style:{width:s,height:n,margin:"0",borderRadius:t}},animation:!0})})})},Jh=({entry:e,isThumbnail:t})=>{const n={width:t?"100px":"100%",height:t?"100px":"160px"};return e.imgSrc?a.jsx("div",{className:t?"thumbnail":"cover-image",children:a.jsx(Zh,{alt:e.id,borderRadius:t?"2px":void 0,src:e.imgSrc,status:e.status,width:n.width,height:n.height})}):null},em=({entry:e,showFeedIcon:t,mini:n,children:r})=>{const i=Wi({"article-card-mini-content":n,"article-card-mini-content-padding":n&&t});return a.jsxs("div",{className:i,style:{width:"100%",boxSizing:"border-box"},children:[a.jsx("div",{style:{padding:n?"0 10px 0 0":"0 0 10px 0"},children:a.jsx(Jh,{entry:e,isThumbnail:n})}),a.jsxs("div",{className:n?"article-card-mini-content-text":"",children:[a.jsx($.Text,{className:e.status==="unread"?"title-unread":"title-read",children:e.title}),a.jsxs($.Text,{className:"article-info",children:[a.jsx("br",{}),t&&a.jsx(fo,{feed:e.feed,className:n?"feed-icon-mini":"feed-icon"}),e.feed.title,a.jsx("br",{}),Js(e.published_at)]}),e.starred&&a.jsx(qi,{className:"icon-starred"})]}),a.jsx("div",{children:r})]})},tm=({entry:e,handleEntryClick:t,mini:n,children:r})=>{const{activeContent:i}=xn(),s=Z(we),{markReadOnScroll:o,showFeedIcon:l}=s,u=i&&e.id===i.id,{handleToggleStarred:c,handleToggleStatus:d}=oa(),[h,y]=C.useState(0),w=100,b=.5,f=e.starred,g=e.status==="unread",S=Qh({preventScrollOnSwipe:!0,delta:w/2,onSwiping:z=>{const ie=Math.min(Math.abs(z.deltaX*b),w)*Math.sign(z.deltaX);y(ie)},onSwiped:async z=>{try{z.deltaX>w?(await c(e),ne.success(f?"Unmarked as starred":"Marked as starred")):z.deltaX<-w&&(await d(e),ne.success(g?"Marked as read":"Marked as unread"))}catch{ne.error("Failed to update, please try again")}y(0)}}),[T,p]=C.useState(!1),[x,E]=C.useState(!1),k=()=>d(e),M=20,{ref:B}=Fl({skip:x,onChange:async(z,ie)=>{if(!(!o||!g)){if(z)p(!0);else if(T){const{top:fe}=ie.boundingClientRect;fe<M&&(await k(),E(!0))}}}}),I=wh({x:h});return C.createElement("div",{...S,className:"article-card",key:e.id},a.jsxs("div",{ref:B,children:[a.jsx(Nh.div,{className:"swipe-card",style:I,children:a.jsx(Er,{className:Wi("swipe-content","card-custom-style","card-custom-hover-style",{"card-custom-selected-style":u}),"data-entry-id":e.id,hoverable:!0,onClick:()=>t(e),bordered:!1,children:a.jsx(Er.Meta,{description:a.jsx(em,{entry:e,showFeedIcon:l,mini:n,children:r})})})}),a.jsxs("div",{className:"swipe-actions",children:[a.jsx("div",{className:"swipe-action left",children:f?a.jsx(qi,{style:{color:"#ffcd00",fontSize:"24px"}}):a.jsx(Hi,{style:{color:"#ffffff",fontSize:"24px"}})}),a.jsx("div",{className:"swipe-action right",children:g?a.jsx(zs,{style:{color:"#ffffff",fontSize:"24px"}}):a.jsx(Hs,{style:{color:"#ffffff",fontSize:"24px"}})})]})]}))},nm=({loading:e})=>{const{layout:t}=Z(we),n=t==="large"?2:4,r=i=>a.jsx(Er,{className:"card-style",cover:t==="large"?a.jsx("div",{className:"card-cover-style"}):null,children:a.jsx(Er.Meta,{description:a.jsx(jr,{loading:e,animation:!0,text:{rows:3,width:150}})})},i);return e?Array.from({length:n},(i,s)=>r(s)):null},rm=()=>{const{isMobileView:e}=Dr(),t=Z(we),{updateConfig:n}=Rr(),{orderDirection:r}=t,[i,s]=Pe(Br),[o,l]=Pe($r),u=()=>{n({orderDirection:r==="desc"?"asc":"desc"})};return C.useEffect(()=>{l("title"),s("")},[]),a.jsxs("div",{className:"search-and-sort-bar",children:[a.jsx(et.Search,{allowClear:!0,onChange:s,placeholder:"Search...",style:{width:e?"100%":278,marginLeft:8},value:i,addBefore:a.jsxs(xe,{placeholder:"Select type",onChange:l,style:{width:100},value:o,children:[a.jsx(xe.Option,{value:"title",children:"Title"}),a.jsx(xe.Option,{value:"content",children:"Content"}),a.jsx(xe.Option,{value:"author",children:"Author"})]})}),a.jsx(Ln,{mini:!0,content:r==="desc"?"Newest first":"Oldest first",children:a.jsx(ge,{shape:"circle",size:"small",style:{margin:"0 8px",flexShrink:0},icon:r==="desc"?a.jsx(bc,{}):a.jsx(xc,{}),onClick:u})})]})},im=C.forwardRef(({info:e,loading:t,getEntries:n,handleEntryClick:r,cardsRef:i},s)=>{const o=Z(sa),l=Z(Zn),u=Z(Ur),c=Z(Vr),{loadingMore:d,handleLoadMore:h}=wo(),{layout:y}=Z(we),w=y==="small";return a.jsxs(a.Fragment,{children:[a.jsx(rm,{}),a.jsxs("div",{className:"entry-list",ref:s,children:[a.jsx(nm,{loading:t}),t?null:a.jsx("div",{ref:i,children:o.map(b=>a.jsx(tm,{entry:b,handleEntryClick:r,mini:w,children:a.jsx(ia,{color:"var(--color-text-4)",duration:1e3})},b.id))}),!t&&(l==="all"?c:u)&&a.jsxs(ge,{className:"load-more-button",loading:d,long:!0,onClick:()=>h(e,n),children:[!d&&a.jsx(wc,{}),"Load more"]})]})]})}),am=C.forwardRef(({info:e,refreshArticleList:t,markAllAsRead:n},r)=>{const i=Z(bo),s=X(Kn),o=X(Qn),l=X(Br),u=X($r),c=X(Lr),[d,h]=Pe(Zn),{fetchData:y}=ra(),w=async()=>{try{await n(),ne.success("Marked all as read successfully"),y(),s(f=>f.map(g=>({...g,status:"read"}))),o([]),d==="all"?s(f=>f.map(g=>({...g,status:"read"}))):o([]),c(0)}catch{ne.error("Failed to mark all as read")}},b=f=>{r.current&&r.current.scrollTo(0,0),h(f)};return C.useEffect(()=>{u("title"),l("")},[d]),a.jsxs("div",{className:"entry-panel",children:[!["starred","history"].includes(e.from)&&a.jsx(yi,{focusLock:!0,title:"Mark All As Read?",onOk:w,children:a.jsx(ge,{icon:a.jsx(Fs,{}),shape:"circle"})}),a.jsx(Cc.Group,{disabled:e.from==="history",onChange:f=>b(f),options:[{label:"ALL",value:"all"},{label:"UNREAD",value:"unread"}],type:"button",value:d}),a.jsx(ge,{icon:a.jsx(bi,{}),loading:i,shape:"circle",onClick:t})]})}),Cn=({info:e,getEntries:t,markAllAsRead:n})=>{const{activeContent:r,setActiveContent:i}=xn(),s=Z(Zi),{fetchData:o}=ra(),l=Z(we),{orderBy:u,orderDirection:c}=l,[d,h]=Pe(xo),[y,w]=Pe(bo),b=X(Kn),f=X(Ur),g=X(Vr),S=X(vo),T=X(go),p=X(Lr),x=X(Qn),E=X(yo),k=Z(sa),M=X(aa),{handleFetchContent:B,handleToggleStarred:I,handleToggleStatus:z,handleEntryStatusUpdate:ie}=oa(),[fe,_e]=C.useState(!1),pe=C.useRef(null),de=C.useRef(null),ue=C.useRef(null);C.useEffect(()=>{!fe||e.from==="history"||V()},[u]),C.useEffect(()=>{M(e.from),V()},[e,c]);const qe=async A=>{i(null),setTimeout(()=>{i({...A,status:"read"})},200),A.status==="unread"&&(setTimeout(()=>{ie(A,"read")},200),Qi([A.id],"read").catch(()=>{ne.error("Failed to mark entry as read, please try again later"),ie(A,"unread")})),ue.current&&ue.current.scrollTo(0,0)},{handleBKey:ke,handleDKey:St,handleEscapeKey:v,handleLeftKey:m,handleMKey:P,handleRightKey:O,handleSKey:N}=Co(e,qe,t);C.useEffect(()=>{const A={27:()=>v(pe,ue),37:()=>m(),39:()=>O(e),66:()=>ke(),68:()=>St(B),77:()=>P(()=>z(r)),83:()=>N(()=>I(r))},R=K=>{const Q=A[K.keyCode];Q&&Q()};return d?document.addEventListener("keydown",R):document.removeEventListener("keydown",R),()=>{document.removeEventListener("keydown",R)}},[r,k,d]);const L=(A,R,K,Q)=>{b(A),x(R),T(K.data.total),g(A.length<K.data.total),p(Q.data.total),f(R.length<Q.data.total)},D=(A,R)=>{var K,Q;if((K=A==null?void 0:A.data)!=null&&K.entries&&((Q=R==null?void 0:R.data)==null?void 0:Q.total)>=0){const oe=A.data.entries.map(Ci),W=R.data.entries.map(Ci);L(oe,W,A,R)}},F=async()=>{w(!0);try{if(e.from==="history"){const A=await t();D(A,A)}else{const[A,R]=await Promise.all([t(),t(0,"unread")]);D(A,R)}}catch(A){console.error("Error fetching articles:",A)}finally{w(!1)}},V=async()=>{if(pe.current&&pe.current.scrollTo(0,0),S(0),E(0),!s){o();return}await F()};return C.useEffect(()=>{r&&i(null)},[]),C.useEffect(()=>{if(!s)try{F(),_e(!0),h(!0)}catch{ne.error("Failed to fetch articles, please try again later")}},[s]),a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"entry-col",children:[a.jsx(Ua,{in:!y,timeout:200,nodeRef:de,classNames:"fade",children:a.jsx(im,{info:e,cardsRef:de,loading:y,getEntries:t,handleEntryClick:qe,ref:pe})}),a.jsx(am,{info:e,refreshArticleList:V,markAllAsRead:n,ref:pe})]}),a.jsx(Ua,{in:r!==null,timeout:200,nodeRef:ue,classNames:"fade",unmountOnExit:!0,children:a.jsx(df,{info:e,handleEntryClick:qe,getEntries:t,entryListRef:pe,ref:ue})})]})},sm=()=>a.jsx(Cn,{info:{from:"all",id:""},getEntries:Zc,markAllAsRead:lu}),om=()=>{const{id:e}=Ws(),{orderBy:t,pageSize:n}=Z(we),r=async(i=0,s=null)=>{const o={baseUrl:`/v1/categories/${e}/entries`,orderField:t,offset:i,limit:n,status:s};return le.get(bn(o))};return a.jsx(Cn,{info:{from:"category",id:e},getEntries:r,markAllAsRead:zc})},lm=()=>{const e=yn();return a.jsx("div",{id:"error-page",style:{top:"30%",position:"relative"},children:a.jsx(Sc,{status:"404",subTitle:"Whoops, that page is gone. ",extra:[a.jsx(ge,{type:"primary",onClick:()=>e("/"),children:"Back to Home"},"back")]})})},cm=()=>{const{id:e}=Ws(),{orderBy:t,pageSize:n}=Z(we),r=async(i=0,s=null)=>{const o={baseUrl:`/v1/feeds/${e}/entries`,orderField:t,offset:i,limit:n,status:s};return le.get(bn(o))};return a.jsx(Cn,{info:{from:"feed",id:e},getEntries:r,markAllAsRead:su})},um=()=>a.jsx(Cn,{info:{from:"history",id:""},getEntries:to}),dm="/assets/background-CYt9APEB.jpg",fm=e=>{const t=e.getFieldsValue();let n=!0;for(const[r,i]of Object.entries(t))if(r!=="password"){const s=i==null?void 0:i.trim();e.setFieldValue(r,s),s||(n=!1)}else i||(n=!1);return n},yr=(e,t)=>{e.key==="Enter"&&t.submit()},hm=()=>{const[e]=jc(),[t,n]=C.useState(!1),[r,i]=C.useState("token"),s=X(Yi),o=yn(),l=async()=>{n(!0);const{server:c,token:d,username:h,password:y}=e.getFieldsValue();try{(await Vs({url:"/v1/me",method:"get",baseURL:c,headers:{"X-Auth-Token":d},auth:{username:h,password:y},timeout:5e3})).status===200&&(ne.success("Success"),s({server:c,token:d,username:h,password:y}),o("/"))}catch(w){console.error(w),ne.error(w.message)}n(!1)},u=async()=>{const c=e.getFieldsValue();if(!Ki(c)){ne.error("Please check your server address and credentials");return}await l()};return a.jsxs("div",{className:"page-layout",style:{height:"100%",display:"flex"},children:[a.jsx("div",{className:"form-panel",style:{backgroundColor:"var(--color-bg-1)",width:"50%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",overflowY:"auto",zIndex:2},children:a.jsxs("div",{className:"login-form",style:{width:"340px"},children:[a.jsx($.Title,{heading:3,children:"Connect to your server"}),a.jsxs(ve,{autoComplete:"off",form:e,layout:"vertical",onSubmit:async()=>{fm(e)?await u():ne.error("Please fill in all required fields")},children:[a.jsx(ve.Item,{field:"server",label:"Server address",rules:[{required:!0}],onKeyDown:c=>{yr(c,e)},children:a.jsx(et,{disabled:t,placeholder:"Please input server address",prefix:a.jsx(Ec,{})})}),r==="token"&&a.jsx(ve.Item,{field:"token",label:"API Token",rules:[{required:!0}],onKeyDown:c=>{yr(c,e)},children:a.jsx(et,{disabled:t,placeholder:"Please input api token",prefix:a.jsx($a,{})})}),r==="user"&&a.jsxs(a.Fragment,{children:[a.jsx(ve.Item,{field:"username",label:"Username",rules:[{required:!0}],onKeyDown:c=>{yr(c,e)},children:a.jsx(et,{disabled:t,prefix:a.jsx(Ls,{}),placeholder:"Please input username"})}),a.jsx(ve.Item,{field:"password",label:"Password",rules:[{required:!0}],onKeyDown:c=>{yr(c,e)},children:a.jsx(et.Password,{disabled:t,prefix:a.jsx($a,{}),placeholder:"Please input password"})})]})]}),a.jsx(ge,{loading:t,type:"primary",long:!0,onClick:()=>e.submit(),style:{marginTop:"20px"},children:"Connect"}),a.jsx(ct,{orientation:"center",children:"Or connect with"}),a.jsx(ge,{type:"secondary",long:!0,onClick:()=>i(r==="token"?"user":"token"),style:{marginTop:"20px"},children:r==="token"?"Username and password":"API Token"}),a.jsxs("div",{style:{display:"flex",marginTop:"40px"},children:[a.jsx($.Text,{disabled:!0,children:"Need more info?"}),a.jsx(Tc,{href:"https://miniflux.app/docs/api.html#authentication",style:{fontWeight:"500"},children:"Go to Miniflux official website"})]})]})}),a.jsx("div",{className:"background",style:{backgroundImage:`url(${dm})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",width:"50%",height:"100%"}})]})},mm=({children:e})=>{const t=Z(Yi);return Ki(t)?a.jsx(a.Fragment,{children:e}):a.jsx(qs,{to:"/login"})},pm=()=>a.jsx(Cn,{info:{from:"starred",id:""},getEntries:eo}),gm=()=>{const e=async()=>{const t=await br(0,"unread");let n=t.data.entries.map(i=>i.id);const r=t.data.total;if(r>n.length){const i=r-n.length,s=await br(n.length,"unread",Math.ceil(i/100)*100);n=[...n,...s.data.entries.map(o=>o.id)]}return Qi(n,"read")};return a.jsx(Cn,{info:{from:"today",id:""},getEntries:br,markAllAsRead:e})},vm=Ct("homePage"),ym=[{path:"/all",element:a.jsx(sm,{})},{path:"/today",element:a.jsx(gm,{})},{path:"/starred",element:a.jsx(pm,{})},{path:"/history",element:a.jsx(um,{})},{path:"/category/:id",element:a.jsx(om,{})},{path:"/feed/:id",element:a.jsx(cm,{})}],Dl=_c([{path:"/",element:a.jsx(mm,{children:a.jsx(Ou,{})}),errorElement:a.jsx(lm,{}),children:[...ym,{index:!0,element:a.jsx(qs,{to:`/${vm}`,replace:!0})}]},{path:"/login",element:a.jsx(hm,{})}]);kc.createRoot(document.getElementById("root")).render(a.jsx(Ac,{locale:Mc,children:a.jsx(Ic,{router:Dl})}))});export default bm();
