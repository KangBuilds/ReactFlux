var sd=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);import{r as x,g as oi,R as Z,c as ae,d as Vn,a as cl,M as ie,u as mr,j as d,B as Se,I as od,S as Hr,T as lr,b as ul,e as ad,f as ld,h as cd,D as vo,i as Gt,k as dl,l as ud,m as dd,A as hl,n as fl,o as hd,p as fd,q as pd,s as W,t as xt,v as Nn,w as yo,F as ye,x as ft,y as pl,z as ai,C as Ae,E as cr,G as md,H as ml,P as gl,J as gd,K as vd,L as An,N as yd,O as xd,Q as bd,U as wd,V as Sd,W as Td,X as Cd,Y as vl,Z as Gr,_ as Ed,$ as Pd,a0 as bs,a1 as jd,a2 as Md,a3 as Ad,a4 as kd,a5 as Fd,a6 as Dd,a7 as yl,a8 as xl,a9 as ws,aa as Od,ab as Rd,ac as Id,ad as _d,ae as Vd,af as Nd,ag as ur,ah as Ld,ai as Bd,aj as Ud,ak as Ei,al as xo,am as zd,an as $d,ao as bl,ap as Wd,aq as Hd,ar as bo,as as Gd,at as wl,au as Kd,av as Xd,aw as qd,ax as Yd,ay as Zd}from"./vendor-BdpehfR2.js";var P1=sd((F1,yr)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Jd={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const wo=e=>{let t;const n=new Set,r=(c,h)=>{const f=typeof c=="function"?c(t):c;if(!Object.is(f,t)){const p=t;t=h??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(m=>m(t,p))}},i=()=>t,a={setState:r,getState:i,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{(Jd?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,i,a);return a},Qd=e=>e?wo(e):wo;var Sl={exports:{}},Tl={},Cl={exports:{}},El={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ln=x;function eh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var th=typeof Object.is=="function"?Object.is:eh,nh=Ln.useState,rh=Ln.useEffect,ih=Ln.useLayoutEffect,sh=Ln.useDebugValue;function oh(e,t){var n=t(),r=nh({inst:{value:n,getSnapshot:t}}),i=r[0].inst,s=r[1];return ih(function(){i.value=n,i.getSnapshot=t,Pi(i)&&s({inst:i})},[e,n,t]),rh(function(){return Pi(i)&&s({inst:i}),e(function(){Pi(i)&&s({inst:i})})},[e]),sh(n),n}function Pi(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!th(e,n)}catch{return!0}}function ah(e,t){return t()}var lh=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?ah:oh;El.useSyncExternalStore=Ln.useSyncExternalStore!==void 0?Ln.useSyncExternalStore:lh;Cl.exports=El;var ch=Cl.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var li=x,uh=ch;function dh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var hh=typeof Object.is=="function"?Object.is:dh,fh=uh.useSyncExternalStore,ph=li.useRef,mh=li.useEffect,gh=li.useMemo,vh=li.useDebugValue;Tl.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var s=ph(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=gh(function(){function a(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&o.hasValue){var m=o.value;if(i(m,p))return h=m}return h=p}if(m=h,hh(c,p))return m;var y=r(p);return i!==void 0&&i(m,y)?m:(c=p,h=y)}var u=!1,c,h,f=n===void 0?null:n;return[function(){return a(t())},f===null?void 0:function(){return a(f())}]},[t,n,r,i]);var l=fh(e,s[0],s[1]);return mh(function(){o.hasValue=!0,o.value=l},[l]),vh(l),l};Sl.exports=Tl;var yh=Sl.exports;const xh=oi(yh);var Pl={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{useDebugValue:bh}=Z,{useSyncExternalStoreWithSelector:wh}=xh;let So=!1;const Sh=e=>e;function Th(e,t=Sh,n){(Pl?"production":void 0)!=="production"&&n&&!So&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),So=!0);const r=wh(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return bh(r),r}const To=e=>{(Pl?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?Qd(e):e,n=(r,i)=>Th(t,r,i);return Object.assign(n,t),n},Ch=e=>e?To(e):To,Co={articleWidth:90,fontSize:1.05,homePage:"all",layout:"large",orderBy:"created_at",orderDirection:"desc",pageSize:100,showAllFeeds:!1,showFeedIcon:!0,showStatus:"all",theme:"light",themeColor:"Blue"},fe=e=>{const t=JSON.parse(localStorage.getItem("config"))||{};return Object.hasOwn(t,e)?t[e]:Object.hasOwn(Co,e)?Co[e]:null},Xe=(e,t)=>{const n=JSON.parse(localStorage.getItem("config"))||{};n[e]=t,localStorage.setItem("config",JSON.stringify(n))};var jl={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(ae,function(){return function(n,r,i){n=n||{};var s=r.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function l(u,c,h,f){return s.fromToBase(u,c,h,f)}i.en.relativeTime=o,s.fromToBase=function(u,c,h,f,p){for(var m,y,S,C=h.$locale().relativeTime||o,b=n.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],g=b.length,T=0;T<g;T+=1){var A=b[T];A.d&&(m=f?i(u).diff(h,A.d,!0):h.diff(u,A.d,!0));var M=(n.rounding||Math.round)(Math.abs(m));if(S=m>0,M<=A.r||!A.r){M<=1&&T>0&&(A=b[T-1]);var F=C[A.l];p&&(M=p(""+M)),y=typeof F=="string"?F.replace("%d",M):F(M,c,A.l,S);break}}if(c)return y;var E=S?C.future:C.past;return typeof E=="function"?E(y):E.replace("%s",y)},s.to=function(u,c){return l(u,c,this,!0)},s.from=function(u,c){return l(u,c,this)};var a=function(u){return u.$u?i.utc():i()};s.toNow=function(u){return this.to(a(this),u)},s.fromNow=function(u){return this.from(a(this),u)}}})})(jl);var Eh=jl.exports;const Ph=oi(Eh);Vn.extend(Ph);const jh=e=>{const t=Vn(e),n=Vn();return t.isAfter(n.subtract(24,"hour"))},Mh=()=>Vn().subtract(24,"hour").unix(),Ml=e=>Vn(e).fromNow(),Kr=()=>{const e=JSON.parse(localStorage.getItem("auth"));return e||(console.log("No auth info found in localStorage"),null)},Ah=(e,t)=>{const n={method:e,secret:t};localStorage.setItem("auth",JSON.stringify(n))},ce=cl.create({timeout:3e3,retry:3,retryDelay:1e3});ce.interceptors.request.use(e=>{const t=Kr(),{server:n,token:r,username:i,password:s}=(t==null?void 0:t.secret)||{};return e.baseURL=n,r&&(e.headers["X-Auth-Token"]=r),i&&s&&(e.auth={username:i,password:s}),e},e=>Promise.reject(e));const kh=async e=>{const{config:t}=e;return e.code!=="ECONNABORTED"||!t||!t.retry||(t.__retryCount=t.__retryCount||0,t.__retryCount>=t.retry)?Promise.reject(e):(t.__retryCount+=1,await new Promise(r=>{setTimeout(()=>{r()},t.retryDelay||1e3)}),ce(t))},Fh=e=>{var n,r,i;const t=((r=(n=e.response)==null?void 0:n.data)==null?void 0:r.error_message)||e.message;return ie.error(t),((i=e.response)==null?void 0:i.status)===401&&(localStorage.removeItem("auth"),nd.navigate("/login")),Promise.reject(e)};ce.interceptors.response.use(e=>e,async e=>{try{return await kh(e)}catch(t){return Fh(t)}});const Al=async(e,t)=>ce.put("/v1/entries",{entry_ids:e,status:t}),kl=async(e,t)=>Al([e],t),Dh=async e=>ce.put(`/v1/entries/${e}/bookmark`),Oh=async e=>ce.get(`/v1/entries/${e}/fetch-content`),Rh=async()=>ce.get("/v1/me"),Ih=async()=>ce.get("/v1/feeds/counters"),_h=async()=>ce.get("/v1/feeds"),Vh=async()=>ce.get("/v1/categories"),Nh=async e=>ce.delete(`/v1/categories/${e}`),Lh=async e=>ce.post("/v1/categories",{title:e}),Bh=async(e,t,n=!1)=>{const r={title:t};return n&&(r.hide_globally="on"),ce.put(`/v1/categories/${e}`,r)},Uh=async(e,t,n,r,i,s=!1)=>ce.put(`/v1/feeds/${e}`,{feed_url:t,title:n,category_id:r,crawler:i,hide_globally:s}),zh=async e=>ce.put(`/v1/feeds/${e}/refresh`),$h=async e=>ce.delete(`/v1/feeds/${e}`),Wh=async(e,t,n)=>ce.post("/v1/feeds",{feed_url:e,category_id:t,crawler:n}),zn=(e,t={})=>{const{baseUrl:n,orderField:r,direction:i,offset:s,limit:o,status:l}=e,a=new URLSearchParams({...t,order:r,direction:i,offset:s,limit:o});return l&&a.append("status",l),`${n}?${a.toString()}`},Hh=async(e=0,t=null)=>{const n=fe("orderBy"),r=fe("orderDirection"),i=fe("pageSize"),o=zn({baseUrl:"/v1/entries",orderField:n,direction:r,offset:e,limit:i,status:t});return ce.get(o)},Fl=async(e=0)=>{const t=fe("orderDirection"),n=fe("pageSize"),i=zn({baseUrl:"/v1/entries",orderField:"changed_at",direction:t,offset:e,limit:n,status:"read"});return ce.get(i)},Dl=async(e=0,t=null)=>{const n=fe("orderDirection"),r=fe("pageSize"),o=zn({baseUrl:"/v1/entries",orderField:"changed_at",direction:n,offset:e,limit:r,status:t},{starred:"true"});return ce.get(o)},Lr=async(e=0,t=null,n=null)=>{const r=fe("orderBy"),i=fe("orderDirection"),s=n||fe("pageSize"),o=Mh(),u=zn({baseUrl:"/v1/entries",orderField:r,direction:i,offset:e,limit:s,status:t},{published_after:o});return ce.get(u)},Gh=(e,t)=>t==="read"?Math.max(0,e-1):e+1,Eo=(e,t,n)=>e.map(r=>r.id===t?{...r,hide_globally:n}:r),Po=(e,t,n)=>n?[...e,t]:e.filter(r=>r!==t),jo=(e,t,n)=>e.map(r=>{if(r.id===t){let i;return typeof n=="string"?i=Gh(r.unreadCount,n):i=n,{...r,unreadCount:i}}return r}),P=Ch((e,t)=>({feeds:[],groups:[],unreadTotal:0,unreadToday:0,starredCount:0,readCount:0,hiddenFeedIds:[],hiddenGroupIds:[],articleWidth:fe("articleWidth"),showStatus:fe("showStatus"),homePage:fe("homePage"),orderBy:fe("orderBy"),orderDirection:fe("orderDirection"),pageSize:fe("pageSize"),showAllFeeds:fe("showAllFeeds"),loading:!0,visible:{settings:!1,addFeed:!1},theme:fe("theme"),layout:fe("layout"),fontSize:fe("fontSize"),showFeedIcon:fe("showFeedIcon"),collapsed:window.innerWidth<=992,activeContent:null,isSysDarkMode:window.matchMedia("(prefers-color-scheme: dark)").matches,themeColor:fe("themeColor"),isInitCompleted:!1,setFeeds:n=>e({feeds:n}),setGroups:n=>e({groups:n}),setUnreadTotal:n=>e(r=>({unreadTotal:n(r.unreadTotal)})),setUnreadToday:n=>e(r=>({unreadToday:n(r.unreadToday)})),setStarredCount:n=>e(r=>({starredCount:n(r.starredCount)})),setReadCount:n=>e(r=>({readCount:n(r.readCount)})),setArticleWidth:n=>e({articleWidth:n}),setShowStatus:n=>e({showStatus:n}),setHomePage:n=>e({homePage:n}),setOrderBy:n=>e({orderBy:n}),toggleOrderDirection:()=>e(n=>({orderDirection:n.orderDirection==="desc"?"asc":"desc"})),setPageSize:n=>e({pageSize:n}),toggleShowAllFeeds:()=>e(n=>({showAllFeeds:!n.showAllFeeds})),setActiveContent:n=>{e({activeContent:n})},setIsSysDarkMode:n=>e({isSysDarkMode:n}),setThemeColor:n=>{e({themeColor:n})},setTheme:n=>{e({theme:n})},initData:async()=>{e({loading:!0});const[n,r,i,s,o,l]=await Promise.all([_h(),Vh(),Fl(),Dl(),Lr(0,"unread"),Ih()]);if(n&&r&&i&&s&&o&&l){const a=n.data.filter(m=>m.hide_globally||m.category.hide_globally).map(m=>m.id),u=r.data.filter(m=>m.hide_globally).map(m=>m.id);e({hiddenFeedIds:a}),e({hiddenGroupIds:u});const c=l.data.unreads,h=Object.keys(c).reduce((m,y)=>t().showAllFeeds||!a.includes(Number.parseInt(y))?m+c[y]:m,0);e({unreadTotal:h});const f=n.data.map(m=>({...m,unreadCount:c[m.id]||0}));e({feeds:f.sort((m,y)=>m.title.localeCompare(y.title,"en"))});const p=r.data.map(m=>{let y=0,S=0;for(const C of f)C.category.id===m.id&&(y+=C.unreadCount,S+=1);return{...m,unreadCount:y,feedCount:S}});e({groups:p.sort((m,y)=>m.title.localeCompare(y.title,"en"))}),e({readCount:i.data.total}),e({starredCount:s.data.total}),e({unreadToday:o.data.total}),e({isInitCompleted:!0}),e({loading:!1})}},updateFeedHidden:(n,r)=>{e(i=>{let{unreadTotal:s}=i;if(!t().showAllFeeds){const o=i.feeds.find(l=>l.id===n);o&&(s+=r?-o.unreadCount:o.unreadCount,s=Math.max(0,s))}return{feeds:Eo(i.feeds,n,r),hiddenFeedIds:Po(i.hiddenFeedIds,n,r),unreadTotal:s}})},updateGroupHidden:(n,r)=>{e(i=>{let{unreadTotal:s}=i,o=[...i.hiddenFeedIds];if(!t().showAllFeeds){const a=i.groups.find(u=>u.id===n);a&&(s+=r?-a.unreadCount:a.unreadCount,s=Math.max(0,s))}const l=i.feeds.filter(a=>a.category.id===n).map(a=>a.id);return o=r?[...o,...l]:o.filter(a=>!l.includes(a)),{groups:Eo(i.groups,n,r),hiddenGroupIds:Po(i.hiddenGroupIds,n,r),hiddenFeedIds:o,unreadTotal:s}})},updateFeedUnreadCount:(n,r)=>{e(i=>({feeds:jo(i.feeds,n,r)}))},updateGroupUnreadCount:(n,r)=>{e(i=>({groups:jo(i.groups,n,r)}))},toggleLayout:()=>{const n=t().layout==="large"?"small":"large";e({layout:n})},setFontSize:n=>e({fontSize:n}),toggleShowFeedIcon:()=>e(n=>({showFeedIcon:!n.showFeedIcon})),setVisible:(n,r)=>{e(i=>({visible:{...i.visible,[n]:r}}))},toggleCollapsed:()=>e(n=>({collapsed:!n.collapsed}))}));var Ol={exports:{}},Rl={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Il={exports:{}},Kh=function(t){return!t||typeof t=="string"?!1:t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&t.constructor.name!=="String")},Xh=Kh,qh=Array.prototype.concat,Yh=Array.prototype.slice,Mo=Il.exports=function(t){for(var n=[],r=0,i=t.length;r<i;r++){var s=t[r];Xh(s)?n=qh.call(n,Yh.call(s)):n.push(s)}return n};Mo.wrap=function(e){return function(){return e(Mo(arguments))}};var Zh=Il.exports,er=Rl,gr=Zh,_l=Object.hasOwnProperty,Vl=Object.create(null);for(var ji in er)_l.call(er,ji)&&(Vl[er[ji]]=ji);var tt=Ol.exports={to:{},get:{}};tt.get=function(e){var t=e.substring(0,3).toLowerCase(),n,r;switch(t){case"hsl":n=tt.get.hsl(e),r="hsl";break;case"hwb":n=tt.get.hwb(e),r="hwb";break;default:n=tt.get.rgb(e),r="rgb";break}return n?{model:r,value:n}:null};tt.get.rgb=function(e){if(!e)return null;var t=/^#([a-f0-9]{3,4})$/i,n=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,r=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,i=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,s=/^(\w+)$/,o=[0,0,0,1],l,a,u;if(l=e.match(n)){for(u=l[2],l=l[1],a=0;a<3;a++){var c=a*2;o[a]=parseInt(l.slice(c,c+2),16)}u&&(o[3]=parseInt(u,16)/255)}else if(l=e.match(t)){for(l=l[1],u=l[3],a=0;a<3;a++)o[a]=parseInt(l[a]+l[a],16);u&&(o[3]=parseInt(u+u,16)/255)}else if(l=e.match(r)){for(a=0;a<3;a++)o[a]=parseInt(l[a+1],0);l[4]&&(l[5]?o[3]=parseFloat(l[4])*.01:o[3]=parseFloat(l[4]))}else if(l=e.match(i)){for(a=0;a<3;a++)o[a]=Math.round(parseFloat(l[a+1])*2.55);l[4]&&(l[5]?o[3]=parseFloat(l[4])*.01:o[3]=parseFloat(l[4]))}else return(l=e.match(s))?l[1]==="transparent"?[0,0,0,0]:_l.call(er,l[1])?(o=er[l[1]],o[3]=1,o):null:null;for(a=0;a<3;a++)o[a]=Kt(o[a],0,255);return o[3]=Kt(o[3],0,1),o};tt.get.hsl=function(e){if(!e)return null;var t=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,n=e.match(t);if(n){var r=parseFloat(n[4]),i=(parseFloat(n[1])%360+360)%360,s=Kt(parseFloat(n[2]),0,100),o=Kt(parseFloat(n[3]),0,100),l=Kt(isNaN(r)?1:r,0,1);return[i,s,o,l]}return null};tt.get.hwb=function(e){if(!e)return null;var t=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,n=e.match(t);if(n){var r=parseFloat(n[4]),i=(parseFloat(n[1])%360+360)%360,s=Kt(parseFloat(n[2]),0,100),o=Kt(parseFloat(n[3]),0,100),l=Kt(isNaN(r)?1:r,0,1);return[i,s,o,l]}return null};tt.to.hex=function(){var e=gr(arguments);return"#"+jr(e[0])+jr(e[1])+jr(e[2])+(e[3]<1?jr(Math.round(e[3]*255)):"")};tt.to.rgb=function(){var e=gr(arguments);return e.length<4||e[3]===1?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"};tt.to.rgb.percent=function(){var e=gr(arguments),t=Math.round(e[0]/255*100),n=Math.round(e[1]/255*100),r=Math.round(e[2]/255*100);return e.length<4||e[3]===1?"rgb("+t+"%, "+n+"%, "+r+"%)":"rgba("+t+"%, "+n+"%, "+r+"%, "+e[3]+")"};tt.to.hsl=function(){var e=gr(arguments);return e.length<4||e[3]===1?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"};tt.to.hwb=function(){var e=gr(arguments),t="";return e.length>=4&&e[3]!==1&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"};tt.to.keyword=function(e){return Vl[e.slice(0,3)]};function Kt(e,t,n){return Math.min(Math.max(t,e),n)}function jr(e){var t=Math.round(e).toString(16).toUpperCase();return t.length<2?"0"+t:t}var Jh=Ol.exports,Nl={exports:{}},yn=Rl,Ll={};for(var Mi in yn)yn.hasOwnProperty(Mi)&&(Ll[yn[Mi]]=Mi);var I=Nl.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var Ke in I)if(I.hasOwnProperty(Ke)){if(!("channels"in I[Ke]))throw new Error("missing channels property: "+Ke);if(!("labels"in I[Ke]))throw new Error("missing channel labels property: "+Ke);if(I[Ke].labels.length!==I[Ke].channels)throw new Error("channel and label counts mismatch: "+Ke);var Qh=I[Ke].channels,ef=I[Ke].labels;delete I[Ke].channels,delete I[Ke].labels,Object.defineProperty(I[Ke],"channels",{value:Qh}),Object.defineProperty(I[Ke],"labels",{value:ef})}I.rgb.hsl=function(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255,i=Math.min(t,n,r),s=Math.max(t,n,r),o=s-i,l,a,u;return s===i?l=0:t===s?l=(n-r)/o:n===s?l=2+(r-t)/o:r===s&&(l=4+(t-n)/o),l=Math.min(l*60,360),l<0&&(l+=360),u=(i+s)/2,s===i?a=0:u<=.5?a=o/(s+i):a=o/(2-s-i),[l,a*100,u*100]};I.rgb.hsv=function(e){var t,n,r,i,s,o=e[0]/255,l=e[1]/255,a=e[2]/255,u=Math.max(o,l,a),c=u-Math.min(o,l,a),h=function(f){return(u-f)/6/c+1/2};return c===0?i=s=0:(s=c/u,t=h(o),n=h(l),r=h(a),o===u?i=r-n:l===u?i=1/3+t-r:a===u&&(i=2/3+n-t),i<0?i+=1:i>1&&(i-=1)),[i*360,s*100,u*100]};I.rgb.hwb=function(e){var t=e[0],n=e[1],r=e[2],i=I.rgb.hsl(e)[0],s=1/255*Math.min(t,Math.min(n,r));return r=1-1/255*Math.max(t,Math.max(n,r)),[i,s*100,r*100]};I.rgb.cmyk=function(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255,i,s,o,l;return l=Math.min(1-t,1-n,1-r),i=(1-t-l)/(1-l)||0,s=(1-n-l)/(1-l)||0,o=(1-r-l)/(1-l)||0,[i*100,s*100,o*100,l*100]};function tf(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)+Math.pow(e[2]-t[2],2)}I.rgb.keyword=function(e){var t=Ll[e];if(t)return t;var n=1/0,r;for(var i in yn)if(yn.hasOwnProperty(i)){var s=yn[i],o=tf(e,s);o<n&&(n=o,r=i)}return r};I.keyword.rgb=function(e){return yn[e]};I.rgb.xyz=function(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255;t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92,n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92,r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92;var i=t*.4124+n*.3576+r*.1805,s=t*.2126+n*.7152+r*.0722,o=t*.0193+n*.1192+r*.9505;return[i*100,s*100,o*100]};I.rgb.lab=function(e){var t=I.rgb.xyz(e),n=t[0],r=t[1],i=t[2],s,o,l;return n/=95.047,r/=100,i/=108.883,n=n>.008856?Math.pow(n,1/3):7.787*n+16/116,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,i=i>.008856?Math.pow(i,1/3):7.787*i+16/116,s=116*r-16,o=500*(n-r),l=200*(r-i),[s,o,l]};I.hsl.rgb=function(e){var t=e[0]/360,n=e[1]/100,r=e[2]/100,i,s,o,l,a;if(n===0)return a=r*255,[a,a,a];r<.5?s=r*(1+n):s=r+n-r*n,i=2*r-s,l=[0,0,0];for(var u=0;u<3;u++)o=t+1/3*-(u-1),o<0&&o++,o>1&&o--,6*o<1?a=i+(s-i)*6*o:2*o<1?a=s:3*o<2?a=i+(s-i)*(2/3-o)*6:a=i,l[u]=a*255;return l};I.hsl.hsv=function(e){var t=e[0],n=e[1]/100,r=e[2]/100,i=n,s=Math.max(r,.01),o,l;return r*=2,n*=r<=1?r:2-r,i*=s<=1?s:2-s,l=(r+n)/2,o=r===0?2*i/(s+i):2*n/(r+n),[t,o*100,l*100]};I.hsv.rgb=function(e){var t=e[0]/60,n=e[1]/100,r=e[2]/100,i=Math.floor(t)%6,s=t-Math.floor(t),o=255*r*(1-n),l=255*r*(1-n*s),a=255*r*(1-n*(1-s));switch(r*=255,i){case 0:return[r,a,o];case 1:return[l,r,o];case 2:return[o,r,a];case 3:return[o,l,r];case 4:return[a,o,r];case 5:return[r,o,l]}};I.hsv.hsl=function(e){var t=e[0],n=e[1]/100,r=e[2]/100,i=Math.max(r,.01),s,o,l;return l=(2-n)*r,s=(2-n)*i,o=n*i,o/=s<=1?s:2-s,o=o||0,l/=2,[t,o*100,l*100]};I.hwb.rgb=function(e){var t=e[0]/360,n=e[1]/100,r=e[2]/100,i=n+r,s,o,l,a;i>1&&(n/=i,r/=i),s=Math.floor(6*t),o=1-r,l=6*t-s,s&1&&(l=1-l),a=n+l*(o-n);var u,c,h;switch(s){default:case 6:case 0:u=o,c=a,h=n;break;case 1:u=a,c=o,h=n;break;case 2:u=n,c=o,h=a;break;case 3:u=n,c=a,h=o;break;case 4:u=a,c=n,h=o;break;case 5:u=o,c=n,h=a;break}return[u*255,c*255,h*255]};I.cmyk.rgb=function(e){var t=e[0]/100,n=e[1]/100,r=e[2]/100,i=e[3]/100,s,o,l;return s=1-Math.min(1,t*(1-i)+i),o=1-Math.min(1,n*(1-i)+i),l=1-Math.min(1,r*(1-i)+i),[s*255,o*255,l*255]};I.xyz.rgb=function(e){var t=e[0]/100,n=e[1]/100,r=e[2]/100,i,s,o;return i=t*3.2406+n*-1.5372+r*-.4986,s=t*-.9689+n*1.8758+r*.0415,o=t*.0557+n*-.204+r*1.057,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:i*12.92,s=s>.0031308?1.055*Math.pow(s,1/2.4)-.055:s*12.92,o=o>.0031308?1.055*Math.pow(o,1/2.4)-.055:o*12.92,i=Math.min(Math.max(0,i),1),s=Math.min(Math.max(0,s),1),o=Math.min(Math.max(0,o),1),[i*255,s*255,o*255]};I.xyz.lab=function(e){var t=e[0],n=e[1],r=e[2],i,s,o;return t/=95.047,n/=100,r/=108.883,t=t>.008856?Math.pow(t,1/3):7.787*t+16/116,n=n>.008856?Math.pow(n,1/3):7.787*n+16/116,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,i=116*n-16,s=500*(t-n),o=200*(n-r),[i,s,o]};I.lab.xyz=function(e){var t=e[0],n=e[1],r=e[2],i,s,o;s=(t+16)/116,i=n/500+s,o=s-r/200;var l=Math.pow(s,3),a=Math.pow(i,3),u=Math.pow(o,3);return s=l>.008856?l:(s-16/116)/7.787,i=a>.008856?a:(i-16/116)/7.787,o=u>.008856?u:(o-16/116)/7.787,i*=95.047,s*=100,o*=108.883,[i,s,o]};I.lab.lch=function(e){var t=e[0],n=e[1],r=e[2],i,s,o;return i=Math.atan2(r,n),s=i*360/2/Math.PI,s<0&&(s+=360),o=Math.sqrt(n*n+r*r),[t,o,s]};I.lch.lab=function(e){var t=e[0],n=e[1],r=e[2],i,s,o;return o=r/360*2*Math.PI,i=n*Math.cos(o),s=n*Math.sin(o),[t,i,s]};I.rgb.ansi16=function(e){var t=e[0],n=e[1],r=e[2],i=1 in arguments?arguments[1]:I.rgb.hsv(e)[2];if(i=Math.round(i/50),i===0)return 30;var s=30+(Math.round(r/255)<<2|Math.round(n/255)<<1|Math.round(t/255));return i===2&&(s+=60),s};I.hsv.ansi16=function(e){return I.rgb.ansi16(I.hsv.rgb(e),e[2])};I.rgb.ansi256=function(e){var t=e[0],n=e[1],r=e[2];if(t===n&&n===r)return t<8?16:t>248?231:Math.round((t-8)/247*24)+232;var i=16+36*Math.round(t/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5);return i};I.ansi16.rgb=function(e){var t=e%10;if(t===0||t===7)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];var n=(~~(e>50)+1)*.5,r=(t&1)*n*255,i=(t>>1&1)*n*255,s=(t>>2&1)*n*255;return[r,i,s]};I.ansi256.rgb=function(e){if(e>=232){var t=(e-232)*10+8;return[t,t,t]}e-=16;var n,r=Math.floor(e/36)/5*255,i=Math.floor((n=e%36)/6)/5*255,s=n%6/5*255;return[r,i,s]};I.rgb.hex=function(e){var t=((Math.round(e[0])&255)<<16)+((Math.round(e[1])&255)<<8)+(Math.round(e[2])&255),n=t.toString(16).toUpperCase();return"000000".substring(n.length)+n};I.hex.rgb=function(e){var t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];var n=t[0];t[0].length===3&&(n=n.split("").map(function(l){return l+l}).join(""));var r=parseInt(n,16),i=r>>16&255,s=r>>8&255,o=r&255;return[i,s,o]};I.rgb.hcg=function(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255,i=Math.max(Math.max(t,n),r),s=Math.min(Math.min(t,n),r),o=i-s,l,a;return o<1?l=s/(1-o):l=0,o<=0?a=0:i===t?a=(n-r)/o%6:i===n?a=2+(r-t)/o:a=4+(t-n)/o+4,a/=6,a%=1,[a*360,o*100,l*100]};I.hsl.hcg=function(e){var t=e[1]/100,n=e[2]/100,r=1,i=0;return n<.5?r=2*t*n:r=2*t*(1-n),r<1&&(i=(n-.5*r)/(1-r)),[e[0],r*100,i*100]};I.hsv.hcg=function(e){var t=e[1]/100,n=e[2]/100,r=t*n,i=0;return r<1&&(i=(n-r)/(1-r)),[e[0],r*100,i*100]};I.hcg.rgb=function(e){var t=e[0]/360,n=e[1]/100,r=e[2]/100;if(n===0)return[r*255,r*255,r*255];var i=[0,0,0],s=t%1*6,o=s%1,l=1-o,a=0;switch(Math.floor(s)){case 0:i[0]=1,i[1]=o,i[2]=0;break;case 1:i[0]=l,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=o;break;case 3:i[0]=0,i[1]=l,i[2]=1;break;case 4:i[0]=o,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=l}return a=(1-n)*r,[(n*i[0]+a)*255,(n*i[1]+a)*255,(n*i[2]+a)*255]};I.hcg.hsv=function(e){var t=e[1]/100,n=e[2]/100,r=t+n*(1-t),i=0;return r>0&&(i=t/r),[e[0],i*100,r*100]};I.hcg.hsl=function(e){var t=e[1]/100,n=e[2]/100,r=n*(1-t)+.5*t,i=0;return r>0&&r<.5?i=t/(2*r):r>=.5&&r<1&&(i=t/(2*(1-r))),[e[0],i*100,r*100]};I.hcg.hwb=function(e){var t=e[1]/100,n=e[2]/100,r=t+n*(1-t);return[e[0],(r-t)*100,(1-r)*100]};I.hwb.hcg=function(e){var t=e[1]/100,n=e[2]/100,r=1-n,i=r-t,s=0;return i<1&&(s=(r-i)/(1-i)),[e[0],i*100,s*100]};I.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]};I.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]};I.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]};I.gray.hsl=I.gray.hsv=function(e){return[0,0,e[0]]};I.gray.hwb=function(e){return[0,100,e[0]]};I.gray.cmyk=function(e){return[0,0,0,e[0]]};I.gray.lab=function(e){return[e[0],0,0]};I.gray.hex=function(e){var t=Math.round(e[0]/100*255)&255,n=(t<<16)+(t<<8)+t,r=n.toString(16).toUpperCase();return"000000".substring(r.length)+r};I.rgb.gray=function(e){var t=(e[0]+e[1]+e[2])/3;return[t/255*100]};var Bl=Nl.exports,Xr=Bl;function nf(){for(var e={},t=Object.keys(Xr),n=t.length,r=0;r<n;r++)e[t[r]]={distance:-1,parent:null};return e}function rf(e){var t=nf(),n=[e];for(t[e].distance=0;n.length;)for(var r=n.pop(),i=Object.keys(Xr[r]),s=i.length,o=0;o<s;o++){var l=i[o],a=t[l];a.distance===-1&&(a.distance=t[r].distance+1,a.parent=r,n.unshift(l))}return t}function sf(e,t){return function(n){return t(e(n))}}function of(e,t){for(var n=[t[e].parent,e],r=Xr[t[e].parent][e],i=t[e].parent;t[i].parent;)n.unshift(t[i].parent),r=sf(Xr[t[i].parent][i],r),i=t[i].parent;return r.conversion=n,r}var af=function(e){for(var t=rf(e),n={},r=Object.keys(t),i=r.length,s=0;s<i;s++){var o=r[s],l=t[o];l.parent!==null&&(n[o]=of(o,t))}return n},Xi=Bl,lf=af,kn={},cf=Object.keys(Xi);function uf(e){var t=function(n){return n==null?n:(arguments.length>1&&(n=Array.prototype.slice.call(arguments)),e(n))};return"conversion"in e&&(t.conversion=e.conversion),t}function df(e){var t=function(n){if(n==null)return n;arguments.length>1&&(n=Array.prototype.slice.call(arguments));var r=e(n);if(typeof r=="object")for(var i=r.length,s=0;s<i;s++)r[s]=Math.round(r[s]);return r};return"conversion"in e&&(t.conversion=e.conversion),t}cf.forEach(function(e){kn[e]={},Object.defineProperty(kn[e],"channels",{value:Xi[e].channels}),Object.defineProperty(kn[e],"labels",{value:Xi[e].labels});var t=lf(e),n=Object.keys(t);n.forEach(function(r){var i=t[r];kn[e][r]=df(i),kn[e][r].raw=uf(i)})});var hf=kn,Zn=Jh,et=hf,Ss=[].slice,Ul=["keyword","gray","hex"],qi={};Object.keys(et).forEach(function(e){qi[Ss.call(et[e].labels).sort().join("")]=e});var qr={};function De(e,t){if(!(this instanceof De))return new De(e,t);if(t&&t in Ul&&(t=null),t&&!(t in et))throw new Error("Unknown model: "+t);var n,r;if(e==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(e instanceof De)this.model=e.model,this.color=e.color.slice(),this.valpha=e.valpha;else if(typeof e=="string"){var i=Zn.get(e);if(i===null)throw new Error("Unable to parse color from string: "+e);this.model=i.model,r=et[this.model].channels,this.color=i.value.slice(0,r),this.valpha=typeof i.value[r]=="number"?i.value[r]:1}else if(e.length){this.model=t||"rgb",r=et[this.model].channels;var s=Ss.call(e,0,r);this.color=Yi(s,r),this.valpha=typeof e[r]=="number"?e[r]:1}else if(typeof e=="number")e&=16777215,this.model="rgb",this.color=[e>>16&255,e>>8&255,e&255],this.valpha=1;else{this.valpha=1;var o=Object.keys(e);"alpha"in e&&(o.splice(o.indexOf("alpha"),1),this.valpha=typeof e.alpha=="number"?e.alpha:0);var l=o.sort().join("");if(!(l in qi))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=qi[l];var a=et[this.model].labels,u=[];for(n=0;n<a.length;n++)u.push(e[a[n]]);this.color=Yi(u)}if(qr[this.model])for(r=et[this.model].channels,n=0;n<r;n++){var c=qr[this.model][n];c&&(this.color[n]=c(this.color[n]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}De.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(e){var t=this.model in Zn.to?this:this.rgb();t=t.round(typeof e=="number"?e:1);var n=t.valpha===1?t.color:t.color.concat(this.valpha);return Zn.to[t.model](n)},percentString:function(e){var t=this.rgb().round(typeof e=="number"?e:1),n=t.valpha===1?t.color:t.color.concat(this.valpha);return Zn.to.rgb.percent(n)},array:function(){return this.valpha===1?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var e={},t=et[this.model].channels,n=et[this.model].labels,r=0;r<t;r++)e[n[r]]=this.color[r];return this.valpha!==1&&(e.alpha=this.valpha),e},unitArray:function(){var e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,this.valpha!==1&&e.push(this.valpha),e},unitObject:function(){var e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,this.valpha!==1&&(e.alpha=this.valpha),e},round:function(e){return e=Math.max(e||0,0),new De(this.color.map(pf(e)).concat(this.valpha),this.model)},alpha:function(e){return arguments.length?new De(this.color.concat(Math.max(0,Math.min(1,e))),this.model):this.valpha},red:ge("rgb",0,Pe(255)),green:ge("rgb",1,Pe(255)),blue:ge("rgb",2,Pe(255)),hue:ge(["hsl","hsv","hsl","hwb","hcg"],0,function(e){return(e%360+360)%360}),saturationl:ge("hsl",1,Pe(100)),lightness:ge("hsl",2,Pe(100)),saturationv:ge("hsv",1,Pe(100)),value:ge("hsv",2,Pe(100)),chroma:ge("hcg",1,Pe(100)),gray:ge("hcg",2,Pe(100)),white:ge("hwb",1,Pe(100)),wblack:ge("hwb",2,Pe(100)),cyan:ge("cmyk",0,Pe(100)),magenta:ge("cmyk",1,Pe(100)),yellow:ge("cmyk",2,Pe(100)),black:ge("cmyk",3,Pe(100)),x:ge("xyz",0,Pe(100)),y:ge("xyz",1,Pe(100)),z:ge("xyz",2,Pe(100)),l:ge("lab",0,Pe(100)),a:ge("lab",1),b:ge("lab",2),keyword:function(e){return arguments.length?new De(e):et[this.model].keyword(this.color)},hex:function(e){return arguments.length?new De(e):Zn.to.hex(this.rgb().round().color)},rgbNumber:function(){var e=this.rgb().color;return(e[0]&255)<<16|(e[1]&255)<<8|e[2]&255},luminosity:function(){for(var e=this.rgb().color,t=[],n=0;n<e.length;n++){var r=e[n]/255;t[n]=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)}return .2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(e){var t=this.luminosity(),n=e.luminosity();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)},level:function(e){var t=this.contrast(e);return t>=7.1?"AAA":t>=4.5?"AA":""},isDark:function(){var e=this.rgb().color,t=(e[0]*299+e[1]*587+e[2]*114)/1e3;return t<128},isLight:function(){return!this.isDark()},negate:function(){for(var e=this.rgb(),t=0;t<3;t++)e.color[t]=255-e.color[t];return e},lighten:function(e){var t=this.hsl();return t.color[2]+=t.color[2]*e,t},darken:function(e){var t=this.hsl();return t.color[2]-=t.color[2]*e,t},saturate:function(e){var t=this.hsl();return t.color[1]+=t.color[1]*e,t},desaturate:function(e){var t=this.hsl();return t.color[1]-=t.color[1]*e,t},whiten:function(e){var t=this.hwb();return t.color[1]+=t.color[1]*e,t},blacken:function(e){var t=this.hwb();return t.color[2]+=t.color[2]*e,t},grayscale:function(){var e=this.rgb().color,t=e[0]*.3+e[1]*.59+e[2]*.11;return De.rgb(t,t,t)},fade:function(e){return this.alpha(this.valpha-this.valpha*e)},opaquer:function(e){return this.alpha(this.valpha+this.valpha*e)},rotate:function(e){var t=this.hsl(),n=t.color[0];return n=(n+e)%360,n=n<0?360+n:n,t.color[0]=n,t},mix:function(e,t){if(!e||!e.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof e);var n=e.rgb(),r=this.rgb(),i=t===void 0?.5:t,s=2*i-1,o=n.alpha()-r.alpha(),l=((s*o===-1?s:(s+o)/(1+s*o))+1)/2,a=1-l;return De.rgb(l*n.red()+a*r.red(),l*n.green()+a*r.green(),l*n.blue()+a*r.blue(),n.alpha()*i+r.alpha()*(1-i))}};Object.keys(et).forEach(function(e){if(Ul.indexOf(e)===-1){var t=et[e].channels;De.prototype[e]=function(){if(this.model===e)return new De(this);if(arguments.length)return new De(arguments,e);var n=typeof arguments[t]=="number"?t:this.valpha;return new De(mf(et[this.model][e].raw(this.color)).concat(n),e)},De[e]=function(n){return typeof n=="number"&&(n=Yi(Ss.call(arguments),t)),new De(n,e)}}});function ff(e,t){return Number(e.toFixed(t))}function pf(e){return function(t){return ff(t,e)}}function ge(e,t,n){return e=Array.isArray(e)?e:[e],e.forEach(function(r){(qr[r]||(qr[r]=[]))[t]=n}),e=e[0],function(r){var i;return arguments.length?(n&&(r=n(r)),i=this[e](),i.color[t]=r,i):(i=this[e]().color[t],n&&(i=n(i)),i)}}function Pe(e){return function(t){return Math.max(0,Math.min(e,t))}}function mf(e){return Array.isArray(e)?e:[e]}function Yi(e,t){for(var n=0;n<t;n++)typeof e[n]!="number"&&(e[n]=0);return e}var Ts=De,vr={};const gf=Ts;vr.getRgbStr=function(e){return gf(e).rgb().round().color.join(",")};const vf=["hex","rgb","hsl"];function yf(e){return!e||vf.indexOf(e)<0?"hex":e}vr.getColorString=function(e,t){const n=yf(t);return n==="hex"?e[n]():e[n]().round().string()};const Ao=Ts,{getColorString:xf}=vr;function bf(e,t,n){const r=Ao(e),i=r.hue(),s=r.saturationv(),o=r.value(),l=2,a=100,u=9,c=100,h=30;function f(b,g){let T;return i>=60&&i<=240?T=b?i-l*g:i+l*g:T=b?i+l*g:i-l*g,T<0?T+=360:T>=360&&(T-=360),Math.round(T)}function p(b,g){let T;return b?T=s<=u?s:s-(s-u)/5*g:T=s+(a-s)/4*g,T}function m(b,g){return b?o+(c-o)/5*g:o<=h?o:o-(o-h)/4*g}const y=t<6,S=y?6-t:t-6,C=t===6?r:Ao({h:f(y,S),s:p(y,S),v:m(y,S)});return xf(C,n)}var zl=bf;const Mr=Ts,wf=zl,{getColorString:Sf}=vr;function Tf(e,t,n){const r=Mr(wf(e,10-t+1)),i=Mr(e),s=i.hue(),o=i.saturationv(),a=Mr({h:i.hue(),s:h(6),v:i.value()}).saturationv(),u=Math.ceil((a-9)/4),c=Math.ceil((100-a)/5);function h(p){if(p<6)return a+(6-p)*c;if(p===6){if(s>=0&&s<50)return o-15;if(s>=50&&s<191)return o-20;if(s>=191&&s<=360)return o-15}return a-u*(p-6)}const f=Mr({h:r.hue(),s:h(t),v:r.value()});return Sf(f,n)}var Cf=Tf;const ko=zl,Fo=Cf;function Ef(e,t={}){const{dark:n,list:r,index:i=6,format:s="hex"}=t;if(r){const o=[],l=n?Fo:ko;for(let a=1;a<=10;a++)o.push(l(e,a,s));return o}return n?Fo(e,i,s):ko(e,i,s)}var Pf=Ef;const jf=Pf,{getRgbStr:Mf}=vr;var Af=jf,kf=Mf;const $l=[{name:"Red",valueLight:"#F53F3F",valueDark:"#F76965"},{name:"Orange",valueLight:"#F77234",valueDark:"#F9925A"},{name:"Green",valueLight:"#00B42A",valueDark:"#27C346"},{name:"Blue",valueLight:"#165DFF",valueDark:"#3C7EFF"},{name:"Purple",valueLight:"#722ED1",valueDark:"#8E51DA"}],Zi=e=>{const t=$l.find(s=>s.name===e),n=window.matchMedia("(prefers-color-scheme: dark)").matches,r=fe("theme"),i=r==="system"?n:r==="dark";return t?i?t.valueDark:t.valueLight:"#165DFF"},Wl=e=>{Af(Zi(e),{list:!0}).map(n=>kf(n)).forEach((n,r)=>{document.body.style.setProperty(`--primary-${r+1}`,n)})},Ff=()=>{const e=mr(),t=P(f=>f.setVisible),n=P(f=>f.theme),r=P(f=>f.setTheme),i=P(f=>f.toggleCollapsed),s=P(f=>f.showAllFeeds),o=P(f=>f.toggleShowAllFeeds),l=P(f=>f.feeds),a=P(f=>f.hiddenFeedIds),u=P(f=>f.setUnreadTotal),c=()=>{localStorage.clear(),document.body.removeAttribute("arco-theme"),Wl("Blue"),e("/login"),ie.success("logout")};let h;switch(n){case"dark":h=d.jsx(pd,{});break;case"system":h=d.jsx(fd,{});break;default:h=d.jsx(hd,{})}return d.jsxs("div",{className:"header",children:[d.jsx("div",{className:"brand",children:d.jsx(Se,{className:"trigger",onClick:i,shape:"circle",size:"small",children:d.jsx(od,{})})}),d.jsx("div",{className:"button-group",children:d.jsxs(Hr,{size:16,children:[d.jsx(lr,{content:"Add a feed",mini:!0,children:d.jsx(Se,{shape:"circle",size:"small",type:"primary",icon:d.jsx(ul,{}),onClick:()=>t("addFeed",!0)})}),d.jsx(lr,{content:s?"Hide some feeds":"Show all feeds",mini:!0,children:d.jsx(Se,{shape:"circle",size:"small",icon:s?d.jsx(ad,{}):d.jsx(ld,{}),onClick:()=>{if(o(),Xe("showAllFeeds",s),!s&&a){const f=l.filter(p=>!a.includes(p.id)).reduce((p,m)=>p+m.unreadCount,0);u(()=>f)}else u(()=>l.reduce((f,p)=>f+p.unreadCount,0))}})}),d.jsx(Se,{shape:"circle",size:"small",icon:d.jsx(cd,{}),onClick:()=>window.open("https://github.com/electh/ReactFlux","_blank")}),d.jsx(vo,{droplist:d.jsx(Gt,{defaultSelectedKeys:[n],className:"theme-menu",children:["light","dark","system"].map(f=>d.jsxs(Gt.Item,{className:"theme-menu-item",onClick:()=>{r(f),Xe("theme",f)},children:[f.charAt(0).toUpperCase()+f.slice(1),n===f&&d.jsx(dl,{style:{marginLeft:8}})]},f))}),trigger:"hover",position:"bottom",children:d.jsx(Se,{icon:h,shape:"circle",size:"small",onClick:()=>{switch(n){case"light":r("dark"),Xe("theme","dark");break;case"dark":r("light"),Xe("theme","light");break}}})}),d.jsx(vo,{droplist:d.jsxs(Gt,{children:[d.jsxs(Gt.Item,{onClick:()=>t("settings",!0),children:[d.jsx(ud,{className:"icon-right"}),"Settings"]},"0"),d.jsxs(Gt.Item,{onClick:c,children:[d.jsx(dd,{className:"icon-right"}),"Logout"]},"1")]}),trigger:"click",position:"br",children:d.jsx(hl,{size:28,style:{cursor:"pointer"},children:d.jsx(fl,{})})})]})})]})},gn=(e,t)=>e.toLowerCase().includes(t.toLowerCase()),Hl=(e,t,n,r)=>t==="0"?n==="all"?e.filter(i=>gn(i.title,r)):e.filter(i=>gn(i.title,r)&&i.status===n):n==="all"?e.filter(i=>gn(i.content,r)):e.filter(i=>gn(i.content,r)&&i.status===n),Yr=(e,t,n,r)=>{const i=s=>n||!r.includes(s.feed.id);return["all","today","group"].includes(t.from)?e.filter(i):e},Df=()=>{const e=P(c=>c.toggleLayout),t=P(c=>c.layout),n=P(c=>c.fontSize),r=P(c=>c.setFontSize),i=P(c=>c.showFeedIcon),s=P(c=>c.toggleShowFeedIcon),o=P(c=>c.themeColor),l=P(c=>c.setThemeColor),a=P(c=>c.articleWidth),u=P(c=>c.setArticleWidth);return d.jsxs(d.Fragment,{children:[d.jsx(W.Title,{heading:6,style:{marginTop:0},children:"Theme"}),d.jsx(W.Text,{type:"secondary",children:"Customize your UI theme"}),d.jsxs("div",{className:"setting-row",children:[d.jsxs("div",{children:[d.jsx(W.Title,{heading:6,style:{marginTop:0},children:"Accent color"}),d.jsx(W.Text,{type:"secondary",children:"Choose your accent color"})]}),d.jsx("div",{style:{display:"flex"},children:$l.map(c=>d.jsx(lr,{content:c.name,children:d.jsx("button",{type:"button",className:"accent-color-button",style:{backgroundColor:Zi(c.name),outline:c.name===o?`1px solid ${Zi(c.name)}`:"none"},onClick:()=>{l(c.name),Xe("themeColor",c.name),Wl(c.name)},onKeyDown:h=>{(h.key==="Enter"||h.key===" ")&&l(c.name)}})},c.name))})]}),d.jsx(xt,{}),d.jsxs("div",{className:"setting-row",children:[d.jsxs("div",{children:[d.jsx(W.Title,{heading:6,style:{marginTop:0},children:"Compact article list"}),d.jsx(W.Text,{type:"secondary",children:"Use small thumbnail in article list"})]}),d.jsx("div",{children:d.jsx(Nn,{checked:t==="small",onChange:c=>{e(),Xe("layout",c?"small":"large")}})})]}),d.jsx(xt,{}),d.jsxs("div",{className:"setting-row",children:[d.jsxs("div",{children:[d.jsx(W.Title,{heading:6,style:{marginTop:0},children:"Show feed icon"}),d.jsx(W.Text,{type:"secondary",children:"Show feed icon in feed list and article list"})]}),d.jsx("div",{children:d.jsx(Nn,{checked:i,onChange:c=>{s(),Xe("showFeedIcon",c)}})})]}),d.jsx(xt,{}),d.jsxs("div",{className:"setting-row",children:[d.jsxs("div",{children:[d.jsx(W.Title,{heading:6,style:{marginTop:0},children:"Font size"}),d.jsx(W.Text,{type:"secondary",children:"Adjust article text size"})]}),d.jsx("div",{children:d.jsxs(Hr,{children:[d.jsx(W.Text,{style:{fontSize:"0.75rem"},children:"A"}),d.jsx(yo,{formatTooltip:c=>`${c}rem`,max:1.25,min:.75,showTicks:!0,step:.05,style:{width:200},value:n,onChange:c=>{r(c),Xe("fontSize",c)}}),d.jsx(W.Text,{style:{fontSize:"1.25rem"},children:"A"})]})})]}),d.jsx(xt,{}),d.jsxs("div",{className:"setting-row",children:[d.jsxs("div",{children:[d.jsx(W.Title,{heading:6,style:{marginTop:0},children:"Article width"}),d.jsx(W.Text,{type:"secondary",children:"Adjust article width"})]}),d.jsx("div",{children:d.jsxs(Hr,{children:[d.jsx(W.Text,{children:"60%"}),d.jsx(yo,{formatTooltip:c=>`${c}%`,max:90,min:60,showTicks:!0,step:10,style:{width:200},value:a,onChange:c=>{u(c),Xe("bodyWidth",c)}}),d.jsx(W.Text,{children:"90%"})]})})]})]})},ci=()=>{const[e,t]=x.useState(window.innerWidth);return x.useEffect(()=>{const n=()=>t(window.innerWidth);return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),e},Ai=e=>e.slice().sort((t,n)=>t.parsing_error_count>0&&n.parsing_error_count===0?-1:t.parsing_error_count===0&&n.parsing_error_count>0?1:0),Of=()=>{const[e,t]=x.useState(!1),[n]=ye.useForm(),[r,i]=x.useState({}),s=P(g=>g.feeds),o=P(g=>g.setFeeds),[l,a]=x.useState(Ai(s)),u=P(g=>g.groups),c=P(g=>g.updateFeedHidden),f=ci()<=768,p=l.map(g=>({category:g.category,checked_at:g.checked_at,crawler:g.crawler,feed_url:g.feed_url,key:g.id,parsing_error_count:g.parsing_error_count,title:g.title,hidden:g.hide_globally}));x.useEffect(()=>{a(Ai(s))},[s]);const m=g=>{i(g),t(!0),n.setFieldsValue({crawler:g.crawler,group:g.category.id,title:g.title,url:g.feed_url,hidden:g.hidden})},y=async g=>{zh(g.key).then(()=>{ie.success("Refreshed"),g.parsing_error_count=0}).catch(()=>{ie.error("Failed to refresh"),g.parsing_error_count++}).finally(()=>{o(s.map(T=>T.id===g.key?{...T,parsing_error_count:g.parsing_error_count}:T))})},S=async g=>{$h(g.key).then(()=>{ie.success("Unfollowed"),o(s.filter(T=>T.id!==g.key))}).catch(()=>{ie.error("Failed to unfollow")})},C=[{title:"Title",dataIndex:"title",sorter:(g,T)=>g.title.localeCompare(T.title,"en"),render:(g,T)=>{const A=T.parsing_error_count,M=A?`⚠️ ${g}`:g,F=d.jsxs("div",{children:[g,A>0&&d.jsxs(d.Fragment,{children:[d.jsx("br",{}),"⚠️ Parsing error count: ",A]})]});return d.jsx(W.Ellipsis,{expandable:!1,children:d.jsx(lr,{mini:!0,content:F,children:M})})}},!f&&{title:"Url",dataIndex:"feed_url",sorter:(g,T)=>g.feed_url.localeCompare(T.feed_url,"en"),render:g=>d.jsx(W.Ellipsis,{expandable:!1,showTooltip:!0,children:g})},{title:"Group",dataIndex:"category.title",sorter:(g,T)=>g.category.title.localeCompare(T.category.title,"en"),render:g=>d.jsx(W.Ellipsis,{expandable:!1,showTooltip:!0,children:d.jsx(cr,{children:g})})},!f&&{title:"Checked at",dataIndex:"checked_at",sorter:(g,T)=>g.checked_at.localeCompare(T.checked_at,"en"),render:g=>d.jsx(W.Ellipsis,{expandable:!1,children:Ml(g)})},{title:"Actions",dataIndex:"op",fixed:"right",width:100,render:(g,T)=>d.jsxs(Hr,{children:[d.jsx("button",{"aria-label":"Edit this feed",className:"list-item-action",onClick:()=>m(T),type:"button",children:d.jsx(md,{})}),d.jsx("button",{"aria-label":"Refresh this feed",className:"list-item-action",onClick:()=>y(T),type:"button",children:d.jsx(ml,{})}),d.jsx(gl,{position:"left",focusLock:!0,title:"Unfollow？",onOk:async()=>{await S(T)},children:d.jsx("span",{className:"list-item-action",children:d.jsx(gd,{})})})]})}].filter(Boolean),b=async(g,T,A,M,F,E)=>{Uh(g,T,A,M,F,E).then(k=>{o(s.map(O=>O.id===g?{...O,...k.data}:O)),ie.success("Feed updated successfully"),t(!1),n.resetFields()}).catch(()=>{ie.error("Failed to update feed")})};return d.jsxs(d.Fragment,{children:[d.jsx("div",{style:{display:"flex",justifyContent:"center"},children:d.jsx(ft.Search,{className:"search-input",placeholder:"Search feed title or url",searchButton:!0,onChange:g=>a(Ai(s).filter(T=>gn(T.title,g)||gn(T.feed_url,g)))})}),d.jsx(pl,{borderCell:!0,className:"feed-table",columns:C,data:p,pagePosition:"bottomCenter",scroll:{x:!0},size:"small"}),r&&d.jsx(ai,{className:"edit-modal",onOk:n.submit,title:"Edit Feed",unmountOnExit:!0,visible:e,onCancel:()=>{t(!1),n.resetFields()},children:d.jsxs(ye,{form:n,labelCol:{span:7},layout:"vertical",wrapperCol:{span:17},onSubmit:g=>{g.url.trim()?b(r.key,g.url,g.title,g.group,g.crawler,g.hidden).then(()=>{r.hidden!==g.hidden&&c(r.key,g.hidden)}):ie.error("Feed URL cannot be empty")},children:[d.jsx(ye.Item,{label:"Feed URL",field:"url",rules:[{required:!0}],children:d.jsx(ft,{placeholder:"Please input feed URL"})}),d.jsx(ye.Item,{label:"Title",field:"title",rules:[{required:!0}],children:d.jsx(ft,{placeholder:"Please input feed title"})}),d.jsx(ye.Item,{label:"Group",required:!0,field:"group",rules:[{required:!0}],children:d.jsx(Ae,{placeholder:"Please select",children:u.map(g=>d.jsx(Ae.Option,{value:g.id,children:g.title},g.id))})}),d.jsx(ye.Item,{label:"Hidden",field:"hidden",initialValue:r.hide_globally,triggerPropName:"checked",rules:[{type:"boolean"}],children:d.jsx(Nn,{})}),d.jsx(ye.Item,{label:"Fetch original content",field:"crawler",tooltip:d.jsx("div",{children:"Only affects newly retrieved articles"}),style:{marginBottom:0},triggerPropName:"checked",rules:[{type:"boolean"}],children:d.jsx(Nn,{})})]})})]})},Rf=()=>{const e=P(a=>a.showStatus),t=P(a=>a.setShowStatus),n=P(a=>a.homePage),r=P(a=>a.setHomePage),i=P(a=>a.orderBy),s=P(a=>a.pageSize),o=P(a=>a.setOrderBy),l=P(a=>a.setPageSize);return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"setting-row",children:[d.jsxs("div",{children:[d.jsx(W.Title,{heading:6,style:{marginTop:0},children:"Default show status"}),d.jsx(W.Text,{type:"secondary",children:"Which status to show by default:"})]}),d.jsx("div",{children:d.jsxs(Ae,{className:"select-style",placeholder:"Select status",value:e,onChange:a=>{t(a),Xe("showStatus",a)},children:[d.jsx(Ae.Option,{value:"all",children:"All"}),d.jsx(Ae.Option,{value:"unread",children:"Unread"})]})})]}),d.jsx(xt,{}),d.jsxs("div",{className:"setting-row",children:[d.jsxs("div",{children:[d.jsx(W.Title,{heading:6,style:{marginTop:0},children:"Default home page"}),d.jsx(W.Text,{type:"secondary",children:"Which page to show by default:"})]}),d.jsx("div",{children:d.jsxs(Ae,{onChange:a=>{r(a),Xe("homePage",a)},placeholder:"Select page",style:{width:128,marginLeft:16},value:n,children:[d.jsx(Ae.Option,{value:"all",children:"All"}),d.jsx(Ae.Option,{value:"today",children:"Today"}),d.jsx(Ae.Option,{value:"starred",children:"Starred"}),d.jsx(Ae.Option,{value:"history",children:"History"})]})})]}),d.jsx(xt,{}),d.jsxs("div",{className:"setting-row",children:[d.jsxs("div",{children:[d.jsx(W.Title,{heading:6,style:{marginTop:0},children:"Entries order"}),d.jsx(W.Text,{type:"secondary",children:"What order to show entries:"})]}),d.jsx("div",{children:d.jsxs(Ae,{onChange:a=>{o(a),Xe("orderBy",a)},placeholder:"Select order",style:{width:128,marginLeft:16},value:i,children:[d.jsx(Ae.Option,{value:"published_at",children:"Published at"}),d.jsx(Ae.Option,{value:"created_at",children:"Created at"})]})})]}),d.jsx(xt,{}),d.jsxs("div",{className:"setting-row",children:[d.jsxs("div",{children:[d.jsx(W.Title,{heading:6,style:{marginTop:0},children:"Entries per page"}),d.jsx(W.Text,{type:"secondary",children:"Show how many entries per page:"})]}),d.jsx("div",{children:d.jsx(vd,{defaultValue:s,min:1,mode:"button",onChange:a=>{l(a),Xe("pageSize",a)},size:"small",style:{width:128,marginLeft:16}})})]})]})},If=()=>{const e=P(C=>C.feeds),t=P(C=>C.setFeeds),n=P(C=>C.groups),r=P(C=>C.setGroups),i=P(C=>C.updateGroupHidden),[s,o]=x.useState(!1),[l,a]=x.useState(""),[u,c]=x.useState(!1),[h]=ye.useForm(),[f,p]=x.useState({}),m=async()=>{l&&Lh(l).then(C=>{r(b=>[...b,{...C.data,feedCount:0}]),a(""),ie.success("Group added successfully")}).catch(()=>{ie.error("Failed to add group")}),a(""),o(!1)},y=async(C,b,g)=>{Bh(C,b,g).then(T=>{t(e.map(A=>A.category.id===C?{...A,category:{...A.category,title:b}}:A)),r(n.map(A=>A.id===C?{...A,...T.data}:A)),ie.success("Group updated successfully"),c(!1),h.resetFields()}).catch(()=>{ie.error("Failed to update group")})},S=async C=>{Nh(C).then(b=>{b.status===204?(r(n.filter(g=>g.id!==C)),ie.success("Group deleted successfully")):ie.error("Failed to delete group")}).catch(()=>{ie.error("Failed to delete group")})};return d.jsxs(d.Fragment,{children:[d.jsxs("div",{children:[n.map(C=>d.jsx(cr,{className:"tag-style",closable:C.feedCount===0,size:"medium",onClick:()=>{p(C),c(!0),h.setFieldsValue({title:C.title})},onClose:async b=>{b.stopPropagation(),await S(C.id)},children:C.title},C.id)),s?d.jsx(ft,{autoFocus:!0,className:"input-style",onBlur:m,onChange:a,onPressEnter:m,size:"small",value:l}):d.jsx(cr,{className:"add-group-tag",icon:d.jsx(ul,{}),onClick:()=>o(!0),size:"medium",tabIndex:0,children:"Add"})]}),f&&d.jsx(ai,{className:"modal-style",onOk:h.submit,title:"Edit Group",unmountOnExit:!0,visible:u,onCancel:()=>{c(!1),h.resetFields()},children:d.jsxs(ye,{form:h,layout:"vertical",onSubmit:C=>{y(f.id,C.title,C.hidden).then(()=>{f.hide_globally!==C.hidden&&i(f.id,C.hidden)})},labelCol:{style:{flexBasis:90}},wrapperCol:{style:{flexBasis:"calc(100% - 90px)"}},children:[d.jsx(ye.Item,{label:"Title",field:"title",rules:[{required:!0}],children:d.jsx(ft,{placeholder:"Please input group title"})}),d.jsx(ye.Item,{label:"Hidden",field:"hidden",initialValue:f.hide_globally,triggerPropName:"checked",rules:[{type:"boolean"}],children:d.jsx(Nn,{})})]})})]})},_f=[{title:"Key",dataIndex:"keyName",render:e=>d.jsx(cr,{children:e})},{title:"Function",dataIndex:"description"}],Vf=[{key:"1",keyName:"Esc",description:"Dismiss article"},{key:"2",keyName:"←",description:"Previous article"},{key:"3",keyName:"→",description:"Next article"},{key:"4",keyName:"B",description:"Open link externally"},{key:"5",keyName:"D",description:"Fetch original article"},{key:"6",keyName:"M",description:"Mark as read / unread"},{key:"7",keyName:"S",description:"Star / Unstar"}],Nf=()=>d.jsx(pl,{borderCell:!0,columns:_f,data:Vf,pagination:!1,size:"small",style:{margin:"0 auto",width:"80%"}}),Lf=()=>d.jsxs(An,{className:"custom-tabs",defaultActiveTab:"1",tabPosition:"top",children:[d.jsx(An.TabPane,{title:d.jsxs("span",{children:[d.jsx(yd,{style:{marginRight:6}}),"Feeds"]}),children:d.jsx(Of,{})},"1"),d.jsx(An.TabPane,{title:d.jsxs("span",{children:[d.jsx(xd,{style:{marginRight:6}}),"Groups"]}),children:d.jsx(If,{})},"2"),d.jsx(An.TabPane,{title:d.jsxs("span",{children:[d.jsx(bd,{style:{marginRight:6}}),"General"]}),children:d.jsx(Rf,{})},"3"),d.jsx(An.TabPane,{title:d.jsxs("span",{children:[d.jsx(wd,{style:{marginRight:6}}),"Appearance"]}),children:d.jsx(Df,{})},"4"),d.jsx(An.TabPane,{title:d.jsxs("span",{children:[d.jsx(Sd,{style:{marginRight:6}}),"Hotkeys"]}),children:d.jsx(Nf,{})},"5")]}),Bf=[{required:!0}],Uf=[{required:!0}],zf=[{type:"boolean"}],$f=()=>{const e=P(i=>i.activeContent),t=P(i=>i.setActiveContent),n=P(i=>i.setVisible),r=P(i=>i.visible);return d.jsx(ai,{className:"settings-modal",visible:r.settings,alignCenter:!1,title:"Settings",footer:null,unmountOnExit:!0,onFocus:()=>{e&&t(null)},onCancel:()=>n("settings",!1),autoFocus:!1,focusLock:!0,children:d.jsx(Lf,{})})},Wf=()=>{const e=P(c=>c.activeContent),t=P(c=>c.groups),n=P(c=>c.initData),r=P(c=>c.setActiveContent),i=P(c=>c.setVisible),s=P(c=>c.visible),[o,l]=x.useState(!1),[a]=ye.useForm(),u=async(c,h,f)=>{l(!0),Wh(c,h,f).then(()=>{n(),ie.success("Added a feed successfully"),i("addFeed",!1),a.resetFields()}).catch(()=>{ie.error("Failed to add a feed")}),l(!1)};return d.jsx(ai,{title:"Add Feed",visible:s.addFeed,unmountOnExit:!0,style:{width:"400px"},onFocus:()=>{e&&r(null)},onOk:a.submit,confirmLoading:o,onCancel:()=>{i("addFeed",!1),a.resetFields()},children:d.jsxs(ye,{form:a,labelCol:{span:7},layout:"vertical",wrapperCol:{span:17},onSubmit:c=>{c.url.trim()?u(c.url.trim(),c.group,c.crawler):ie.error("Feed URL cannot be empty")},children:[d.jsx(ye.Item,{label:"Feed URL",field:"url",rules:Bf,children:d.jsx(ft,{placeholder:"Please input a feed URL"})}),d.jsx(ye.Item,{label:"Group",required:!0,field:"group",rules:Uf,children:d.jsx(Ae,{placeholder:"Please select a category",showSearch:!0,filterOption:(c,h)=>gn(h.props.children,c),children:t.map(c=>d.jsx(Ae.Option,{value:c.id,children:c.title},c.id))})}),d.jsx(ye.Item,{label:"Fetch original content",initialValue:!1,field:"crawler",style:{marginBottom:0},triggerPropName:"checked",rules:zf,children:d.jsx(Nn,{})})]})})},Hf=()=>d.jsxs("div",{className:"main",children:[d.jsx(Td,{}),d.jsx($f,{}),d.jsx(Wf,{})]});function Br(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Br=function(n){return typeof n}:Br=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Br(e)}function Cs(e){var t=typeof e=="string"||e instanceof String;if(!t){var n=Br(e);throw e===null?n="null":n==="object"&&(n=e.constructor.name),new TypeError("Expected a string but received a ".concat(n))}}function Gl(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;for(var n in t)typeof e[n]>"u"&&(e[n]=t[n]);return e}var Gf={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_numeric_tld:!1,allow_wildcard:!1,ignore_max_length:!1};function Kf(e,t){Cs(e),t=Gl(t,Gf),t.allow_trailing_dot&&e[e.length-1]==="."&&(e=e.substring(0,e.length-1)),t.allow_wildcard===!0&&e.indexOf("*.")===0&&(e=e.substring(2));var n=e.split("."),r=n[n.length-1];return t.require_tld&&(n.length<2||!t.allow_numeric_tld&&!/^([a-z\u00A1-\u00A8\u00AA-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}|xn[a-z0-9-]{2,})$/i.test(r)||/\s/.test(r))||!t.allow_numeric_tld&&/^\d+$/.test(r)?!1:n.every(function(i){return!(i.length>63&&!t.ignore_max_length||!/^[a-z_\u00a1-\uffff0-9-]+$/i.test(i)||/[\uff01-\uff5e]/.test(i)||/^-|-$/.test(i)||!t.allow_underscores&&/_/.test(i))})}var Do="(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",zt="(".concat(Do,"[.]){3}").concat(Do),Xf=new RegExp("^".concat(zt,"$")),we="(?:[0-9a-fA-F]{1,4})",qf=new RegExp("^("+"(?:".concat(we,":){7}(?:").concat(we,"|:)|")+"(?:".concat(we,":){6}(?:").concat(zt,"|:").concat(we,"|:)|")+"(?:".concat(we,":){5}(?::").concat(zt,"|(:").concat(we,"){1,2}|:)|")+"(?:".concat(we,":){4}(?:(:").concat(we,"){0,1}:").concat(zt,"|(:").concat(we,"){1,3}|:)|")+"(?:".concat(we,":){3}(?:(:").concat(we,"){0,2}:").concat(zt,"|(:").concat(we,"){1,4}|:)|")+"(?:".concat(we,":){2}(?:(:").concat(we,"){0,3}:").concat(zt,"|(:").concat(we,"){1,5}|:)|")+"(?:".concat(we,":){1}(?:(:").concat(we,"){0,4}:").concat(zt,"|(:").concat(we,"){1,6}|:)|")+"(?::((?::".concat(we,"){0,5}:").concat(zt,"|(?::").concat(we,"){1,7}|:))")+")(%[0-9a-zA-Z-.:]{1,})?$");function Zr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return Cs(e),t=String(t),t?t==="4"?Xf.test(e):t==="6"?qf.test(e):!1:Zr(e,4)||Zr(e,6)}function Yf(e,t){return ep(e)||Qf(e,t)||Jf(e,t)||Zf()}function Zf(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jf(e,t){if(e){if(typeof e=="string")return Oo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Oo(e,t)}}function Oo(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qf(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,i=!1,s=void 0;try{for(var o=e[Symbol.iterator](),l;!(r=(l=o.next()).done)&&(n.push(l.value),!(t&&n.length===t));r=!0);}catch(a){i=!0,s=a}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw s}}return n}}function ep(e){if(Array.isArray(e))return e}var tp={protocols:["http","https","ftp"],require_tld:!0,require_protocol:!1,require_host:!0,require_port:!1,require_valid_protocol:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_protocol_relative_urls:!1,allow_fragments:!0,allow_query_components:!0,validate_length:!0},np=/^\[([^\]]+)\](?::([0-9]+))?$/;function rp(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function Ro(e,t){for(var n=0;n<t.length;n++){var r=t[n];if(e===r||rp(r)&&r.test(e))return!0}return!1}function Kl(e,t){if(Cs(e),!e||/[\s<>]/.test(e)||e.indexOf("mailto:")===0||(t=Gl(t,tp),t.validate_length&&e.length>=2083)||!t.allow_fragments&&e.includes("#")||!t.allow_query_components&&(e.includes("?")||e.includes("&")))return!1;var n,r,i,s,o,l,a,u;if(a=e.split("#"),e=a.shift(),a=e.split("?"),e=a.shift(),a=e.split("://"),a.length>1){if(n=a.shift().toLowerCase(),t.require_valid_protocol&&t.protocols.indexOf(n)===-1)return!1}else{if(t.require_protocol)return!1;if(e.slice(0,2)==="//"){if(!t.allow_protocol_relative_urls)return!1;a[0]=e.slice(2)}}if(e=a.join("://"),e==="")return!1;if(a=e.split("/"),e=a.shift(),e===""&&!t.require_host)return!0;if(a=e.split("@"),a.length>1){if(t.disallow_auth||a[0]===""||(r=a.shift(),r.indexOf(":")>=0&&r.split(":").length>2))return!1;var c=r.split(":"),h=Yf(c,2),f=h[0],p=h[1];if(f===""&&p==="")return!1}s=a.join("@"),l=null,u=null;var m=s.match(np);if(m?(i="",u=m[1],l=m[2]||null):(a=s.split(":"),i=a.shift(),a.length&&(l=a.join(":"))),l!==null&&l.length>0){if(o=parseInt(l,10),!/^[0-9]+$/.test(l)||o<=0||o>65535)return!1}else if(t.require_port)return!1;return t.host_whitelist?Ro(i,t.host_whitelist):i===""&&!t.require_host?!0:!(!Zr(i)&&!Kf(i,t)&&(!u||!Zr(u,6))||(i=i||u,t.host_blacklist&&Ro(i,t.host_blacklist)))}const Xl=e=>{const t=new URL(e);return`${t.protocol}//${t.hostname}`},qn=Gt.Item,{Sider:ip}=Md,sp=({group:e,isOpen:t,feedsGroupedById:n})=>{const r=P(o=>o.showAllFeeds),i=P(o=>o.hiddenFeedIds);let{unreadCount:s}=e;return!r&&i&&(s=n[e.id].filter(o=>!i.includes(o.id)).reduce((o,l)=>o+l.unreadCount,0)),d.jsxs("div",{className:"group-title",children:[d.jsxs(W.Ellipsis,{expandable:!1,showTooltip:!0,style:{width:s?"80%":"100%"},children:[t?d.jsx(Ad,{}):d.jsx(kd,{}),e.title]}),s>0&&d.jsx(W.Ellipsis,{className:"unread-count",expandable:!1,children:s})]})},op=()=>{const e=Cd(),t=mr(),n=P(M=>M.collapsed),r=P(M=>M.feeds),i=P(M=>M.groups),s=P(M=>M.loading),o=P(M=>M.unreadTotal),l=P(M=>M.unreadToday),a=P(M=>M.starredCount),u=P(M=>M.readCount),c=P(M=>M.showFeedIcon),h=P(M=>M.toggleCollapsed),f=P(M=>M.hiddenFeedIds),p=P(M=>M.hiddenGroupIds),m=P(M=>M.showAllFeeds),[y,S]=x.useState([]),[C,b]=x.useState([]),g=e.pathname,T=(M,F)=>{b(F)},A=r.reduce((M,F)=>{if(!m&&f.includes(F.id))return M;Kl(F.site_url)||(F.site_url=Xl(F.feed_url));const{id:E}=F.category;return M[E]=M[E]||[],M[E].push(F),M},{});return x.useEffect(()=>{S([g]),n||window.innerWidth<=992&&h(!0)},[g]),x.useEffect(()=>{s||b([])},[s]),d.jsx(ip,{breakpoint:"lg",className:"sidebar",collapsed:n,collapsedWidth:0,collapsible:!0,onCollapse:h,trigger:null,width:240,style:{borderRight:n?"none":"1px solid var(--color-border-2)",display:n?"none":"block"},children:d.jsxs(Gt,{autoScrollIntoView:!0,collapse:n,defaultSelectedKeys:[g],hasCollapseButton:!0,onClickSubMenu:T,onCollapseChange:h,selectedKeys:y,style:{width:"240px",height:"100%"},children:[d.jsxs("div",{className:"menu-header",style:{visibility:n?"hidden":"visible"},children:[d.jsx(hl,{className:"avatar",size:32,children:d.jsx(vl,{style:{color:"var(--color-bg-1)"}})}),d.jsx(W.Title,{heading:6,style:{margin:"0"},children:"ReactFlux"})]}),d.jsx(xt,{className:"divider"}),d.jsx(W.Title,{className:"section-title",heading:6,children:"Articles"}),d.jsx(Gr,{loading:s,animation:!0,text:{rows:3}}),s?null:d.jsxs("div",{children:[d.jsx(qn,{onClick:()=>t("/all"),children:d.jsxs("div",{className:"custom-menu-item",children:[d.jsxs("span",{children:[d.jsx(Ed,{}),"All"]}),d.jsx(W.Ellipsis,{className:"item-count",expandable:!1,children:o||""})]})},"/all"),d.jsx(qn,{onClick:()=>t("/today"),children:d.jsxs("div",{className:"custom-menu-item",children:[d.jsxs("span",{children:[d.jsx(Pd,{}),"Today"]}),d.jsx(W.Ellipsis,{className:"item-count",expandable:!1,children:l||""})]})},"/today"),d.jsx(qn,{onClick:()=>t("/starred"),children:d.jsxs("div",{className:"custom-menu-item",children:[d.jsxs("span",{children:[d.jsx(bs,{}),"Starred"]}),d.jsx(W.Ellipsis,{className:"item-count",expandable:!1,children:a||""})]})},"/starred"),d.jsx(qn,{onClick:()=>t("/history"),children:d.jsxs("div",{className:"custom-menu-item",children:[d.jsxs("span",{children:[d.jsx(jd,{}),"History"]}),d.jsx(W.Ellipsis,{className:"item-count",expandable:!1,children:u||""})]})},"/history")]}),d.jsx(W.Title,{className:"section-title",heading:6,children:"Feeds"}),d.jsx(Gr,{loading:s,animation:!0,text:{rows:6}}),s?null:i.filter(M=>m||!p.includes(M.id)).map(M=>{var F;return d.jsx(Gt.SubMenu,{selectable:!0,title:d.jsx(sp,{group:M,isOpen:C.includes(`/group/${M.id}`),feedsGroupedById:A}),onClick:E=>{S([`/group/${M.id}`]),!(E.target.tagName==="svg"||E.target.tagName==="path")&&g!==`/group/${M.id}`&&t(`/group/${M.id}`)},children:(F=A[M.id])==null?void 0:F.map(E=>d.jsx(qn,{onClick:k=>{k.stopPropagation(),S([`/group/${M.id}`]),t(`/feed/${E.id}`)},children:d.jsxs("div",{className:"custom-menu-item",children:[d.jsxs(W.Ellipsis,{expandable:!1,showTooltip:!0,style:{width:E.unreadCount!==0?"80%":"100%"},children:[c&&d.jsx("img",{src:`https://icons.duckduckgo.com/ip3/${new URL(E.site_url).hostname}.ico`,alt:"Icon",style:{marginRight:"8px",width:"16px",height:"16px",verticalAlign:"-2px"}}),E.title]}),E.unreadCount!==0&&d.jsx(W.Ellipsis,{className:"item-count",expandable:!1,children:E.unreadCount})]})},`/feed/${E.id}`))},`/group/${M.id}`)})]})})},ap=()=>{const e=P(i=>i.initData),t=P(i=>i.theme),n=P(i=>i.isSysDarkMode),r=P(i=>i.setIsSysDarkMode);return x.useEffect(()=>{e();const i=o=>{r(o.matches)},s=window.matchMedia("(prefers-color-scheme: dark)");return s.addEventListener("change",i),()=>{s.removeEventListener("change",i)}},[]),x.useEffect(()=>{(s=>{document.body.setAttribute("arco-theme",s?"dark":"light"),document.body.style.colorScheme=s?"dark":"light"})(t==="system"?n:t==="dark")},[n,t]),d.jsxs("div",{className:"app",children:[d.jsx(op,{}),d.jsx(Ff,{}),d.jsx(Hf,{})]})};var yr={};(function e(t,n,r,i){var s=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),o=typeof Path2D=="function"&&typeof DOMMatrix=="function",l=function(){if(!t.OffscreenCanvas)return!1;var w=new OffscreenCanvas(1,1),v=w.getContext("2d");v.fillRect(0,0,1,1);var R=w.transferToImageBitmap();try{v.createPattern(R,"no-repeat")}catch{return!1}return!0}();function a(){}function u(w){var v=n.exports.Promise,R=v!==void 0?v:t.Promise;return typeof R=="function"?new R(w):(w(a,a),null)}var c=function(w,v){return{transform:function(R){if(w)return R;if(v.has(R))return v.get(R);var _=new OffscreenCanvas(R.width,R.height),V=_.getContext("2d");return V.drawImage(R,0,0),v.set(R,_),_},clear:function(){v.clear()}}}(l,new Map),h=function(){var w=Math.floor(16.666666666666668),v,R,_={},V=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(v=function(L){var B=Math.random();return _[B]=requestAnimationFrame(function N(U){V===U||V+w-1<U?(V=U,delete _[B],L()):_[B]=requestAnimationFrame(N)}),B},R=function(L){_[L]&&cancelAnimationFrame(_[L])}):(v=function(L){return setTimeout(L,w)},R=function(L){return clearTimeout(L)}),{frame:v,cancel:R}}(),f=function(){var w,v,R={};function _(V){function L(B,N){V.postMessage({options:B||{},callback:N})}V.init=function(N){var U=N.transferControlToOffscreen();V.postMessage({canvas:U},[U])},V.fire=function(N,U,K){if(v)return L(N,null),v;var G=Math.random().toString(36).slice(2);return v=u(function(ne){function re(le){le.data.callback===G&&(delete R[G],V.removeEventListener("message",re),v=null,c.clear(),K(),ne())}V.addEventListener("message",re),L(N,G),R[G]=re.bind(null,{data:{callback:G}})}),v},V.reset=function(){V.postMessage({reset:!0});for(var N in R)R[N](),delete R[N]}}return function(){if(w)return w;if(!r&&s){var V=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{w=new Worker(URL.createObjectURL(new Blob([V])))}catch(L){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("🎊 Could not load worker",L),null}_(w)}return w}}(),p={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function m(w,v){return v?v(w):w}function y(w){return w!=null}function S(w,v,R){return m(w&&y(w[v])?w[v]:p[v],R)}function C(w){return w<0?0:Math.floor(w)}function b(w,v){return Math.floor(Math.random()*(v-w))+w}function g(w){return parseInt(w,16)}function T(w){return w.map(A)}function A(w){var v=String(w).replace(/[^0-9a-f]/gi,"");return v.length<6&&(v=v[0]+v[0]+v[1]+v[1]+v[2]+v[2]),{r:g(v.substring(0,2)),g:g(v.substring(2,4)),b:g(v.substring(4,6))}}function M(w){var v=S(w,"origin",Object);return v.x=S(v,"x",Number),v.y=S(v,"y",Number),v}function F(w){w.width=document.documentElement.clientWidth,w.height=document.documentElement.clientHeight}function E(w){var v=w.getBoundingClientRect();w.width=v.width,w.height=v.height}function k(w){var v=document.createElement("canvas");return v.style.position="fixed",v.style.top="0px",v.style.left="0px",v.style.pointerEvents="none",v.style.zIndex=w,v}function O(w,v,R,_,V,L,B,N,U){w.save(),w.translate(v,R),w.rotate(L),w.scale(_,V),w.arc(0,0,1,B,N,U),w.restore()}function ee(w){var v=w.angle*(Math.PI/180),R=w.spread*(Math.PI/180);return{x:w.x,y:w.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:w.startVelocity*.5+Math.random()*w.startVelocity,angle2D:-v+(.5*R-Math.random()*R),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:w.color,shape:w.shape,tick:0,totalTicks:w.ticks,decay:w.decay,drift:w.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:w.gravity*3,ovalScalar:.6,scalar:w.scalar,flat:w.flat}}function ue(w,v){v.x+=Math.cos(v.angle2D)*v.velocity+v.drift,v.y+=Math.sin(v.angle2D)*v.velocity+v.gravity,v.velocity*=v.decay,v.flat?(v.wobble=0,v.wobbleX=v.x+10*v.scalar,v.wobbleY=v.y+10*v.scalar,v.tiltSin=0,v.tiltCos=0,v.random=1):(v.wobble+=v.wobbleSpeed,v.wobbleX=v.x+10*v.scalar*Math.cos(v.wobble),v.wobbleY=v.y+10*v.scalar*Math.sin(v.wobble),v.tiltAngle+=.1,v.tiltSin=Math.sin(v.tiltAngle),v.tiltCos=Math.cos(v.tiltAngle),v.random=Math.random()+2);var R=v.tick++/v.totalTicks,_=v.x+v.random*v.tiltCos,V=v.y+v.random*v.tiltSin,L=v.wobbleX+v.random*v.tiltCos,B=v.wobbleY+v.random*v.tiltSin;if(w.fillStyle="rgba("+v.color.r+", "+v.color.g+", "+v.color.b+", "+(1-R)+")",w.beginPath(),o&&v.shape.type==="path"&&typeof v.shape.path=="string"&&Array.isArray(v.shape.matrix))w.fill(je(v.shape.path,v.shape.matrix,v.x,v.y,Math.abs(L-_)*.1,Math.abs(B-V)*.1,Math.PI/10*v.wobble));else if(v.shape.type==="bitmap"){var N=Math.PI/10*v.wobble,U=Math.abs(L-_)*.1,K=Math.abs(B-V)*.1,G=v.shape.bitmap.width*v.scalar,ne=v.shape.bitmap.height*v.scalar,re=new DOMMatrix([Math.cos(N)*U,Math.sin(N)*U,-Math.sin(N)*K,Math.cos(N)*K,v.x,v.y]);re.multiplySelf(new DOMMatrix(v.shape.matrix));var le=w.createPattern(c.transform(v.shape.bitmap),"no-repeat");le.setTransform(re),w.globalAlpha=1-R,w.fillStyle=le,w.fillRect(v.x-G/2,v.y-ne/2,G,ne),w.globalAlpha=1}else if(v.shape==="circle")w.ellipse?w.ellipse(v.x,v.y,Math.abs(L-_)*v.ovalScalar,Math.abs(B-V)*v.ovalScalar,Math.PI/10*v.wobble,0,2*Math.PI):O(w,v.x,v.y,Math.abs(L-_)*v.ovalScalar,Math.abs(B-V)*v.ovalScalar,Math.PI/10*v.wobble,0,2*Math.PI);else if(v.shape==="star")for(var X=Math.PI/2*3,q=4*v.scalar,Me=8*v.scalar,pe=v.x,Ce=v.y,Be=5,de=Math.PI/Be;Be--;)pe=v.x+Math.cos(X)*Me,Ce=v.y+Math.sin(X)*Me,w.lineTo(pe,Ce),X+=de,pe=v.x+Math.cos(X)*q,Ce=v.y+Math.sin(X)*q,w.lineTo(pe,Ce),X+=de;else w.moveTo(Math.floor(v.x),Math.floor(v.y)),w.lineTo(Math.floor(v.wobbleX),Math.floor(V)),w.lineTo(Math.floor(L),Math.floor(B)),w.lineTo(Math.floor(_),Math.floor(v.wobbleY));return w.closePath(),w.fill(),v.tick<v.totalTicks}function rt(w,v,R,_,V){var L=v.slice(),B=w.getContext("2d"),N,U,K=u(function(G){function ne(){N=U=null,B.clearRect(0,0,_.width,_.height),c.clear(),V(),G()}function re(){r&&!(_.width===i.width&&_.height===i.height)&&(_.width=w.width=i.width,_.height=w.height=i.height),!_.width&&!_.height&&(R(w),_.width=w.width,_.height=w.height),B.clearRect(0,0,_.width,_.height),L=L.filter(function(le){return ue(B,le)}),L.length?N=h.frame(re):ne()}N=h.frame(re),U=ne});return{addFettis:function(G){return L=L.concat(G),K},canvas:w,promise:K,reset:function(){N&&h.cancel(N),U&&U()}}}function Te(w,v){var R=!w,_=!!S(v||{},"resize"),V=!1,L=S(v,"disableForReducedMotion",Boolean),B=s&&!!S(v||{},"useWorker"),N=B?f():null,U=R?F:E,K=w&&N?!!w.__confetti_initialized:!1,G=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,ne;function re(X,q,Me){for(var pe=S(X,"particleCount",C),Ce=S(X,"angle",Number),Be=S(X,"spread",Number),de=S(X,"startVelocity",Number),Ze=S(X,"decay",Number),D=S(X,"gravity",Number),oe=S(X,"drift",Number),Ue=S(X,"colors",T),Ie=S(X,"ticks",Number),Je=S(X,"shapes"),Ge=S(X,"scalar"),mt=!!S(X,"flat"),_t=M(X),rn=pe,Vt=[],wn=w.width*_t.x,ze=w.height*_t.y;rn--;)Vt.push(ee({x:wn,y:ze,angle:Ce,spread:Be,startVelocity:de,color:Ue[rn%Ue.length],shape:Je[b(0,Je.length)],ticks:Ie,decay:Ze,gravity:D,drift:oe,scalar:Ge,flat:mt}));return ne?ne.addFettis(Vt):(ne=rt(w,Vt,U,q,Me),ne.promise)}function le(X){var q=L||S(X,"disableForReducedMotion",Boolean),Me=S(X,"zIndex",Number);if(q&&G)return u(function(de){de()});R&&ne?w=ne.canvas:R&&!w&&(w=k(Me),document.body.appendChild(w)),_&&!K&&U(w);var pe={width:w.width,height:w.height};N&&!K&&N.init(w),K=!0,N&&(w.__confetti_initialized=!0);function Ce(){if(N){var de={getBoundingClientRect:function(){if(!R)return w.getBoundingClientRect()}};U(de),N.postMessage({resize:{width:de.width,height:de.height}});return}pe.width=pe.height=null}function Be(){ne=null,_&&(V=!1,t.removeEventListener("resize",Ce)),R&&w&&(document.body.removeChild(w),w=null,K=!1)}return _&&!V&&(V=!0,t.addEventListener("resize",Ce,!1)),N?N.fire(X,pe,Be):re(X,pe,Be)}return le.reset=function(){N&&N.reset(),ne&&ne.reset()},le}var H;function te(){return H||(H=Te(null,{useWorker:!0,resize:!0})),H}function je(w,v,R,_,V,L,B){var N=new Path2D(w),U=new Path2D;U.addPath(N,new DOMMatrix(v));var K=new Path2D;return K.addPath(U,new DOMMatrix([Math.cos(B)*V,Math.sin(B)*V,-Math.sin(B)*L,Math.cos(B)*L,R,_])),K}function xe(w){if(!o)throw new Error("path confetti are not supported in this browser");var v,R;typeof w=="string"?v=w:(v=w.path,R=w.matrix);var _=new Path2D(v),V=document.createElement("canvas"),L=V.getContext("2d");if(!R){for(var B=1e3,N=B,U=B,K=0,G=0,ne,re,le=0;le<B;le+=2)for(var X=0;X<B;X+=2)L.isPointInPath(_,le,X,"nonzero")&&(N=Math.min(N,le),U=Math.min(U,X),K=Math.max(K,le),G=Math.max(G,X));ne=K-N,re=G-U;var q=10,Me=Math.min(q/ne,q/re);R=[Me,0,0,Me,-Math.round(ne/2+N)*Me,-Math.round(re/2+U)*Me]}return{type:"path",path:v,matrix:R}}function It(w){var v,R=1,_="#000000",V='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof w=="string"?v=w:(v=w.text,R="scalar"in w?w.scalar:R,V="fontFamily"in w?w.fontFamily:V,_="color"in w?w.color:_);var L=10*R,B=""+L+"px "+V,N=new OffscreenCanvas(L,L),U=N.getContext("2d");U.font=B;var K=U.measureText(v),G=Math.ceil(K.actualBoundingBoxRight+K.actualBoundingBoxLeft),ne=Math.ceil(K.actualBoundingBoxAscent+K.actualBoundingBoxDescent),re=2,le=K.actualBoundingBoxLeft+re,X=K.actualBoundingBoxAscent+re;G+=re+re,ne+=re+re,N=new OffscreenCanvas(G,ne),U=N.getContext("2d"),U.font=B,U.fillStyle=_,U.fillText(v,le,X);var q=1/R;return{type:"bitmap",bitmap:N.transferToImageBitmap(),matrix:[q,0,0,q,-G*q/2,-ne*q/2]}}n.exports=function(){return te().apply(this,arguments)},n.exports.reset=function(){te().reset()},n.exports.create=Te,n.exports.shapeFromPath=xe,n.exports.shapeFromText=It})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),yr,!1);const lp=yr.exports;yr.exports.create;const Rt=x.createContext(null),$n=({children:e})=>{const[t,n]=x.useState(0),[r,i]=x.useState(0),[s,o]=x.useState(0),[l,a]=x.useState(0),[u,c]=x.useState(!1),[h,f]=x.useState(!1),[p,m]=x.useState([]),[y,S]=x.useState([]),[C,b]=x.useState([]),[g,T]=x.useState(fe("showStatus")),[A,M]=x.useState("0"),[F,E]=x.useState(""),[k,O]=x.useState(!0),ee=x.useRef(null),ue={entries:p,entryDetailRef:ee,filteredEntries:C,filterStatus:g,filterString:F,filterType:A,loading:k,loadMoreUnreadVisible:h,loadMoreVisible:u,offset:s,setEntries:m,setFilteredEntries:b,setFilterStatus:T,setFilterString:E,setFilterType:M,setLoading:O,setLoadMoreUnreadVisible:f,setLoadMoreVisible:c,setOffset:o,setTotal:n,setUnreadCount:i,setUnreadEntries:S,setUnreadOffset:a,total:t,unreadCount:r,unreadEntries:y,unreadOffset:l};return d.jsx(Rt.Provider,{value:ue,children:e})},Es=()=>{const e=P(b=>b.setUnreadTotal),t=P(b=>b.setUnreadToday),n=P(b=>b.setReadCount),r=P(b=>b.setStarredCount),i=P(b=>b.activeContent),s=P(b=>b.setActiveContent),o=P(b=>b.updateFeedUnreadCount),l=P(b=>b.updateGroupUnreadCount),{setEntries:a,setFilteredEntries:u,setUnreadCount:c,setUnreadEntries:h}=x.useContext(Rt),f=(b,g)=>b.map(T=>T.id===g.id?g:T),p=(b,g)=>{const{id:T,category:{id:A}}=b.feed,M=jh(b.published_at);o(T,g),l(A,g),g==="read"?(e(E=>Math.max(0,E-1)),c(E=>Math.max(0,E-1)),n(E=>E+1),M&&t(E=>Math.max(0,E-1))):(e(E=>E+1),c(E=>E+1),n(E=>Math.max(0,E-1)),M&&t(E=>E+1));const F={...b,status:g};i&&s(F),a(E=>f(E,F)),h(E=>f(E,F)),u(E=>f(E,F))},m=(b,g)=>{g?(r(A=>A+1),lp({particleCount:100,angle:120,spread:70,origin:{x:1,y:1}})):r(A=>Math.max(0,A-1));const T={...b,starred:g};i&&s(T),a(A=>f(A,T)),h(A=>f(A,T)),u(A=>f(A,T))};return{handleEntryStatusUpdate:p,handleFetchContent:async()=>{Oh(i.id).then(b=>{ie.success("Fetched content successfully"),s({...i,content:b.data.content})}).catch(()=>{ie.error("Failed to fetch content, please try again later")})},handleToggleStarred:async b=>{const g=!b.starred;m(b,g),Dh(b.id).catch(()=>{ie.error(`Failed to ${g?"star":"unstar"} entry, please try again later`),m(b,!g)})},handleToggleStatus:async b=>{const g=b.status,T=g==="read"?"unread":"read";p(b,T),kl(b.id,T).catch(()=>{ie.error(`Failed to mark entry as ${T}, please try again later`),p(b,g)})}}},Io=(e,t="start")=>{const n=document.querySelector(e);n&&n.scrollIntoView({behavior:"smooth",block:t})},Ps=()=>{const e=P(F=>F.pageSize),t=P(F=>F.showAllFeeds),n=P(F=>F.hiddenFeedIds),{entries:r,filterStatus:i,filterString:s,filterType:o,offset:l,setEntries:a,setFilteredEntries:u,setLoadMoreUnreadVisible:c,setLoadMoreVisible:h,setOffset:f,setUnreadEntries:p,setUnreadOffset:m,total:y,unreadCount:S,unreadEntries:C,unreadOffset:b}=x.useContext(Rt),[g,T]=x.useState(!1),A=F=>{const O=new DOMParser().parseFromString(F.content,"text/html").querySelector("img");return O&&(F.imgSrc=O.getAttribute("src")),F};return{getFirstImage:A,handleLoadMore:async(F,E)=>{var k;T(!0);try{let O;if(i==="all"?O=await E(l+e):O=await E(b+e,i),(k=O==null?void 0:O.data)!=null&&k.entries){i==="all"?f(H=>H+e):m(H=>H+e);const ee=O.data.entries.map(A),ue=[...new Map([...i==="all"?r:C,...ee].map(H=>[H.id,H])).values()];i==="all"?a(ue):p(ue);const rt=s?Hl(ue,o,i,s):ue,Te=Yr(rt,F,t,n);u(Te),i==="all"?h(ue.length<y):c(ue.length<S)}}catch(O){console.error("Error fetching more articles:",O)}T(!1)},loadingMore:g}},ql=(e,t,n)=>{const{entryDetailRef:r,filteredEntries:i,filterStatus:s,loadMoreUnreadVisible:o,loadMoreVisible:l}=x.useContext(Rt),a=P(E=>E.activeContent),u=P(E=>E.setActiveContent),{handleLoadMore:c}=Ps(),[h,f]=x.useState(!1),[p,m]=x.useState(!1),S=ci()<=768;x.useEffect(()=>{const E=document.querySelector(".entry-list");!E||!S||(a?E.style.visibility="hidden":E.style.visibility="visible")},[a,S]),x.useEffect(()=>{p&&!h&&(g(e),m(!1))},[h,p]);const C=E=>{a&&(u(null),E.current&&(E.current.setAttribute("tabIndex","-1"),E.current.focus()),r.current&&r.current.scrollTo(0,0))},b=()=>{const E=i.findIndex(k=>k.id===(a==null?void 0:a.id));if(E>0){const k=i[E-1];t(k),Io(".card-custom-selected-style","end")}},g=E=>{if(h)return;const k=i.findIndex(ee=>ee.id===(a==null?void 0:a.id));if(k===i.length-1&&(s==="all"&&l||o)){f(!0),c(E,n).then(()=>m(!0)).finally(()=>f(!1));return}if(k===-1){const ee=document.querySelector(".entry-list");ee&&ee.scrollTo(0,0)}if(k<i.length-1){const ee=i[k+1];t(ee),m(!1),Io(".card-custom-selected-style")}};return{handleEscapeKey:C,handleLeftKey:b,handleRightKey:g,handleBKey:()=>{a&&window.open(a.url,"_blank")},handleDKey:E=>{a&&E()},handleMKey:E=>{a&&E()},handleSKey:E=>{a&&E()}}};var Yl={},js={},Ms={};Object.defineProperty(Ms,"__esModule",{value:!0});var _o="html",Vo="head",Ar="body",cp=/<([a-zA-Z]+[0-9]?)/,No=/<head[^]*>/i,Lo=/<body[^]*>/i,Jr=function(e,t){throw new Error("This browser does not support `document.implementation.createHTMLDocument`")},Ji=function(e,t){throw new Error("This browser does not support `DOMParser.prototype.parseFromString`")},Bo=typeof window=="object"&&window.DOMParser;if(typeof Bo=="function"){var up=new Bo,dp="text/html";Ji=function(e,t){return t&&(e="<".concat(t,">").concat(e,"</").concat(t,">")),up.parseFromString(e,dp)},Jr=Ji}if(typeof document=="object"&&document.implementation){var kr=document.implementation.createHTMLDocument();Jr=function(e,t){if(t){var n=kr.documentElement.querySelector(t);return n&&(n.innerHTML=e),kr}return kr.documentElement.innerHTML=e,kr}}var Fr=typeof document=="object"&&document.createElement("template"),Qi;Fr&&Fr.content&&(Qi=function(e){return Fr.innerHTML=e,Fr.content.childNodes});function hp(e){var t,n,r=e.match(cp),i=r&&r[1]?r[1].toLowerCase():"";switch(i){case _o:{var s=Ji(e);if(!No.test(e)){var o=s.querySelector(Vo);(t=o==null?void 0:o.parentNode)===null||t===void 0||t.removeChild(o)}if(!Lo.test(e)){var o=s.querySelector(Ar);(n=o==null?void 0:o.parentNode)===null||n===void 0||n.removeChild(o)}return s.querySelectorAll(_o)}case Vo:case Ar:{var l=Jr(e).querySelectorAll(i);return Lo.test(e)&&No.test(e)?l[0].parentNode.childNodes:l}default:{if(Qi)return Qi(e);var o=Jr(e,Ar).querySelector(Ar);return o.childNodes}}}Ms.default=hp;var Bn={},Zl={},xr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Doctype=e.CDATA=e.Tag=e.Style=e.Script=e.Comment=e.Directive=e.Text=e.Root=e.isTag=e.ElementType=void 0;var t;(function(r){r.Root="root",r.Text="text",r.Directive="directive",r.Comment="comment",r.Script="script",r.Style="style",r.Tag="tag",r.CDATA="cdata",r.Doctype="doctype"})(t=e.ElementType||(e.ElementType={}));function n(r){return r.type===t.Tag||r.type===t.Script||r.type===t.Style}e.isTag=n,e.Root=t.Root,e.Text=t.Text,e.Directive=t.Directive,e.Comment=t.Comment,e.Script=t.Script,e.Style=t.Style,e.Tag=t.Tag,e.CDATA=t.CDATA,e.Doctype=t.Doctype})(xr);var J={},Qt=ae&&ae.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),tr=ae&&ae.__assign||function(){return tr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},tr.apply(this,arguments)};Object.defineProperty(J,"__esModule",{value:!0});J.cloneNode=J.hasChildren=J.isDocument=J.isDirective=J.isComment=J.isText=J.isCDATA=J.isTag=J.Element=J.Document=J.CDATA=J.NodeWithChildren=J.ProcessingInstruction=J.Comment=J.Text=J.DataNode=J.Node=void 0;var qe=xr,As=function(){function e(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent},set:function(t){this.parent=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return this.prev},set:function(t){this.prev=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return this.next},set:function(t){this.next=t},enumerable:!1,configurable:!0}),e.prototype.cloneNode=function(t){return t===void 0&&(t=!1),ks(this,t)},e}();J.Node=As;var ui=function(e){Qt(t,e);function t(n){var r=e.call(this)||this;return r.data=n,r}return Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.data},set:function(n){this.data=n},enumerable:!1,configurable:!0}),t}(As);J.DataNode=ui;var Jl=function(e){Qt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=qe.ElementType.Text,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),t}(ui);J.Text=Jl;var Ql=function(e){Qt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=qe.ElementType.Comment,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),t}(ui);J.Comment=Ql;var ec=function(e){Qt(t,e);function t(n,r){var i=e.call(this,r)||this;return i.name=n,i.type=qe.ElementType.Directive,i}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),t}(ui);J.ProcessingInstruction=ec;var di=function(e){Qt(t,e);function t(n){var r=e.call(this)||this;return r.children=n,r}return Object.defineProperty(t.prototype,"firstChild",{get:function(){var n;return(n=this.children[0])!==null&&n!==void 0?n:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.children},set:function(n){this.children=n},enumerable:!1,configurable:!0}),t}(As);J.NodeWithChildren=di;var tc=function(e){Qt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=qe.ElementType.CDATA,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),t}(di);J.CDATA=tc;var nc=function(e){Qt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=qe.ElementType.Root,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),t}(di);J.Document=nc;var rc=function(e){Qt(t,e);function t(n,r,i,s){i===void 0&&(i=[]),s===void 0&&(s=n==="script"?qe.ElementType.Script:n==="style"?qe.ElementType.Style:qe.ElementType.Tag);var o=e.call(this,i)||this;return o.name=n,o.attribs=r,o.type=s,o}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tagName",{get:function(){return this.name},set:function(n){this.name=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){var n=this;return Object.keys(this.attribs).map(function(r){var i,s;return{name:r,value:n.attribs[r],namespace:(i=n["x-attribsNamespace"])===null||i===void 0?void 0:i[r],prefix:(s=n["x-attribsPrefix"])===null||s===void 0?void 0:s[r]}})},enumerable:!1,configurable:!0}),t}(di);J.Element=rc;function ic(e){return(0,qe.isTag)(e)}J.isTag=ic;function sc(e){return e.type===qe.ElementType.CDATA}J.isCDATA=sc;function oc(e){return e.type===qe.ElementType.Text}J.isText=oc;function ac(e){return e.type===qe.ElementType.Comment}J.isComment=ac;function lc(e){return e.type===qe.ElementType.Directive}J.isDirective=lc;function cc(e){return e.type===qe.ElementType.Root}J.isDocument=cc;function fp(e){return Object.prototype.hasOwnProperty.call(e,"children")}J.hasChildren=fp;function ks(e,t){t===void 0&&(t=!1);var n;if(oc(e))n=new Jl(e.data);else if(ac(e))n=new Ql(e.data);else if(ic(e)){var r=t?ki(e.children):[],i=new rc(e.name,tr({},e.attribs),r);r.forEach(function(a){return a.parent=i}),e.namespace!=null&&(i.namespace=e.namespace),e["x-attribsNamespace"]&&(i["x-attribsNamespace"]=tr({},e["x-attribsNamespace"])),e["x-attribsPrefix"]&&(i["x-attribsPrefix"]=tr({},e["x-attribsPrefix"])),n=i}else if(sc(e)){var r=t?ki(e.children):[],s=new tc(r);r.forEach(function(u){return u.parent=s}),n=s}else if(cc(e)){var r=t?ki(e.children):[],o=new nc(r);r.forEach(function(u){return u.parent=o}),e["x-mode"]&&(o["x-mode"]=e["x-mode"]),n=o}else if(lc(e)){var l=new ec(e.name,e.data);e["x-name"]!=null&&(l["x-name"]=e["x-name"],l["x-publicId"]=e["x-publicId"],l["x-systemId"]=e["x-systemId"]),n=l}else throw new Error("Not implemented yet: ".concat(e.type));return n.startIndex=e.startIndex,n.endIndex=e.endIndex,e.sourceCodeLocation!=null&&(n.sourceCodeLocation=e.sourceCodeLocation),n}J.cloneNode=ks;function ki(e){for(var t=e.map(function(r){return ks(r,!0)}),n=1;n<t.length;n++)t[n].prev=t[n-1],t[n-1].next=t[n];return t}(function(e){var t=ae&&ae.__createBinding||(Object.create?function(l,a,u,c){c===void 0&&(c=u);var h=Object.getOwnPropertyDescriptor(a,u);(!h||("get"in h?!a.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return a[u]}}),Object.defineProperty(l,c,h)}:function(l,a,u,c){c===void 0&&(c=u),l[c]=a[u]}),n=ae&&ae.__exportStar||function(l,a){for(var u in l)u!=="default"&&!Object.prototype.hasOwnProperty.call(a,u)&&t(a,l,u)};Object.defineProperty(e,"__esModule",{value:!0}),e.DomHandler=void 0;var r=xr,i=J;n(J,e);var s={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},o=function(){function l(a,u,c){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof u=="function"&&(c=u,u=s),typeof a=="object"&&(u=a,a=void 0),this.callback=a??null,this.options=u??s,this.elementCB=c??null}return l.prototype.onparserinit=function(a){this.parser=a},l.prototype.onreset=function(){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},l.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},l.prototype.onerror=function(a){this.handleCallback(a)},l.prototype.onclosetag=function(){this.lastNode=null;var a=this.tagStack.pop();this.options.withEndIndices&&(a.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(a)},l.prototype.onopentag=function(a,u){var c=this.options.xmlMode?r.ElementType.Tag:void 0,h=new i.Element(a,u,void 0,c);this.addNode(h),this.tagStack.push(h)},l.prototype.ontext=function(a){var u=this.lastNode;if(u&&u.type===r.ElementType.Text)u.data+=a,this.options.withEndIndices&&(u.endIndex=this.parser.endIndex);else{var c=new i.Text(a);this.addNode(c),this.lastNode=c}},l.prototype.oncomment=function(a){if(this.lastNode&&this.lastNode.type===r.ElementType.Comment){this.lastNode.data+=a;return}var u=new i.Comment(a);this.addNode(u),this.lastNode=u},l.prototype.oncommentend=function(){this.lastNode=null},l.prototype.oncdatastart=function(){var a=new i.Text(""),u=new i.CDATA([a]);this.addNode(u),a.parent=u,this.lastNode=a},l.prototype.oncdataend=function(){this.lastNode=null},l.prototype.onprocessinginstruction=function(a,u){var c=new i.ProcessingInstruction(a,u);this.addNode(c)},l.prototype.handleCallback=function(a){if(typeof this.callback=="function")this.callback(a,this.dom);else if(a)throw a},l.prototype.addNode=function(a){var u=this.tagStack[this.tagStack.length-1],c=u.children[u.children.length-1];this.options.withStartIndices&&(a.startIndex=this.parser.startIndex),this.options.withEndIndices&&(a.endIndex=this.parser.endIndex),u.children.push(a),c&&(a.prev=c,c.next=a),a.parent=u,this.lastNode=null},l}();e.DomHandler=o,e.default=o})(Zl);var uc={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CASE_SENSITIVE_TAG_NAMES_MAP=e.CASE_SENSITIVE_TAG_NAMES=void 0,e.CASE_SENSITIVE_TAG_NAMES=["animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","linearGradient","radialGradient","textPath"],e.CASE_SENSITIVE_TAG_NAMES_MAP=e.CASE_SENSITIVE_TAG_NAMES.reduce(function(t,n){return t[n.toLowerCase()]=n,t},{})})(uc);Object.defineProperty(Bn,"__esModule",{value:!0});Bn.formatDOM=Bn.formatAttributes=void 0;var Dr=Zl,pp=uc;function mp(e){return pp.CASE_SENSITIVE_TAG_NAMES_MAP[e]}function dc(e){for(var t={},n=0,r=e.length;n<r;n++){var i=e[n];t[i.name]=i.value}return t}Bn.formatAttributes=dc;function gp(e){e=e.toLowerCase();var t=mp(e);return t||e}function hc(e,t,n){t===void 0&&(t=null);for(var r=[],i,s=0,o=e.length;s<o;s++){var l=e[s];switch(l.nodeType){case 1:{var a=gp(l.nodeName);i=new Dr.Element(a,dc(l.attributes)),i.children=hc(a==="template"?l.content.childNodes:l.childNodes,i);break}case 3:i=new Dr.Text(l.nodeValue);break;case 8:i=new Dr.Comment(l.nodeValue);break;default:continue}var u=r[s-1]||null;u&&(u.next=i),i.parent=t,i.prev=u,i.next=null,r.push(i)}return n&&(i=new Dr.ProcessingInstruction(n.substring(0,n.indexOf(" ")).toLowerCase(),n),i.next=r[0]||null,i.parent=t,r.unshift(i),r[1]&&(r[1].prev=r[0])),r}Bn.formatDOM=hc;var vp=ae&&ae.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(js,"__esModule",{value:!0});var yp=vp(Ms),xp=Bn,bp=/<(![a-zA-Z\s]+)>/;function wp(e){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];var t=e.match(bp),n=t?t[1]:void 0;return(0,xp.formatDOM)((0,yp.default)(e),null,n)}js.default=wp;var hi={},pt={},fi={},Sp=0;fi.SAME=Sp;var Tp=1;fi.CAMELCASE=Tp;fi.possibleStandardNames={accept:0,acceptCharset:1,"accept-charset":"acceptCharset",accessKey:1,action:0,allowFullScreen:1,alt:0,as:0,async:0,autoCapitalize:1,autoComplete:1,autoCorrect:1,autoFocus:1,autoPlay:1,autoSave:1,capture:0,cellPadding:1,cellSpacing:1,challenge:0,charSet:1,checked:0,children:0,cite:0,class:"className",classID:1,className:1,cols:0,colSpan:1,content:0,contentEditable:1,contextMenu:1,controls:0,controlsList:1,coords:0,crossOrigin:1,dangerouslySetInnerHTML:1,data:0,dateTime:1,default:0,defaultChecked:1,defaultValue:1,defer:0,dir:0,disabled:0,disablePictureInPicture:1,disableRemotePlayback:1,download:0,draggable:0,encType:1,enterKeyHint:1,for:"htmlFor",form:0,formMethod:1,formAction:1,formEncType:1,formNoValidate:1,formTarget:1,frameBorder:1,headers:0,height:0,hidden:0,high:0,href:0,hrefLang:1,htmlFor:1,httpEquiv:1,"http-equiv":"httpEquiv",icon:0,id:0,innerHTML:1,inputMode:1,integrity:0,is:0,itemID:1,itemProp:1,itemRef:1,itemScope:1,itemType:1,keyParams:1,keyType:1,kind:0,label:0,lang:0,list:0,loop:0,low:0,manifest:0,marginWidth:1,marginHeight:1,max:0,maxLength:1,media:0,mediaGroup:1,method:0,min:0,minLength:1,multiple:0,muted:0,name:0,noModule:1,nonce:0,noValidate:1,open:0,optimum:0,pattern:0,placeholder:0,playsInline:1,poster:0,preload:0,profile:0,radioGroup:1,readOnly:1,referrerPolicy:1,rel:0,required:0,reversed:0,role:0,rows:0,rowSpan:1,sandbox:0,scope:0,scoped:0,scrolling:0,seamless:0,selected:0,shape:0,size:0,sizes:0,span:0,spellCheck:1,src:0,srcDoc:1,srcLang:1,srcSet:1,start:0,step:0,style:0,summary:0,tabIndex:1,target:0,title:0,type:0,useMap:1,value:0,width:0,wmode:0,wrap:0,about:0,accentHeight:1,"accent-height":"accentHeight",accumulate:0,additive:0,alignmentBaseline:1,"alignment-baseline":"alignmentBaseline",allowReorder:1,alphabetic:0,amplitude:0,arabicForm:1,"arabic-form":"arabicForm",ascent:0,attributeName:1,attributeType:1,autoReverse:1,azimuth:0,baseFrequency:1,baselineShift:1,"baseline-shift":"baselineShift",baseProfile:1,bbox:0,begin:0,bias:0,by:0,calcMode:1,capHeight:1,"cap-height":"capHeight",clip:0,clipPath:1,"clip-path":"clipPath",clipPathUnits:1,clipRule:1,"clip-rule":"clipRule",color:0,colorInterpolation:1,"color-interpolation":"colorInterpolation",colorInterpolationFilters:1,"color-interpolation-filters":"colorInterpolationFilters",colorProfile:1,"color-profile":"colorProfile",colorRendering:1,"color-rendering":"colorRendering",contentScriptType:1,contentStyleType:1,cursor:0,cx:0,cy:0,d:0,datatype:0,decelerate:0,descent:0,diffuseConstant:1,direction:0,display:0,divisor:0,dominantBaseline:1,"dominant-baseline":"dominantBaseline",dur:0,dx:0,dy:0,edgeMode:1,elevation:0,enableBackground:1,"enable-background":"enableBackground",end:0,exponent:0,externalResourcesRequired:1,fill:0,fillOpacity:1,"fill-opacity":"fillOpacity",fillRule:1,"fill-rule":"fillRule",filter:0,filterRes:1,filterUnits:1,floodOpacity:1,"flood-opacity":"floodOpacity",floodColor:1,"flood-color":"floodColor",focusable:0,fontFamily:1,"font-family":"fontFamily",fontSize:1,"font-size":"fontSize",fontSizeAdjust:1,"font-size-adjust":"fontSizeAdjust",fontStretch:1,"font-stretch":"fontStretch",fontStyle:1,"font-style":"fontStyle",fontVariant:1,"font-variant":"fontVariant",fontWeight:1,"font-weight":"fontWeight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:1,"glyph-name":"glyphName",glyphOrientationHorizontal:1,"glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphOrientationVertical:1,"glyph-orientation-vertical":"glyphOrientationVertical",glyphRef:1,gradientTransform:1,gradientUnits:1,hanging:0,horizAdvX:1,"horiz-adv-x":"horizAdvX",horizOriginX:1,"horiz-origin-x":"horizOriginX",ideographic:0,imageRendering:1,"image-rendering":"imageRendering",in2:0,in:0,inlist:0,intercept:0,k1:0,k2:0,k3:0,k4:0,k:0,kernelMatrix:1,kernelUnitLength:1,kerning:0,keyPoints:1,keySplines:1,keyTimes:1,lengthAdjust:1,letterSpacing:1,"letter-spacing":"letterSpacing",lightingColor:1,"lighting-color":"lightingColor",limitingConeAngle:1,local:0,markerEnd:1,"marker-end":"markerEnd",markerHeight:1,markerMid:1,"marker-mid":"markerMid",markerStart:1,"marker-start":"markerStart",markerUnits:1,markerWidth:1,mask:0,maskContentUnits:1,maskUnits:1,mathematical:0,mode:0,numOctaves:1,offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:1,"overline-position":"overlinePosition",overlineThickness:1,"overline-thickness":"overlineThickness",paintOrder:1,"paint-order":"paintOrder",panose1:0,"panose-1":"panose1",pathLength:1,patternContentUnits:1,patternTransform:1,patternUnits:1,pointerEvents:1,"pointer-events":"pointerEvents",points:0,pointsAtX:1,pointsAtY:1,pointsAtZ:1,prefix:0,preserveAlpha:1,preserveAspectRatio:1,primitiveUnits:1,property:0,r:0,radius:0,refX:1,refY:1,renderingIntent:1,"rendering-intent":"renderingIntent",repeatCount:1,repeatDur:1,requiredExtensions:1,requiredFeatures:1,resource:0,restart:0,result:0,results:0,rotate:0,rx:0,ry:0,scale:0,security:0,seed:0,shapeRendering:1,"shape-rendering":"shapeRendering",slope:0,spacing:0,specularConstant:1,specularExponent:1,speed:0,spreadMethod:1,startOffset:1,stdDeviation:1,stemh:0,stemv:0,stitchTiles:1,stopColor:1,"stop-color":"stopColor",stopOpacity:1,"stop-opacity":"stopOpacity",strikethroughPosition:1,"strikethrough-position":"strikethroughPosition",strikethroughThickness:1,"strikethrough-thickness":"strikethroughThickness",string:0,stroke:0,strokeDasharray:1,"stroke-dasharray":"strokeDasharray",strokeDashoffset:1,"stroke-dashoffset":"strokeDashoffset",strokeLinecap:1,"stroke-linecap":"strokeLinecap",strokeLinejoin:1,"stroke-linejoin":"strokeLinejoin",strokeMiterlimit:1,"stroke-miterlimit":"strokeMiterlimit",strokeWidth:1,"stroke-width":"strokeWidth",strokeOpacity:1,"stroke-opacity":"strokeOpacity",suppressContentEditableWarning:1,suppressHydrationWarning:1,surfaceScale:1,systemLanguage:1,tableValues:1,targetX:1,targetY:1,textAnchor:1,"text-anchor":"textAnchor",textDecoration:1,"text-decoration":"textDecoration",textLength:1,textRendering:1,"text-rendering":"textRendering",to:0,transform:0,typeof:0,u1:0,u2:0,underlinePosition:1,"underline-position":"underlinePosition",underlineThickness:1,"underline-thickness":"underlineThickness",unicode:0,unicodeBidi:1,"unicode-bidi":"unicodeBidi",unicodeRange:1,"unicode-range":"unicodeRange",unitsPerEm:1,"units-per-em":"unitsPerEm",unselectable:0,vAlphabetic:1,"v-alphabetic":"vAlphabetic",values:0,vectorEffect:1,"vector-effect":"vectorEffect",version:0,vertAdvY:1,"vert-adv-y":"vertAdvY",vertOriginX:1,"vert-origin-x":"vertOriginX",vertOriginY:1,"vert-origin-y":"vertOriginY",vHanging:1,"v-hanging":"vHanging",vIdeographic:1,"v-ideographic":"vIdeographic",viewBox:1,viewTarget:1,visibility:0,vMathematical:1,"v-mathematical":"vMathematical",vocab:0,widths:0,wordSpacing:1,"word-spacing":"wordSpacing",writingMode:1,"writing-mode":"writingMode",x1:0,x2:0,x:0,xChannelSelector:1,xHeight:1,"x-height":"xHeight",xlinkActuate:1,"xlink:actuate":"xlinkActuate",xlinkArcrole:1,"xlink:arcrole":"xlinkArcrole",xlinkHref:1,"xlink:href":"xlinkHref",xlinkRole:1,"xlink:role":"xlinkRole",xlinkShow:1,"xlink:show":"xlinkShow",xlinkTitle:1,"xlink:title":"xlinkTitle",xlinkType:1,"xlink:type":"xlinkType",xmlBase:1,"xml:base":"xmlBase",xmlLang:1,"xml:lang":"xmlLang",xmlns:0,"xml:space":"xmlSpace",xmlnsXlink:1,"xmlns:xlink":"xmlnsXlink",xmlSpace:1,y1:0,y2:0,y:0,yChannelSelector:1,z:0,zoomAndPan:1};const fc=0,en=1,pi=2,mi=3,Fs=4,pc=5,mc=6;function Cp(e){return Re.hasOwnProperty(e)?Re[e]:null}function He(e,t,n,r,i,s,o){this.acceptsBooleans=t===pi||t===mi||t===Fs,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}const Re={},Ep=["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"];Ep.forEach(e=>{Re[e]=new He(e,fc,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(([e,t])=>{Re[e]=new He(e,en,!1,t,null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(e=>{Re[e]=new He(e,pi,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(e=>{Re[e]=new He(e,pi,!1,e,null,!1,!1)});["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach(e=>{Re[e]=new He(e,mi,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(e=>{Re[e]=new He(e,mi,!0,e,null,!1,!1)});["capture","download"].forEach(e=>{Re[e]=new He(e,Fs,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(e=>{Re[e]=new He(e,mc,!1,e,null,!1,!1)});["rowSpan","start"].forEach(e=>{Re[e]=new He(e,pc,!1,e.toLowerCase(),null,!1,!1)});const Ds=/[\-\:]([a-z])/g,Os=e=>e[1].toUpperCase();["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach(e=>{const t=e.replace(Ds,Os);Re[t]=new He(t,en,!1,e,null,!1,!1)});["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach(e=>{const t=e.replace(Ds,Os);Re[t]=new He(t,en,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(e=>{const t=e.replace(Ds,Os);Re[t]=new He(t,en,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(e=>{Re[e]=new He(e,en,!1,e.toLowerCase(),null,!1,!1)});const Pp="xlinkHref";Re[Pp]=new He("xlinkHref",en,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(e=>{Re[e]=new He(e,en,!1,e.toLowerCase(),null,!0,!0)});const{CAMELCASE:jp,SAME:Mp,possibleStandardNames:Uo}=fi,Ap=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",kp=Ap+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",Fp=RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+kp+"]*$")),Dp=Object.keys(Uo).reduce((e,t)=>{const n=Uo[t];return n===Mp?e[t]=t:n===jp?e[t.toLowerCase()]=t:e[t]=n,e},{});pt.BOOLEAN=mi;pt.BOOLEANISH_STRING=pi;pt.NUMERIC=pc;pt.OVERLOADED_BOOLEAN=Fs;pt.POSITIVE_NUMERIC=mc;pt.RESERVED=fc;pt.STRING=en;pt.getPropertyInfo=Cp;pt.isCustomAttribute=Fp;pt.possibleStandardNames=Dp;var Rs={},Is={},zo=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,Op=/\n/g,Rp=/^\s*/,Ip=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,_p=/^:\s*/,Vp=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,Np=/^[;\s]*/,Lp=/^\s+|\s+$/g,Bp=`
`,$o="/",Wo="*",pn="",Up="comment",zp="declaration",$p=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(m){var y=m.match(Op);y&&(n+=y.length);var S=m.lastIndexOf(Bp);r=~S?m.length-S:r+m.length}function s(){var m={line:n,column:r};return function(y){return y.position=new o(m),u(),y}}function o(m){this.start=m,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function l(m){var y=new Error(t.source+":"+n+":"+r+": "+m);if(y.reason=m,y.filename=t.source,y.line=n,y.column=r,y.source=e,!t.silent)throw y}function a(m){var y=m.exec(e);if(y){var S=y[0];return i(S),e=e.slice(S.length),y}}function u(){a(Rp)}function c(m){var y;for(m=m||[];y=h();)y!==!1&&m.push(y);return m}function h(){var m=s();if(!($o!=e.charAt(0)||Wo!=e.charAt(1))){for(var y=2;pn!=e.charAt(y)&&(Wo!=e.charAt(y)||$o!=e.charAt(y+1));)++y;if(y+=2,pn===e.charAt(y-1))return l("End of comment missing");var S=e.slice(2,y-2);return r+=2,i(S),e=e.slice(y),r+=2,m({type:Up,comment:S})}}function f(){var m=s(),y=a(Ip);if(y){if(h(),!a(_p))return l("property missing ':'");var S=a(Vp),C=m({type:zp,property:Ho(y[0].replace(zo,pn)),value:S?Ho(S[0].replace(zo,pn)):pn});return a(Np),C}}function p(){var m=[];c(m);for(var y;y=f();)y!==!1&&(m.push(y),c(m));return m}return u(),p()};function Ho(e){return e?e.replace(Lp,pn):pn}var Wp=ae&&ae.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Is,"__esModule",{value:!0});var Hp=Wp($p);function Gp(e,t){var n=null;if(!e||typeof e!="string")return n;var r=(0,Hp.default)(e),i=typeof t=="function";return r.forEach(function(s){if(s.type==="declaration"){var o=s.property,l=s.value;i?t(o,l,s):l&&(n=n||{},n[o]=l)}}),n}Is.default=Gp;var gi={};Object.defineProperty(gi,"__esModule",{value:!0});gi.camelCase=void 0;var Kp=/^--[a-zA-Z0-9-]+$/,Xp=/-([a-z])/g,qp=/^[^-]+$/,Yp=/^-(webkit|moz|ms|o|khtml)-/,Zp=/^-(ms)-/,Jp=function(e){return!e||qp.test(e)||Kp.test(e)},Qp=function(e,t){return t.toUpperCase()},Go=function(e,t){return"".concat(t,"-")},em=function(e,t){return t===void 0&&(t={}),Jp(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(Zp,Go):e=e.replace(Yp,Go),e.replace(Xp,Qp))};gi.camelCase=em;var tm=ae&&ae.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},nm=tm(Is),rm=gi;function es(e,t){var n={};return!e||typeof e!="string"||(0,nm.default)(e,function(r,i){r&&i&&(n[(0,rm.camelCase)(r,t)]=i)}),n}es.default=es;var im=es;(function(e){var t=ae&&ae.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(e,"__esModule",{value:!0}),e.returnFirstArg=e.canTextBeChildOfNode=e.ELEMENTS_WITH_NO_TEXT_CHILDREN=e.PRESERVE_CUSTOM_ATTRIBUTES=e.setStyleProp=e.isCustomComponent=void 0;var n=x,r=t(im),i=new Set(["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"]);function s(c,h){return c.includes("-")?!i.has(c):!!(h&&typeof h.is=="string")}e.isCustomComponent=s;var o={reactCompat:!0};function l(c,h){if(typeof c=="string"){if(!c.trim()){h.style={};return}try{h.style=(0,r.default)(c,o)}catch{h.style={}}}}e.setStyleProp=l,e.PRESERVE_CUSTOM_ATTRIBUTES=Number(n.version.split(".")[0])>=16,e.ELEMENTS_WITH_NO_TEXT_CHILDREN=new Set(["tr","tbody","thead","tfoot","colgroup","table","head","html","frameset"]);var a=function(c){return!e.ELEMENTS_WITH_NO_TEXT_CHILDREN.has(c.name)};e.canTextBeChildOfNode=a;var u=function(c){return c};e.returnFirstArg=u})(Rs);Object.defineProperty(hi,"__esModule",{value:!0});var Jn=pt,Ko=Rs,sm=["checked","value"],om=["input","select","textarea"],am={reset:!0,submit:!0};function lm(e,t){e===void 0&&(e={});var n={},r=!!(e.type&&am[e.type]);for(var i in e){var s=e[i];if((0,Jn.isCustomAttribute)(i)){n[i]=s;continue}var o=i.toLowerCase(),l=Xo(o);if(l){var a=(0,Jn.getPropertyInfo)(l);switch(sm.includes(l)&&om.includes(t)&&!r&&(l=Xo("default"+o)),n[l]=s,a&&a.type){case Jn.BOOLEAN:n[l]=!0;break;case Jn.OVERLOADED_BOOLEAN:s===""&&(n[l]=!0);break}continue}Ko.PRESERVE_CUSTOM_ATTRIBUTES&&(n[i]=s)}return(0,Ko.setStyleProp)(e.style,n),n}hi.default=lm;function Xo(e){return Jn.possibleStandardNames[e]}var _s={},cm=ae&&ae.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_s,"__esModule",{value:!0});var Fi=x,um=cm(hi),nr=Rs,dm={cloneElement:Fi.cloneElement,createElement:Fi.createElement,isValidElement:Fi.isValidElement};function gc(e,t){t===void 0&&(t={});for(var n=[],r=typeof t.replace=="function",i=t.transform||nr.returnFirstArg,s=t.library||dm,o=s.cloneElement,l=s.createElement,a=s.isValidElement,u=e.length,c=0;c<u;c++){var h=e[c];if(r){var f=t.replace(h,c);if(a(f)){u>1&&(f=o(f,{key:f.key||c})),n.push(i(f,h,c));continue}}if(h.type==="text"){var p=!h.data.trim().length;if(p&&h.parent&&!(0,nr.canTextBeChildOfNode)(h.parent)||t.trim&&p)continue;n.push(i(h.data,h,c));continue}var m=h,y={};hm(m)?((0,nr.setStyleProp)(m.attribs.style,m.attribs),y=m.attribs):m.attribs&&(y=(0,um.default)(m.attribs,m.name));var S=void 0;switch(h.type){case"script":case"style":h.children[0]&&(y.dangerouslySetInnerHTML={__html:h.children[0].data});break;case"tag":h.name==="textarea"&&h.children[0]?y.defaultValue=h.children[0].data:h.children&&h.children.length&&(S=gc(h.children,t));break;default:continue}u>1&&(y.key=c),n.push(i(l(h.name,y,S),h,c))}return n.length===1?n[0]:n}_s.default=gc;function hm(e){return nr.PRESERVE_CUSTOM_ATTRIBUTES&&e.type==="tag"&&(0,nr.isCustomComponent)(e.name,e.attribs)}var vc={},Q={},tn=ae&&ae.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),rr=ae&&ae.__assign||function(){return rr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},rr.apply(this,arguments)};Object.defineProperty(Q,"__esModule",{value:!0});Q.cloneNode=Q.hasChildren=Q.isDocument=Q.isDirective=Q.isComment=Q.isText=Q.isCDATA=Q.isTag=Q.Element=Q.Document=Q.CDATA=Q.NodeWithChildren=Q.ProcessingInstruction=Q.Comment=Q.Text=Q.DataNode=Q.Node=void 0;var Ye=xr,Vs=function(){function e(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent},set:function(t){this.parent=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return this.prev},set:function(t){this.prev=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return this.next},set:function(t){this.next=t},enumerable:!1,configurable:!0}),e.prototype.cloneNode=function(t){return t===void 0&&(t=!1),Ns(this,t)},e}();Q.Node=Vs;var vi=function(e){tn(t,e);function t(n){var r=e.call(this)||this;return r.data=n,r}return Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.data},set:function(n){this.data=n},enumerable:!1,configurable:!0}),t}(Vs);Q.DataNode=vi;var yc=function(e){tn(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=Ye.ElementType.Text,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),t}(vi);Q.Text=yc;var xc=function(e){tn(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=Ye.ElementType.Comment,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),t}(vi);Q.Comment=xc;var bc=function(e){tn(t,e);function t(n,r){var i=e.call(this,r)||this;return i.name=n,i.type=Ye.ElementType.Directive,i}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),t}(vi);Q.ProcessingInstruction=bc;var yi=function(e){tn(t,e);function t(n){var r=e.call(this)||this;return r.children=n,r}return Object.defineProperty(t.prototype,"firstChild",{get:function(){var n;return(n=this.children[0])!==null&&n!==void 0?n:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.children},set:function(n){this.children=n},enumerable:!1,configurable:!0}),t}(Vs);Q.NodeWithChildren=yi;var wc=function(e){tn(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=Ye.ElementType.CDATA,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),t}(yi);Q.CDATA=wc;var Sc=function(e){tn(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=Ye.ElementType.Root,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),t}(yi);Q.Document=Sc;var Tc=function(e){tn(t,e);function t(n,r,i,s){i===void 0&&(i=[]),s===void 0&&(s=n==="script"?Ye.ElementType.Script:n==="style"?Ye.ElementType.Style:Ye.ElementType.Tag);var o=e.call(this,i)||this;return o.name=n,o.attribs=r,o.type=s,o}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tagName",{get:function(){return this.name},set:function(n){this.name=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){var n=this;return Object.keys(this.attribs).map(function(r){var i,s;return{name:r,value:n.attribs[r],namespace:(i=n["x-attribsNamespace"])===null||i===void 0?void 0:i[r],prefix:(s=n["x-attribsPrefix"])===null||s===void 0?void 0:s[r]}})},enumerable:!1,configurable:!0}),t}(yi);Q.Element=Tc;function Cc(e){return(0,Ye.isTag)(e)}Q.isTag=Cc;function Ec(e){return e.type===Ye.ElementType.CDATA}Q.isCDATA=Ec;function Pc(e){return e.type===Ye.ElementType.Text}Q.isText=Pc;function jc(e){return e.type===Ye.ElementType.Comment}Q.isComment=jc;function Mc(e){return e.type===Ye.ElementType.Directive}Q.isDirective=Mc;function Ac(e){return e.type===Ye.ElementType.Root}Q.isDocument=Ac;function fm(e){return Object.prototype.hasOwnProperty.call(e,"children")}Q.hasChildren=fm;function Ns(e,t){t===void 0&&(t=!1);var n;if(Pc(e))n=new yc(e.data);else if(jc(e))n=new xc(e.data);else if(Cc(e)){var r=t?Di(e.children):[],i=new Tc(e.name,rr({},e.attribs),r);r.forEach(function(a){return a.parent=i}),e.namespace!=null&&(i.namespace=e.namespace),e["x-attribsNamespace"]&&(i["x-attribsNamespace"]=rr({},e["x-attribsNamespace"])),e["x-attribsPrefix"]&&(i["x-attribsPrefix"]=rr({},e["x-attribsPrefix"])),n=i}else if(Ec(e)){var r=t?Di(e.children):[],s=new wc(r);r.forEach(function(u){return u.parent=s}),n=s}else if(Ac(e)){var r=t?Di(e.children):[],o=new Sc(r);r.forEach(function(u){return u.parent=o}),e["x-mode"]&&(o["x-mode"]=e["x-mode"]),n=o}else if(Mc(e)){var l=new bc(e.name,e.data);e["x-name"]!=null&&(l["x-name"]=e["x-name"],l["x-publicId"]=e["x-publicId"],l["x-systemId"]=e["x-systemId"]),n=l}else throw new Error("Not implemented yet: ".concat(e.type));return n.startIndex=e.startIndex,n.endIndex=e.endIndex,e.sourceCodeLocation!=null&&(n.sourceCodeLocation=e.sourceCodeLocation),n}Q.cloneNode=Ns;function Di(e){for(var t=e.map(function(r){return Ns(r,!0)}),n=1;n<t.length;n++)t[n].prev=t[n-1],t[n-1].next=t[n];return t}(function(e){var t=ae&&ae.__createBinding||(Object.create?function(l,a,u,c){c===void 0&&(c=u);var h=Object.getOwnPropertyDescriptor(a,u);(!h||("get"in h?!a.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return a[u]}}),Object.defineProperty(l,c,h)}:function(l,a,u,c){c===void 0&&(c=u),l[c]=a[u]}),n=ae&&ae.__exportStar||function(l,a){for(var u in l)u!=="default"&&!Object.prototype.hasOwnProperty.call(a,u)&&t(a,l,u)};Object.defineProperty(e,"__esModule",{value:!0}),e.DomHandler=void 0;var r=xr,i=Q;n(Q,e);var s={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},o=function(){function l(a,u,c){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof u=="function"&&(c=u,u=s),typeof a=="object"&&(u=a,a=void 0),this.callback=a??null,this.options=u??s,this.elementCB=c??null}return l.prototype.onparserinit=function(a){this.parser=a},l.prototype.onreset=function(){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},l.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},l.prototype.onerror=function(a){this.handleCallback(a)},l.prototype.onclosetag=function(){this.lastNode=null;var a=this.tagStack.pop();this.options.withEndIndices&&(a.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(a)},l.prototype.onopentag=function(a,u){var c=this.options.xmlMode?r.ElementType.Tag:void 0,h=new i.Element(a,u,void 0,c);this.addNode(h),this.tagStack.push(h)},l.prototype.ontext=function(a){var u=this.lastNode;if(u&&u.type===r.ElementType.Text)u.data+=a,this.options.withEndIndices&&(u.endIndex=this.parser.endIndex);else{var c=new i.Text(a);this.addNode(c),this.lastNode=c}},l.prototype.oncomment=function(a){if(this.lastNode&&this.lastNode.type===r.ElementType.Comment){this.lastNode.data+=a;return}var u=new i.Comment(a);this.addNode(u),this.lastNode=u},l.prototype.oncommentend=function(){this.lastNode=null},l.prototype.oncdatastart=function(){var a=new i.Text(""),u=new i.CDATA([a]);this.addNode(u),a.parent=u,this.lastNode=a},l.prototype.oncdataend=function(){this.lastNode=null},l.prototype.onprocessinginstruction=function(a,u){var c=new i.ProcessingInstruction(a,u);this.addNode(c)},l.prototype.handleCallback=function(a){if(typeof this.callback=="function")this.callback(a,this.dom);else if(a)throw a},l.prototype.addNode=function(a){var u=this.tagStack[this.tagStack.length-1],c=u.children[u.children.length-1];this.options.withStartIndices&&(a.startIndex=this.parser.startIndex),this.options.withEndIndices&&(a.endIndex=this.parser.endIndex),u.children.push(a),c&&(a.prev=c,c.next=a),a.parent=u,this.lastNode=null},l}();e.DomHandler=o,e.default=o})(vc);(function(e){var t=ae&&ae.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(e,"__esModule",{value:!0}),e.htmlToDOM=e.domToReact=e.attributesToProps=e.Text=e.ProcessingInstruction=e.Element=e.Comment=void 0;var n=t(js);e.htmlToDOM=n.default;var r=t(hi);e.attributesToProps=r.default;var i=t(_s);e.domToReact=i.default;var s=vc;Object.defineProperty(e,"Comment",{enumerable:!0,get:function(){return s.Comment}}),Object.defineProperty(e,"Element",{enumerable:!0,get:function(){return s.Element}}),Object.defineProperty(e,"ProcessingInstruction",{enumerable:!0,get:function(){return s.ProcessingInstruction}}),Object.defineProperty(e,"Text",{enumerable:!0,get:function(){return s.Text}});var o={lowerCaseAttributeNames:!1};function l(a,u){if(typeof a!="string")throw new TypeError("First argument must be a string");return a?(0,i.default)((0,n.default)(a,(u==null?void 0:u.htmlparser2)||o),u):[]}e.default=l})(Yl);const qo=oi(Yl),pm=qo.default||qo;function Ve(){return Ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ve.apply(this,arguments)}function Ls(e,t){if(e==null)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)t.indexOf(n=s[r])>=0||(i[n]=e[n]);return i}function Ur(e){var t=x.useRef({fn:e,curr:void 0}).current;if(t.fn=e,!t.curr){var n=Object.create(null);Object.keys(e).forEach(function(r){n[r]=function(){var i;return(i=t.fn[r]).call.apply(i,[t.fn].concat([].slice.call(arguments)))}}),t.curr=n}return t.curr}function ts(e){return x.useReducer(function(t,n){return Ve({},t,typeof n=="function"?n(t):n)},e)}x.createContext(void 0);var At=typeof window<"u"&&"ontouchstart"in window,ns=function(e,t,n){return Math.max(Math.min(e,n),t)},Or=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=0),ns(e,1*(1-n),Math.max(6,t)*(1+n))},rs=typeof window>"u"||/ServerSideRendering/.test(navigator&&navigator.userAgent)?x.useEffect:x.useLayoutEffect;function Fn(e,t,n){var r=x.useRef(t);r.current=t,x.useEffect(function(){function i(s){r.current(s)}return e&&window.addEventListener(e,i,n),function(){e&&window.removeEventListener(e,i)}},[e])}var mm=["container"];function gm(e){var t=e.container,n=t===void 0?document.body:t,r=Ls(e,mm);return Fd.createPortal(Z.createElement("div",Ve({},r)),n)}function vm(e){return Z.createElement("svg",Ve({width:"44",height:"44",viewBox:"0 0 768 768"},e),Z.createElement("path",{d:"M607.5 205.5l-178.5 178.5 178.5 178.5-45 45-178.5-178.5-178.5 178.5-45-45 178.5-178.5-178.5-178.5 45-45 178.5 178.5 178.5-178.5z"}))}function ym(e){return Z.createElement("svg",Ve({width:"44",height:"44",viewBox:"0 0 768 768"},e),Z.createElement("path",{d:"M640.5 352.5v63h-390l178.5 180-45 45-256.5-256.5 256.5-256.5 45 45-178.5 180h390z"}))}function xm(e){return Z.createElement("svg",Ve({width:"44",height:"44",viewBox:"0 0 768 768"},e),Z.createElement("path",{d:"M384 127.5l256.5 256.5-256.5 256.5-45-45 178.5-180h-390v-63h390l-178.5-180z"}))}function bm(){return x.useEffect(function(){var e=document.body.style,t=e.overflow;return e.overflow="hidden",function(){e.overflow=t}},[]),null}function Yo(e){var t=e.touches[0],n=t.clientX,r=t.clientY;if(e.touches.length>=2){var i=e.touches[1],s=i.clientX,o=i.clientY;return[(n+s)/2,(r+o)/2,Math.sqrt(Math.pow(s-n,2)+Math.pow(o-r,2))]}return[n,r,0]}var Wt=function(e,t,n,r){var i=n*t,s=(i-r)/2,o=void 0,l=e;return i<=r?(o=1,l=0):e>0&&s-e<=0?(o=2,l=s):e<0&&s+e<=0&&(o=3,l=-s),[o,l]};function Oi(e,t,n,r,i,s,o,l,a,u){o===void 0&&(o=innerWidth/2),l===void 0&&(l=innerHeight/2),a===void 0&&(a=0),u===void 0&&(u=0);var c=Wt(e,s,n,innerWidth)[0],h=Wt(t,s,r,innerHeight),f=innerWidth/2,p=innerHeight/2;return{x:o-s/i*(o-(f+e))-f+(r/n>=3&&n*s===innerWidth?0:c?a/2:a),y:l-s/i*(l-(p+t))-p+(h[0]?u/2:u),lastCX:o,lastCY:l}}function is(e,t,n){var r=e%180!=0;return r?[n,t,r]:[t,n,r]}function Ri(e,t,n){var r=is(n,innerWidth,innerHeight),i=r[0],s=r[1],o=0,l=i,a=s,u=e/t*s,c=t/e*i;return e<i&&t<s?(l=e,a=t):e<i&&t>=s?l=u:e>=i&&t<s||e/t>i/s?a=c:t/e>=3&&!r[2]?o=((a=c)-s)/2:l=u,{width:l,height:a,x:0,y:o,pause:!0}}function Rr(e,t){var n=t.leading,r=n!==void 0&&n,i=t.maxWait,s=t.wait,o=s===void 0?i||0:s,l=x.useRef(e);l.current=e;var a=x.useRef(0),u=x.useRef(),c=function(){return u.current&&clearTimeout(u.current)},h=x.useCallback(function(){var f=[].slice.call(arguments),p=Date.now();function m(){a.current=p,c(),l.current.apply(null,f)}var y=a.current,S=p-y;if(y===0&&(r&&m(),a.current=p),i!==void 0){if(S>i)return void m()}else S<o&&(a.current=p);c(),u.current=setTimeout(function(){m(),a.current=0},o)},[o,i,r]);return h.cancel=c,h}var Zo=function(e,t,n){return mn(e,t,n,100,function(r){return r},function(){return mn(t,e,n)})},wm=function(e){return 1-Math.pow(1-e,4)};function mn(e,t,n,r,i,s){r===void 0&&(r=400),i===void 0&&(i=wm);var o=t-e;if(o!==0){var l=Date.now(),a=0,u=function(){var h=Math.min(1,(Date.now()-l)/r);n(e+i(h)*o)&&h<1?c():(cancelAnimationFrame(a),h>=1&&s&&s())};c()}function c(){a=requestAnimationFrame(u)}}var Sm={T:0,L:0,W:0,H:0,FIT:void 0},kc=function(){var e=x.useRef(!1);return x.useEffect(function(){return e.current=!0,function(){e.current=!1}},[]),e},Tm=["className"];function Cm(e){var t=e.className,n=Ls(e,Tm);return Z.createElement("div",Ve({className:"PhotoView__Spinner "+t},n),Z.createElement("svg",{viewBox:"0 0 32 32",width:"36",height:"36",fill:"white"},Z.createElement("path",{opacity:".25",d:"M16 0 A16 16 0 0 0 16 32 A16 16 0 0 0 16 0 M16 4 A12 12 0 0 1 16 28 A12 12 0 0 1 16 4"}),Z.createElement("path",{d:"M16 0 A16 16 0 0 1 32 16 L28 16 A12 12 0 0 0 16 4z"})))}var Em=["src","loaded","broken","className","onPhotoLoad","loadingElement","brokenElement"];function Pm(e){var t=e.src,n=e.loaded,r=e.broken,i=e.className,s=e.onPhotoLoad,o=e.loadingElement,l=e.brokenElement,a=Ls(e,Em),u=kc();return t&&!r?Z.createElement(Z.Fragment,null,Z.createElement("img",Ve({className:"PhotoView__Photo"+(i?" "+i:""),src:t,onLoad:function(c){var h=c.target;u.current&&s({loaded:!0,naturalWidth:h.naturalWidth,naturalHeight:h.naturalHeight})},onError:function(){u.current&&s({broken:!0})},alt:""},a)),!n&&(Z.createElement("span",{className:"PhotoView__icon"},o)||Z.createElement(Cm,{className:"PhotoView__icon"}))):l?Z.createElement("span",{className:"PhotoView__icon"},typeof l=="function"?l({src:t}):l):null}var jm={naturalWidth:void 0,naturalHeight:void 0,width:void 0,height:void 0,loaded:void 0,broken:!1,x:0,y:0,touched:!1,maskTouched:!1,rotate:0,scale:1,CX:0,CY:0,lastX:0,lastY:0,lastCX:0,lastCY:0,lastScale:1,touchTime:0,touchLength:0,pause:!0,stopRaf:!0,reach:void 0};function Mm(e){var t=e.item,n=t.src,r=t.render,i=t.width,s=i===void 0?0:i,o=t.height,l=o===void 0?0:o,a=t.originRef,u=e.visible,c=e.speed,h=e.easing,f=e.wrapClassName,p=e.className,m=e.style,y=e.loadingElement,S=e.brokenElement,C=e.onPhotoTap,b=e.onMaskTap,g=e.onReachMove,T=e.onReachUp,A=e.onPhotoResize,M=e.isActive,F=e.expose,E=ts(jm),k=E[0],O=E[1],ee=x.useRef(0),ue=kc(),rt=k.naturalWidth,Te=rt===void 0?s:rt,H=k.naturalHeight,te=H===void 0?l:H,je=k.width,xe=je===void 0?s:je,It=k.height,w=It===void 0?l:It,v=k.loaded,R=v===void 0?!n:v,_=k.broken,V=k.x,L=k.y,B=k.touched,N=k.stopRaf,U=k.maskTouched,K=k.rotate,G=k.scale,ne=k.CX,re=k.CY,le=k.lastX,X=k.lastY,q=k.lastCX,Me=k.lastCY,pe=k.lastScale,Ce=k.touchTime,Be=k.touchLength,de=k.pause,Ze=k.reach,D=Ur({onScale:function(j){return oe(Or(j))},onRotate:function(j){K!==j&&(F({rotate:j}),O(Ve({rotate:j},Ri(Te,te,j))))}});function oe(j,$,se){G!==j&&(F({scale:j}),O(Ve({scale:j},Oi(V,L,xe,w,G,j,$,se),j<=1&&{x:0,y:0})))}var Ue=Rr(function(j,$,se){if(se===void 0&&(se=0),(B||U)&&M){var sn=is(K,xe,w),wt=sn[0],ct=sn[1];if(se===0&&ee.current===0){var ke=Math.abs(j-ne)<=20,Qe=Math.abs($-re)<=20;if(ke&&Qe)return void O({lastCX:j,lastCY:$});ee.current=ke?$>re?3:2:1}var on=j-q,an=$-Me,ut=void 0;if(se===0){var ln=Wt(on+le,G,wt,innerWidth)[0],Cn=Wt(an+X,G,ct,innerHeight);ut=function(Nt,Tt,Ct,vt){return Tt&&Nt===1||vt==="x"?"x":Ct&&Nt>1||vt==="y"?"y":void 0}(ee.current,ln,Cn[0],Ze),ut!==void 0&&g(ut,j,$,G)}if(ut==="x"||U)return void O({reach:"x"});var St=Or(G+(se-Be)/100/2*G,Te/xe,.2);F({scale:St}),O(Ve({touchLength:se,reach:ut,scale:St},Oi(V,L,xe,w,G,St,j,$,on,an)))}},{maxWait:8});function Ie(j){return!N&&!B&&(ue.current&&O(Ve({},j,{pause:u})),ue.current)}var Je,Ge,mt,_t,rn,Vt,wn,ze,Cr=(rn=function(j){return Ie({x:j})},Vt=function(j){return Ie({y:j})},wn=function(j){return ue.current&&(F({scale:j}),O({scale:j})),!B&&ue.current},ze=Ur({X:function(j){return rn(j)},Y:function(j){return Vt(j)},S:function(j){return wn(j)}}),function(j,$,se,sn,wt,ct,ke,Qe,on,an,ut){var ln=is(an,wt,ct),Cn=ln[0],St=ln[1],Nt=Wt(j,Qe,Cn,innerWidth),Tt=Nt[0],Ct=Nt[1],vt=Wt($,Qe,St,innerHeight),En=vt[0],Pr=vt[1],Pn=Date.now()-ut;if(Pn>=200||Qe!=ke||Math.abs(on-ke)>1){var Lt=Oi(j,$,wt,ct,ke,Qe),Et=Lt.x,cn=Lt.y,it=Tt?Ct:Et!==j?Et:null,jn=En?Pr:cn!==$?cn:null;return it!==null&&mn(j,it,ze.X),jn!==null&&mn($,jn,ze.Y),void(Qe!=ke&&mn(ke,Qe,ze.S))}var un=(j-se)/Pn,Bt=($-sn)/Pn,Ut=Math.sqrt(Math.pow(un,2)+Math.pow(Bt,2)),Pt=!1,jt=!1;(function(dt,$e){var We=dt,Mt=0,ht=void 0,st=0,Mn=function(Kn){ht||(ht=Kn);var Xn=Kn-ht,po=Math.sign(dt),mo=-.001*po,go=Math.sign(-We)*Math.pow(We,2)*2e-4,rd=We*Xn+(mo+go)*Math.pow(Xn,2)/2;Mt+=rd,ht=Kn,po*(We+=(mo+go)*Xn)<=0?ot():$e(Mt)?yt():ot()};function yt(){st=requestAnimationFrame(Mn)}function ot(){cancelAnimationFrame(st)}yt()})(Ut,function(dt){var $e=j+dt*(un/Ut),We=$+dt*(Bt/Ut),Mt=Wt($e,ke,Cn,innerWidth),ht=Mt[0],st=Mt[1],Mn=Wt(We,ke,St,innerHeight),yt=Mn[0],ot=Mn[1];if(ht&&!Pt&&(Pt=!0,Tt?mn($e,st,ze.X):Zo(st,$e+($e-st),ze.X)),yt&&!jt&&(jt=!0,En?mn(We,ot,ze.Y):Zo(ot,We+(We-ot),ze.Y)),Pt&&jt)return!1;var Kn=Pt||ze.X(st),Xn=jt||ze.Y(ot);return Kn&&Xn})}),Sn=(Je=C,Ge=function(j,$){Ze||oe(G!==1?1:Math.max(2,Te/xe),j,$)},mt=x.useRef(0),_t=Rr(function(){mt.current=0,Je.apply(void 0,[].slice.call(arguments))},{wait:300}),function(){var j=[].slice.call(arguments);mt.current+=1,_t.apply(void 0,j),mt.current>=2&&(_t.cancel(),mt.current=0,Ge.apply(void 0,j))});function Tn(j,$){if(ee.current=0,(B||U)&&M){O({touched:!1,maskTouched:!1,pause:!1,stopRaf:!1,reach:void 0});var se=Or(G,Te/xe);if(Cr(V,L,le,X,xe,w,G,se,pe,K,Ce),T(j,$),ne===j&&re===$){if(B)return void Sn(j,$);U&&b(j,$)}}}function Gn(j,$,se){se===void 0&&(se=0),O({touched:!0,CX:j,CY:$,lastCX:j,lastCY:$,lastX:V,lastY:L,lastScale:G,touchLength:se,touchTime:Date.now()})}function Er(j){O({maskTouched:!0,CX:j.clientX,CY:j.clientY,lastX:V,lastY:L})}Fn(At?void 0:"mousemove",function(j){j.preventDefault(),Ue(j.clientX,j.clientY)}),Fn(At?void 0:"mouseup",function(j){Tn(j.clientX,j.clientY)}),Fn(At?"touchmove":void 0,function(j){j.preventDefault();var $=Yo(j);Ue.apply(void 0,$)},{passive:!1}),Fn(At?"touchend":void 0,function(j){var $=j.changedTouches[0];Tn($.clientX,$.clientY)},{passive:!1}),Fn("resize",Rr(function(){R&&!B&&(O(Ri(Te,te,K)),A())},{maxWait:8})),rs(function(){M&&F(Ve({scale:G,rotate:K},D))},[M]);var gt=function(j,$,se,sn,wt,ct,ke,Qe,on,an){var ut=function(Et,cn,it,jn,un){var Bt=x.useRef(!1),Ut=ts({lead:!0,scale:it}),Pt=Ut[0],jt=Pt.lead,dt=Pt.scale,$e=Ut[1],We=Rr(function(Mt){try{return un(!0),$e({lead:!1,scale:Mt}),Promise.resolve()}catch(ht){return Promise.reject(ht)}},{wait:jn});return rs(function(){Bt.current?(un(!1),$e({lead:!0}),We(it)):Bt.current=!0},[it]),jt?[Et*dt,cn*dt,it/dt]:[Et*it,cn*it,1]}(ct,ke,Qe,on,an),ln=ut[0],Cn=ut[1],St=ut[2],Nt=function(Et,cn,it,jn,un){var Bt=x.useState(Sm),Ut=Bt[0],Pt=Bt[1],jt=x.useState(0),dt=jt[0],$e=jt[1],We=x.useRef(),Mt=Ur({OK:function(){return Et&&$e(4)}});function ht(st){un(!1),$e(st)}return x.useEffect(function(){if(We.current||(We.current=Date.now()),it){if(function(st,Mn){var yt=st&&st.current;if(yt&&yt.nodeType===1){var ot=yt.getBoundingClientRect();Mn({T:ot.top,L:ot.left,W:ot.width,H:ot.height,FIT:yt.tagName==="IMG"?getComputedStyle(yt).objectFit:void 0})}}(cn,Pt),Et)return Date.now()-We.current<250?($e(1),requestAnimationFrame(function(){$e(2),requestAnimationFrame(function(){return ht(3)})}),void setTimeout(Mt.OK,jn)):void $e(4);ht(5)}},[Et,it]),[dt,Ut]}(j,$,se,on,an),Tt=Nt[0],Ct=Nt[1],vt=Ct.W,En=Ct.FIT,Pr=innerWidth/2,Pn=innerHeight/2,Lt=Tt<3||Tt>4;return[Lt?vt?Ct.L:Pr:sn+(Pr-ct*Qe/2),Lt?vt?Ct.T:Pn:wt+(Pn-ke*Qe/2),ln,Lt&&En?ln*(Ct.H/vt):Cn,Tt===0?St:Lt?vt/(ct*Qe)||.01:St,Lt?En?1:0:1,Tt,En]}(u,a,R,V,L,xe,w,G,c,function(j){return O({pause:j})}),Y=gt[4],he=gt[6],Ee="transform "+c+"ms "+h,be={className:p,onMouseDown:At?void 0:function(j){j.stopPropagation(),j.button===0&&Gn(j.clientX,j.clientY,0)},onTouchStart:At?function(j){j.stopPropagation(),Gn.apply(void 0,Yo(j))}:void 0,onWheel:function(j){if(!Ze){var $=Or(G-j.deltaY/100/2,Te/xe);O({stopRaf:!0}),oe($,j.clientX,j.clientY)}},style:{width:gt[2],height:gt[3],opacity:gt[5],objectFit:he===4?void 0:gt[7],transform:K?"rotate("+K+"deg)":void 0,transition:he>2?Ee+", opacity "+c+"ms ease, height "+(he<4?c/2:he>4?c:0)+"ms "+h:void 0}};return Z.createElement("div",{className:"PhotoView__PhotoWrap"+(f?" "+f:""),style:m,onMouseDown:!At&&M?Er:void 0,onTouchStart:At&&M?function(j){return Er(j.touches[0])}:void 0},Z.createElement("div",{className:"PhotoView__PhotoBox",style:{transform:"matrix("+Y+", 0, 0, "+Y+", "+gt[0]+", "+gt[1]+")",transition:B||de?void 0:Ee,willChange:M?"transform":void 0}},n?Z.createElement(Pm,Ve({src:n,loaded:R,broken:_},be,{onPhotoLoad:function(j){O(Ve({},j,j.loaded&&Ri(j.naturalWidth||0,j.naturalHeight||0,K)))},loadingElement:y,brokenElement:S})):r&&r({attrs:be,scale:Y,rotate:K})))}var Jo={x:0,touched:!1,pause:!1,lastCX:void 0,lastCY:void 0,bg:void 0,lastBg:void 0,overlay:!0,minimal:!0,scale:1,rotate:0};function Am(e){var t=e.loop,n=t===void 0?3:t,r=e.speed,i=e.easing,s=e.photoClosable,o=e.maskClosable,l=o===void 0||o,a=e.maskOpacity,u=a===void 0?1:a,c=e.pullClosable,h=c===void 0||c,f=e.bannerVisible,p=f===void 0||f,m=e.overlayRender,y=e.toolbarRender,S=e.className,C=e.maskClassName,b=e.photoClassName,g=e.photoWrapClassName,T=e.loadingElement,A=e.brokenElement,M=e.images,F=e.index,E=F===void 0?0:F,k=e.onIndexChange,O=e.visible,ee=e.onClose,ue=e.afterClose,rt=e.portalContainer,Te=ts(Jo),H=Te[0],te=Te[1],je=x.useState(0),xe=je[0],It=je[1],w=H.x,v=H.touched,R=H.pause,_=H.lastCX,V=H.lastCY,L=H.bg,B=L===void 0?u:L,N=H.lastBg,U=H.overlay,K=H.minimal,G=H.scale,ne=H.rotate,re=H.onScale,le=H.onRotate,X=e.hasOwnProperty("index"),q=X?E:xe,Me=X?k:It,pe=x.useRef(q),Ce=M.length,Be=M[q],de=typeof n=="boolean"?n:Ce>n,Ze=function(Y,he){var Ee=x.useReducer(function(se){return!se},!1)[1],be=x.useRef(0),j=function(se,sn){var wt=x.useRef(se);function ct(ke){wt.current=ke}return x.useMemo(function(){(function(ke){Y?(ke(Y),be.current=1):be.current=2})(ct)},[se]),[wt.current,ct]}(Y),$=j[1];return[j[0],be.current,function(){Ee(),be.current===2&&($(!1),he&&he()),be.current=0}]}(O,ue),D=Ze[0],oe=Ze[1],Ue=Ze[2];rs(function(){if(D)return te({pause:!0,x:q*-(innerWidth+20)}),void(pe.current=q);te(Jo)},[D]);var Ie=Ur({close:function(Y){le&&le(0),te({overlay:!0,lastBg:B}),ee(Y)},changeIndex:function(Y,he){he===void 0&&(he=!1);var Ee=de?pe.current+(Y-q):Y,be=Ce-1,j=ns(Ee,0,be),$=de?Ee:j,se=innerWidth+20;te({touched:!1,lastCX:void 0,lastCY:void 0,x:-se*$,pause:he}),pe.current=$,Me&&Me(de?Y<0?be:Y>be?0:Y:j)}}),Je=Ie.close,Ge=Ie.changeIndex;function mt(Y){return Y?Je():te({overlay:!U})}function _t(){te({x:-(innerWidth+20)*q,lastCX:void 0,lastCY:void 0,pause:!0}),pe.current=q}function rn(Y,he,Ee,be){Y==="x"?function(j){if(_!==void 0){var $=j-_,se=$;!de&&(q===0&&$>0||q===Ce-1&&$<0)&&(se=$/2),te({touched:!0,lastCX:_,x:-(innerWidth+20)*pe.current+se,pause:!1})}else te({touched:!0,lastCX:j,x:w,pause:!1})}(he):Y==="y"&&function(j,$){if(V!==void 0){var se=u===null?null:ns(u,.01,u-Math.abs(j-V)/100/4);te({touched:!0,lastCY:V,bg:$===1?se:u,minimal:$===1})}else te({touched:!0,lastCY:j,bg:B,minimal:!0})}(Ee,be)}function Vt(Y,he){var Ee=Y-(_??Y),be=he-(V??he),j=!1;if(Ee<-40)Ge(q+1);else if(Ee>40)Ge(q-1);else{var $=-(innerWidth+20)*pe.current;Math.abs(be)>100&&K&&h&&(j=!0,Je()),te({touched:!1,x:$,lastCX:void 0,lastCY:void 0,bg:u,overlay:!!j||U})}}Fn("keydown",function(Y){if(O)switch(Y.key){case"ArrowLeft":Ge(q-1,!0);break;case"ArrowRight":Ge(q+1,!0);break;case"Escape":Je()}});var wn=function(Y,he,Ee){return x.useMemo(function(){var be=Y.length;return Ee?Y.concat(Y).concat(Y).slice(be+he-1,be+he+2):Y.slice(Math.max(he-1,0),Math.min(he+2,be+1))},[Y,he,Ee])}(M,q,de);if(!D)return null;var ze=U&&!oe,Cr=O?B:N,Sn=re&&le&&{images:M,index:q,visible:O,onClose:Je,onIndexChange:Ge,overlayVisible:ze,overlay:Be&&Be.overlay,scale:G,rotate:ne,onScale:re,onRotate:le},Tn=r?r(oe):400,Gn=i?i(oe):"cubic-bezier(0.25, 0.8, 0.25, 1)",Er=r?r(3):600,gt=i?i(3):"cubic-bezier(0.25, 0.8, 0.25, 1)";return Z.createElement(gm,{className:"PhotoView-Portal"+(ze?"":" PhotoView-Slider__clean")+(O?"":" PhotoView-Slider__willClose")+(S?" "+S:""),role:"dialog",onClick:function(Y){return Y.stopPropagation()},container:rt},O&&Z.createElement(bm,null),Z.createElement("div",{className:"PhotoView-Slider__Backdrop"+(C?" "+C:"")+(oe===1?" PhotoView-Slider__fadeIn":oe===2?" PhotoView-Slider__fadeOut":""),style:{background:Cr?"rgba(0, 0, 0, "+Cr+")":void 0,transitionTimingFunction:Gn,transitionDuration:(v?0:Tn)+"ms",animationDuration:Tn+"ms"},onAnimationEnd:Ue}),p&&Z.createElement("div",{className:"PhotoView-Slider__BannerWrap"},Z.createElement("div",{className:"PhotoView-Slider__Counter"},q+1," / ",Ce),Z.createElement("div",{className:"PhotoView-Slider__BannerRight"},y&&Sn&&y(Sn),Z.createElement(vm,{className:"PhotoView-Slider__toolbarIcon",onClick:Je}))),wn.map(function(Y,he){var Ee=de||q!==0?pe.current-1+he:q+he;return Z.createElement(Mm,{key:de?Y.key+"/"+Y.src+"/"+Ee:Y.key,item:Y,speed:Tn,easing:Gn,visible:O,onReachMove:rn,onReachUp:Vt,onPhotoTap:function(){return mt(s)},onMaskTap:function(){return mt(l)},wrapClassName:g,className:b,style:{left:(innerWidth+20)*Ee+"px",transform:"translate3d("+w+"px, 0px, 0)",transition:v||R?void 0:"transform "+Er+"ms "+gt},loadingElement:T,brokenElement:A,onPhotoResize:_t,isActive:pe.current===Ee,expose:te})}),!At&&p&&Z.createElement(Z.Fragment,null,(de||q!==0)&&Z.createElement("div",{className:"PhotoView-Slider__ArrowLeft",onClick:function(){return Ge(q-1,!0)}},Z.createElement(ym,null)),(de||q+1<Ce)&&Z.createElement("div",{className:"PhotoView-Slider__ArrowRight",onClick:function(){return Ge(q+1,!0)}},Z.createElement(xm,null))),m&&Sn&&Z.createElement("div",{className:"PhotoView-Slider__Overlay"},m(Sn)))}const km=e=>{const n=new DOMParser().parseFromString(e,"text/html").querySelectorAll("img");return Array.from(n).map(r=>r.getAttribute("src"))},Fm=({info:e,handleEntryClick:t,getEntries:n})=>{const r=P(f=>f.activeContent),{handleFetchContent:i,handleToggleStarred:s,handleToggleStatus:o}=Es(),{handleLeftKey:l,handleRightKey:a,handleEscapeKey:u}=ql(e,t,n);if(!r)return null;const c=r.status==="unread",h=r.starred;return d.jsxs(Se.Group,{className:"action-buttons",children:[d.jsx(Se,{icon:d.jsx(Dd,{}),onClick:u,shape:"round",type:"primary"}),d.jsx(Se,{icon:c?d.jsx(yl,{}):d.jsx(xl,{}),onClick:()=>o(r),type:"primary"}),d.jsx(Se,{onClick:()=>s(r),type:"primary",icon:h?d.jsx(ws,{style:{color:"#ffcd00"}}):d.jsx(bs,{})}),d.jsx(Se,{icon:d.jsx(Od,{}),onClick:l,type:"primary"}),d.jsx(Se,{icon:d.jsx(Rd,{}),onClick:a,type:"primary"}),d.jsx(Se,{icon:d.jsx(Id,{}),onClick:i,shape:"round",type:"primary"})]})},Dm=({url:e,text:t})=>{const[n,r]=x.useState(!1),i=()=>r(!0),s=()=>r(!1);return d.jsx(Vd,{to:e,style:{color:"inherit",textDecoration:n?"underline":"none"},onMouseEnter:i,onMouseLeave:s,children:t})},Om=({node:e,index:t,togglePhotoSlider:n})=>{const[r,i]=x.useState(!1),o=ci()<=768;return d.jsx("div",{style:{textAlign:"center",position:"relative"},children:d.jsxs("div",{style:{display:"inline-block",position:"relative"},onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:[d.jsx("img",{...e.attribs,alt:e.attribs.alt}),d.jsx(Se,{icon:d.jsx(Nd,{}),style:{position:"absolute",top:30,right:10,backgroundColor:"rgba(0, 0, 0, 0.5)",opacity:o||r?1:0,transition:"opacity 0.3s"},onClick:()=>n(t)})]})})},Rm=x.forwardRef(({info:e,handleEntryClick:t,getEntries:n,isFilteredEntriesUpdated:r,setIsFilteredEntriesUpdated:i},s)=>{const o=mr(),l=P(T=>T.activeContent),a=P(T=>T.fontSize),u=P(T=>T.articleWidth),[c,h]=x.useState(!1),[f,p]=x.useState(0),m=T=>{p(T),h(A=>!A)};if(!l)return d.jsxs("div",{ref:s,className:"content-empty",children:[d.jsx(_d,{style:{fontSize:"64px"}}),d.jsx(W.Title,{heading:6,style:{color:"var(--color-text-3)",marginTop:"10px"},children:"ReactFlux"})]});const y=km(l.content),S={replace:T=>{if(T.type==="tag"&&T.name==="img"){const A=y.findIndex(M=>M===T.attribs.src);return d.jsx(Om,{node:T,index:A,togglePhotoSlider:m})}return T}},C=pm(l.content,S),b=l.feed.category.id,g=l.feed.category.title;return d.jsxs("div",{ref:s,className:"article-content",children:[d.jsxs("div",{className:"scroll-container",children:[d.jsxs("div",{className:"article-header",style:{width:`${u}%`},children:[d.jsx(W.Title,{className:"article-title",heading:5,children:d.jsx("a",{href:l.url,target:"_blank",rel:"noopener noreferrer",children:l.title})}),d.jsxs("div",{className:"article-meta",children:[d.jsx(W.Text,{children:d.jsx(Dm,{url:`/feed/${l.feed.id}`,text:l.feed.title})}),d.jsx(W.Text,{children:` - ${l.author}`}),d.jsx(W.Text,{children:d.jsx(cr,{size:"small",onClick:()=>{o(`/group/${b}`)},style:{marginLeft:"10px",cursor:"pointer"},children:g})})]}),d.jsx(W.Text,{className:"article-date",children:Vn(l.published_at).format("dddd, MMMM D, YYYY [at] h:mm A")}),d.jsx(xt,{})]}),d.jsxs("div",{className:"article-body",style:{fontSize:`${a}rem`,width:`${u}%`},children:[C,d.jsx(Am,{images:y.map(T=>({src:T,key:T})),visible:c,onClose:()=>h(!1),index:f,onIndexChange:p})]},l.id)]}),d.jsx(Fm,{info:e,handleEntryClick:t,getEntries:n,isFilteredEntriesUpdated:r,setIsFilteredEntriesUpdated:i})]})});var Fc={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var l=arguments[o];l&&(s=i(s,r(l)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var l in s)t.call(s,l)&&s[l]&&(o=i(o,l));return o}function i(s,o){return o?s?s+" "+o:s+o:s}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(Fc);var Im=Fc.exports;const Dc=oi(Im),Oc=x.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),xi=x.createContext({}),Bs=x.createContext(null),Us=typeof document<"u",_m=Us?x.useLayoutEffect:x.useEffect,Rc=x.createContext({strict:!1}),zs=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Vm="framerAppearId",Ic="data-"+zs(Vm),Nm={skipAnimations:!1,useManualTiming:!1};class Qo{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function Lm(e){let t=new Qo,n=new Qo,r=0,i=!1,s=!1;const o=new WeakSet,l={schedule:(a,u=!1,c=!1)=>{const h=c&&i,f=h?t:n;return u&&o.add(a),f.add(a)&&h&&i&&(r=t.order.length),a},cancel:a=>{n.remove(a),o.delete(a)},process:a=>{if(i){s=!0;return}if(i=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let u=0;u<r;u++){const c=t.order[u];o.has(c)&&(l.schedule(c),e()),c(a)}i=!1,s&&(s=!1,l.process(a))}};return l}const Ir=["read","resolveKeyframes","update","preRender","render","postRender"],Bm=40;function _c(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=Ir.reduce((h,f)=>(h[f]=Lm(()=>n=!0),h),{}),o=h=>{s[h].process(i)},l=()=>{const h=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(h-i.timestamp,Bm),1),i.timestamp=h,i.isProcessing=!0,Ir.forEach(o),i.isProcessing=!1,n&&t&&(r=!1,e(l))},a=()=>{n=!0,r=!0,i.isProcessing||e(l)};return{schedule:Ir.reduce((h,f)=>{const p=s[f];return h[f]=(m,y=!1,S=!1)=>(n||a(),p.schedule(m,y,S)),h},{}),cancel:h=>Ir.forEach(f=>s[f].cancel(h)),state:i,steps:s}}const{schedule:$s,cancel:A1}=_c(queueMicrotask,!1);function Um(e,t,n,r){const{visualElement:i}=x.useContext(xi),s=x.useContext(Rc),o=x.useContext(Bs),l=x.useContext(Oc).reducedMotion,a=x.useRef();r=r||s.renderer,!a.current&&r&&(a.current=r(e,{visualState:t,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const u=a.current;x.useInsertionEffect(()=>{u&&u.update(n,o)});const c=x.useRef(!!(n[Ic]&&!window.HandoffComplete));return _m(()=>{u&&($s.postRender(u.render),c.current&&u.animationState&&u.animationState.animateChanges())}),x.useEffect(()=>{u&&(u.updateFeatures(),!c.current&&u.animationState&&u.animationState.animateChanges(),c.current&&(c.current=!1,window.HandoffComplete=!0))}),u}function Dn(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function zm(e,t,n){return x.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Dn(n)&&(n.current=r))},[t])}function dr(e){return typeof e=="string"||Array.isArray(e)}function bi(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Ws=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Hs=["initial",...Ws];function wi(e){return bi(e.animate)||Hs.some(t=>dr(e[t]))}function Vc(e){return!!(wi(e)||e.variants)}function $m(e,t){if(wi(e)){const{initial:n,animate:r}=e;return{initial:n===!1||dr(n)?n:void 0,animate:dr(r)?r:void 0}}return e.inherit!==!1?t:{}}function Wm(e){const{initial:t,animate:n}=$m(e,x.useContext(xi));return x.useMemo(()=>({initial:t,animate:n}),[ea(t),ea(n)])}function ea(e){return Array.isArray(e)?e.join(" "):e}const ta={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},hr={};for(const e in ta)hr[e]={isEnabled:t=>ta[e].some(n=>!!t[n])};function Hm(e){for(const t in e)hr[t]={...hr[t],...e[t]}}const Nc=x.createContext({}),Lc=x.createContext({}),Gm=Symbol.for("motionComponentSymbol");function Km({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){e&&Hm(e);function s(l,a){let u;const c={...x.useContext(Oc),...l,layoutId:Xm(l)},{isStatic:h}=c,f=Wm(l),p=r(l,h);if(!h&&Us){f.visualElement=Um(i,p,c,t);const m=x.useContext(Lc),y=x.useContext(Rc).strict;f.visualElement&&(u=f.visualElement.loadFeatures(c,y,e,m))}return x.createElement(xi.Provider,{value:f},u&&f.visualElement?x.createElement(u,{visualElement:f.visualElement,...c}):null,n(i,l,zm(p,f.visualElement,a),p,h,f.visualElement))}const o=x.forwardRef(s);return o[Gm]=i,o}function Xm({layoutId:e}){const t=x.useContext(Nc).id;return t&&e!==void 0?t+"-"+e:e}function qm(e){function t(r,i={}){return Km(e(r,i))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,i)=>(n.has(i)||n.set(i,t(i)),n.get(i))})}const Ym=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Gs(e){return typeof e!="string"||e.includes("-")?!1:!!(Ym.indexOf(e)>-1||/[A-Z]/u.test(e))}const Qr={};function Zm(e){Object.assign(Qr,e)}const br=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],bn=new Set(br);function Bc(e,{layout:t,layoutId:n}){return bn.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Qr[e]||e==="opacity")}const Ne=e=>!!(e&&e.getVelocity),Jm={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Qm=br.length;function eg(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,i){let s="";for(let o=0;o<Qm;o++){const l=br[o];if(e[l]!==void 0){const a=Jm[l]||l;s+=`${a}(${e[l]}) `}}return t&&!e.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(e,r?"":s):n&&r&&(s="none"),s}const Uc=e=>t=>typeof t=="string"&&t.startsWith(e),zc=Uc("--"),tg=Uc("var(--"),Ks=e=>tg(e)?ng.test(e.split("/*")[0].trim()):!1,ng=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,rg=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Yt=(e,t,n)=>n>t?t:n<e?e:n,Wn={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ir={...Wn,transform:e=>Yt(0,1,e)},_r={...Wn,default:1},sr=e=>Math.round(e*1e5)/1e5,Xs=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,ig=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,sg=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function wr(e){return typeof e=="string"}const Sr=e=>({test:t=>wr(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),$t=Sr("deg"),bt=Sr("%"),z=Sr("px"),og=Sr("vh"),ag=Sr("vw"),na={...bt,parse:e=>bt.parse(e)/100,transform:e=>bt.transform(e*100)},ra={...Wn,transform:Math.round},$c={borderWidth:z,borderTopWidth:z,borderRightWidth:z,borderBottomWidth:z,borderLeftWidth:z,borderRadius:z,radius:z,borderTopLeftRadius:z,borderTopRightRadius:z,borderBottomRightRadius:z,borderBottomLeftRadius:z,width:z,maxWidth:z,height:z,maxHeight:z,size:z,top:z,right:z,bottom:z,left:z,padding:z,paddingTop:z,paddingRight:z,paddingBottom:z,paddingLeft:z,margin:z,marginTop:z,marginRight:z,marginBottom:z,marginLeft:z,rotate:$t,rotateX:$t,rotateY:$t,rotateZ:$t,scale:_r,scaleX:_r,scaleY:_r,scaleZ:_r,skew:$t,skewX:$t,skewY:$t,distance:z,translateX:z,translateY:z,translateZ:z,x:z,y:z,z,perspective:z,transformPerspective:z,opacity:ir,originX:na,originY:na,originZ:z,zIndex:ra,backgroundPositionX:z,backgroundPositionY:z,fillOpacity:ir,strokeOpacity:ir,numOctaves:ra};function qs(e,t,n,r){const{style:i,vars:s,transform:o,transformOrigin:l}=e;let a=!1,u=!1,c=!0;for(const h in t){const f=t[h];if(zc(h)){s[h]=f;continue}const p=$c[h],m=rg(f,p);if(bn.has(h)){if(a=!0,o[h]=m,!c)continue;f!==(p.default||0)&&(c=!1)}else h.startsWith("origin")?(u=!0,l[h]=m):i[h]=m}if(t.transform||(a||r?i.transform=eg(e.transform,n,c,r):i.transform&&(i.transform="none")),u){const{originX:h="50%",originY:f="50%",originZ:p=0}=l;i.transformOrigin=`${h} ${f} ${p}`}}const Ys=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Wc(e,t,n){for(const r in t)!Ne(t[r])&&!Bc(r,n)&&(e[r]=t[r])}function lg({transformTemplate:e},t,n){return x.useMemo(()=>{const r=Ys();return qs(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function cg(e,t,n){const r=e.style||{},i={};return Wc(i,r,e),Object.assign(i,lg(e,t,n)),i}function ug(e,t,n){const r={},i=cg(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const dg=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ei(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||dg.has(e)}let Hc=e=>!ei(e);function hg(e){e&&(Hc=t=>t.startsWith("on")?!ei(t):e(t))}try{hg(require("@emotion/is-prop-valid").default)}catch{}function fg(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(Hc(i)||n===!0&&ei(i)||!t&&!ei(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function ia(e,t,n){return typeof e=="string"?e:z.transform(t+n*e)}function pg(e,t,n){const r=ia(t,e.x,e.width),i=ia(n,e.y,e.height);return`${r} ${i}`}const mg={offset:"stroke-dashoffset",array:"stroke-dasharray"},gg={offset:"strokeDashoffset",array:"strokeDasharray"};function vg(e,t,n=1,r=0,i=!0){e.pathLength=1;const s=i?mg:gg;e[s.offset]=z.transform(-r);const o=z.transform(t),l=z.transform(n);e[s.array]=`${o} ${l}`}function Zs(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:l=1,pathOffset:a=0,...u},c,h,f){if(qs(e,u,c,f),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:m,dimensions:y}=e;p.transform&&(y&&(m.transform=p.transform),delete p.transform),y&&(i!==void 0||s!==void 0||m.transform)&&(m.transformOrigin=pg(y,i!==void 0?i:.5,s!==void 0?s:.5)),t!==void 0&&(p.x=t),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),o!==void 0&&vg(p,o,l,a,!1)}const Gc=()=>({...Ys(),attrs:{}}),Js=e=>typeof e=="string"&&e.toLowerCase()==="svg";function yg(e,t,n,r){const i=x.useMemo(()=>{const s=Gc();return Zs(s,t,{enableHardwareAcceleration:!1},Js(r),e.transformTemplate),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};Wc(s,e.style,e),i.style={...s,...i.style}}return i}function xg(e=!1){return(n,r,i,{latestValues:s},o)=>{const a=(Gs(n)?yg:ug)(r,s,o,n),u=fg(r,typeof n=="string",e),c=n!==x.Fragment?{...u,...a,ref:i}:{},{children:h}=r,f=x.useMemo(()=>Ne(h)?h.get():h,[h]);return x.createElement(n,{...c,children:f})}}function Kc(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const s in n)e.style.setProperty(s,n[s])}const Xc=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function qc(e,t,n,r){Kc(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(Xc.has(i)?i:zs(i),t.attrs[i])}function Qs(e,t,n){var r;const{style:i}=e,s={};for(const o in i)(Ne(i[o])||t.style&&Ne(t.style[o])||Bc(o,e)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return s}function Yc(e,t,n){const r=Qs(e,t,n);for(const i in e)if(Ne(e[i])||Ne(t[i])){const s=br.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=e[i]}return r}function eo(e,t,n,r={},i={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),t}function bg(e){const t=x.useRef(null);return t.current===null&&(t.current=e()),t.current}const ss=e=>Array.isArray(e),wg=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Sg=e=>ss(e)?e[e.length-1]||0:e;function zr(e){const t=Ne(e)?e.get():e;return wg(t)?t.toValue():t}function Tg({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,i,s){const o={latestValues:Cg(r,i,s,e),renderState:t()};return n&&(o.mount=l=>n(r,l,o)),o}const Zc=e=>(t,n)=>{const r=x.useContext(xi),i=x.useContext(Bs),s=()=>Tg(e,t,r,i);return n?s():bg(s)};function Cg(e,t,n,r){const i={},s=r(e,{});for(const f in s)i[f]=zr(s[f]);let{initial:o,animate:l}=e;const a=wi(e),u=Vc(e);t&&u&&!a&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let c=n?n.initial===!1:!1;c=c||o===!1;const h=c?l:o;return h&&typeof h!="boolean"&&!bi(h)&&(Array.isArray(h)?h:[h]).forEach(p=>{const m=eo(e,p);if(!m)return;const{transitionEnd:y,transition:S,...C}=m;for(const b in C){let g=C[b];if(Array.isArray(g)){const T=c?g.length-1:0;g=g[T]}g!==null&&(i[b]=g)}for(const b in y)i[b]=y[b]}),i}const Le=e=>e,{schedule:Oe,cancel:Zt,state:Fe,steps:Ii}=_c(typeof requestAnimationFrame<"u"?requestAnimationFrame:Le,!0),Eg={useVisualState:Zc({scrapeMotionValuesFromProps:Yc,createRenderState:Gc,onMount:(e,t,{renderState:n,latestValues:r})=>{Oe.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Oe.render(()=>{Zs(n,r,{enableHardwareAcceleration:!1},Js(t.tagName),e.transformTemplate),qc(t,n)})}})},Pg={useVisualState:Zc({scrapeMotionValuesFromProps:Qs,createRenderState:Ys})};function jg(e,{forwardMotionProps:t=!1},n,r){return{...Gs(e)?Eg:Pg,preloadedFeatures:n,useRender:xg(t),createVisualElement:r,Component:e}}function kt(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const Jc=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Si(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const Mg=e=>t=>Jc(t)&&e(t,Si(t));function Ft(e,t,n,r){return kt(e,t,Mg(n),r)}const Ag=(e,t)=>n=>t(e(n)),Dt=(...e)=>e.reduce(Ag);function Qc(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const sa=Qc("dragHorizontal"),oa=Qc("dragVertical");function eu(e){let t=!1;if(e==="y")t=oa();else if(e==="x")t=sa();else{const n=sa(),r=oa();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function tu(){const e=eu(!0);return e?(e(),!1):!0}class nn{constructor(t){this.isMounted=!1,this.node=t}update(){}}function aa(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),i=(s,o)=>{if(s.pointerType==="touch"||tu())return;const l=e.getProps();e.animationState&&l.whileHover&&e.animationState.setActive("whileHover",t),l[r]&&l[r](s,o)};return Ft(e.current,n,i,{passive:!e.getProps()[r]})}class kg extends nn{mount(){this.unmount=Dt(aa(this.node,!0),aa(this.node,!1))}unmount(){}}class Fg extends nn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Dt(kt(this.node.current,"focus",()=>this.onFocus()),kt(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const nu=(e,t)=>t?e===t?!0:nu(e,t.parentElement):!1;function _i(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Si(n))}class Dg extends nn{constructor(){super(...arguments),this.removeStartListeners=Le,this.removeEndListeners=Le,this.removeAccessibleListeners=Le,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=Ft(window,"pointerup",(l,a)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:c,globalTapTarget:h}=this.node.getProps();!h&&!nu(this.node.current,l.target)?c&&c(l,a):u&&u(l,a)},{passive:!(r.onTap||r.onPointerUp)}),o=Ft(window,"pointercancel",(l,a)=>this.cancelPress(l,a),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Dt(s,o),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=l=>{l.key!=="Enter"||!this.checkPressEnd()||_i("up",(a,u)=>{const{onTap:c}=this.node.getProps();c&&c(a,u)})};this.removeEndListeners(),this.removeEndListeners=kt(this.node.current,"keyup",o),_i("down",(l,a)=>{this.startPress(l,a)})},n=kt(this.node.current,"keydown",t),r=()=>{this.isPressing&&_i("cancel",(s,o)=>this.cancelPress(s,o))},i=kt(this.node.current,"blur",r);this.removeAccessibleListeners=Dt(n,i)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&r(t,n)}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!tu()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&r(t,n)}mount(){const t=this.node.getProps(),n=Ft(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=kt(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Dt(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const os=new WeakMap,Vi=new WeakMap,Og=e=>{const t=os.get(e.target);t&&t(e)},Rg=e=>{e.forEach(Og)};function Ig({root:e,...t}){const n=e||document;Vi.has(n)||Vi.set(n,{});const r=Vi.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(Rg,{root:e,...t})),r[i]}function _g(e,t,n){const r=Ig(t);return os.set(e,n),r.observe(e),()=>{os.delete(e),r.unobserve(e)}}const Vg={some:0,all:1};class Ng extends nn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Vg[i]},l=a=>{const{isIntersecting:u}=a;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:h}=this.node.getProps(),f=u?c:h;f&&f(a)};return _g(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Lg(t,n))&&this.startObserver()}unmount(){}}function Lg({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Bg={inView:{Feature:Ng},tap:{Feature:Dg},focus:{Feature:Fg},hover:{Feature:kg}};function ru(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Ug(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function zg(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function Ti(e,t,n){const r=e.getProps();return eo(r,t,n!==void 0?n:r.custom,Ug(e),zg(e))}const Xt=e=>e*1e3,Ot=e=>e/1e3,$g={type:"spring",stiffness:500,damping:25,restSpeed:10},Wg=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Hg={type:"keyframes",duration:.8},Gg={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Kg=(e,{keyframes:t})=>t.length>2?Hg:bn.has(e)?e.startsWith("scale")?Wg(t[1]):$g:Gg;function Xg({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:l,from:a,elapsed:u,...c}){return!!Object.keys(c).length}function to(e,t){return e[t]||e.default||e}const qg=e=>e!==null;function Ci(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(qg),s=t&&n!=="loop"&&t%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}let $r;function Yg(){$r=void 0}const qt={now:()=>($r===void 0&&qt.set(Fe.isProcessing||Nm.useManualTiming?Fe.timestamp:performance.now()),$r),set:e=>{$r=e,queueMicrotask(Yg)}},iu=e=>/^0[^.\s]+$/u.test(e);function Zg(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||iu(e):!0}let su=Le;const ou=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),Jg=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Qg(e){const t=Jg.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function au(e,t,n=1){const[r,i]=Qg(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const o=s.trim();return ou(o)?parseFloat(o):o}return Ks(i)?au(i,t,n+1):i}const ev=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),la=e=>e===Wn||e===z,ca=(e,t)=>parseFloat(e.split(", ")[t]),ua=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return ca(i[1],t);{const s=r.match(/^matrix\((.+)\)$/u);return s?ca(s[1],e):0}},tv=new Set(["x","y","z"]),nv=br.filter(e=>!tv.has(e));function da(e){const t=[];return nv.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Un={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:ua(4,13),y:ua(5,14)};Un.translateX=Un.x;Un.translateY=Un.y;const lu=e=>t=>t.test(e),rv={test:e=>e==="auto",parse:e=>e},cu=[Wn,z,bt,$t,ag,og,rv],ha=e=>cu.find(lu(e)),xn=new Set;let as=!1,ls=!1;function uu(){if(ls){const e=Array.from(xn).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{da(r).length&&(n.set(r,da(r)),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render()}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}ls=!1,as=!1,xn.forEach(e=>e.complete()),xn.clear()}function du(){xn.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(ls=!0)})}function iv(){du(),uu()}class no{constructor(t,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(xn.add(this),as||(as=!0,Oe.read(du),Oe.resolveKeyframes(uu))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;for(let s=0;s<t.length;s++)if(t[s]===null)if(s===0){const o=i==null?void 0:i.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(r&&n){const a=r.readValue(n,l);a!=null&&(t[0]=a)}t[0]===void 0&&(t[0]=l),i&&o===void 0&&i.set(t[0])}else t[s]=t[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),xn.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,xn.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const ro=(e,t)=>n=>!!(wr(n)&&sg.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),hu=(e,t,n)=>r=>{if(!wr(r))return r;const[i,s,o,l]=r.match(Xs);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},sv=e=>Yt(0,255,e),Ni={...Wn,transform:e=>Math.round(sv(e))},vn={test:ro("rgb","red"),parse:hu("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Ni.transform(e)+", "+Ni.transform(t)+", "+Ni.transform(n)+", "+sr(ir.transform(r))+")"};function ov(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const cs={test:ro("#"),parse:ov,transform:vn.transform},On={test:ro("hsl","hue"),parse:hu("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+bt.transform(sr(t))+", "+bt.transform(sr(n))+", "+sr(ir.transform(r))+")"},_e={test:e=>vn.test(e)||cs.test(e)||On.test(e),parse:e=>vn.test(e)?vn.parse(e):On.test(e)?On.parse(e):cs.parse(e),transform:e=>wr(e)?e:e.hasOwnProperty("red")?vn.transform(e):On.transform(e)};function av(e){var t,n;return isNaN(e)&&wr(e)&&(((t=e.match(Xs))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(ig))===null||n===void 0?void 0:n.length)||0)>0}const fu="number",pu="color",lv="var",cv="var(",fa="${}",uv=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ti(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const l=t.replace(uv,a=>(_e.test(a)?(r.color.push(s),i.push(pu),n.push(_e.parse(a))):a.startsWith(cv)?(r.var.push(s),i.push(lv),n.push(a)):(r.number.push(s),i.push(fu),n.push(parseFloat(a))),++s,fa)).split(fa);return{values:n,split:l,indexes:r,types:i}}function mu(e){return ti(e).values}function gu(e){const{split:t,types:n}=ti(e),r=t.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=t[o],i[o]!==void 0){const l=n[o];l===fu?s+=sr(i[o]):l===pu?s+=_e.transform(i[o]):s+=i[o]}return s}}const dv=e=>typeof e=="number"?0:e;function hv(e){const t=mu(e);return gu(e)(t.map(dv))}const Jt={test:av,parse:mu,createTransformer:gu,getAnimatableNone:hv},fv=new Set(["brightness","contrast","saturate","opacity"]);function pv(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Xs)||[];if(!r)return e;const i=n.replace(r,"");let s=fv.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const mv=/\b([a-z-]*)\(.*?\)/gu,us={...Jt,getAnimatableNone:e=>{const t=e.match(mv);return t?t.map(pv).join(" "):e}},gv={...$c,color:_e,backgroundColor:_e,outlineColor:_e,fill:_e,stroke:_e,borderColor:_e,borderTopColor:_e,borderRightColor:_e,borderBottomColor:_e,borderLeftColor:_e,filter:us,WebkitFilter:us},io=e=>gv[e];function vu(e,t){let n=io(e);return n!==us&&(n=Jt),n.getAnimatableNone?n.getAnimatableNone(t):void 0}function vv(e,t,n){let r=0,i;for(;r<e.length&&!i;)typeof e[r]=="string"&&e[r]!=="none"&&e[r]!=="0"&&(i=e[r]),r++;if(i&&n)for(const s of t)e[s]=vu(n,i)}class yu extends no{constructor(t,n,r,i){super(t,n,r,i,i==null?void 0:i.owner,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n.current)return;super.readKeyframes();for(let a=0;a<t.length;a++){const u=t[a];if(typeof u=="string"&&Ks(u)){const c=au(u,n.current);c!==void 0&&(t[a]=c),a===t.length-1&&(this.finalKeyframe=u)}}if(!ev.has(r)||t.length!==2)return this.resolveNoneKeyframes();const[i,s]=t,o=ha(i),l=ha(s);if(o!==l)if(la(o)&&la(l))for(let a=0;a<t.length;a++){const u=t[a];typeof u=="string"&&(t[a]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)Zg(t[i])&&r.push(i);r.length&&vv(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Un[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,l=i[o];i[o]=Un[r](n.measureViewportBox(),window.getComputedStyle(n.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([a,u])=>{n.getValue(a).set(u)}),this.resolveNoneKeyframes()}}function yv(e){let t;return()=>(t===void 0&&(t=e()),t)}const pa=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Jt.test(e)||e==="0")&&!e.startsWith("url("));function xv(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function bv(e,t,n,r){const i=e[0];if(i===null)return!1;const s=e[e.length-1],o=pa(i,t),l=pa(s,t);return!o||!l?!1:xv(e)||n==="spring"&&r}class xu{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.options={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...l},this.updateFinishedPromise()}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&iv(),this._resolved}onKeyframesResolved(t,n){this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:l,onUpdate:a,isGenerator:u}=this.options;if(!u&&!bv(t,r,i,s))if(o)this.options.duration=0;else{a==null||a(Ci(t,this.options,n)),l==null||l(),this.resolveFinishedPromise();return}const c=this.initPlayback(t,n);c!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...c},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}function bu(e,t){return t?e*(1e3/t):0}const wv=5;function wu(e,t,n){const r=Math.max(t-wv,0);return bu(n-e(r),t-r)}const Li=.001,Sv=.01,Tv=10,Cv=.05,Ev=1;function Pv({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let i,s,o=1-t;o=Yt(Cv,Ev,o),e=Yt(Sv,Tv,Ot(e)),o<1?(i=u=>{const c=u*o,h=c*e,f=c-n,p=ds(u,o),m=Math.exp(-h);return Li-f/p*m},s=u=>{const h=u*o*e,f=h*n+n,p=Math.pow(o,2)*Math.pow(u,2)*e,m=Math.exp(-h),y=ds(Math.pow(u,2),o);return(-i(u)+Li>0?-1:1)*((f-p)*m)/y}):(i=u=>{const c=Math.exp(-u*e),h=(u-n)*e+1;return-Li+c*h},s=u=>{const c=Math.exp(-u*e),h=(n-u)*(e*e);return c*h});const l=5/e,a=Mv(i,s,l);if(e=Xt(e),isNaN(a))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(a,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const jv=12;function Mv(e,t,n){let r=n;for(let i=1;i<jv;i++)r=r-e(r)/t(r);return r}function ds(e,t){return e*Math.sqrt(1-t*t)}const Av=["duration","bounce"],kv=["stiffness","damping","mass"];function ma(e,t){return t.some(n=>e[n]!==void 0)}function Fv(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!ma(e,kv)&&ma(e,Av)){const n=Pv(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function Su({keyframes:e,restDelta:t,restSpeed:n,...r}){const i=e[0],s=e[e.length-1],o={done:!1,value:i},{stiffness:l,damping:a,mass:u,duration:c,velocity:h,isResolvedFromDuration:f}=Fv({...r,velocity:-Ot(r.velocity||0)}),p=h||0,m=a/(2*Math.sqrt(l*u)),y=s-i,S=Ot(Math.sqrt(l/u)),C=Math.abs(y)<5;n||(n=C?.01:2),t||(t=C?.005:.5);let b;if(m<1){const g=ds(S,m);b=T=>{const A=Math.exp(-m*S*T);return s-A*((p+m*S*y)/g*Math.sin(g*T)+y*Math.cos(g*T))}}else if(m===1)b=g=>s-Math.exp(-S*g)*(y+(p+S*y)*g);else{const g=S*Math.sqrt(m*m-1);b=T=>{const A=Math.exp(-m*S*T),M=Math.min(g*T,300);return s-A*((p+m*S*y)*Math.sinh(M)+g*y*Math.cosh(M))/g}}return{calculatedDuration:f&&c||null,next:g=>{const T=b(g);if(f)o.done=g>=c;else{let A=p;g!==0&&(m<1?A=wu(b,g,T):A=0);const M=Math.abs(A)<=n,F=Math.abs(s-T)<=t;o.done=M&&F}return o.value=o.done?s:T,o}}}function ga({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:l,max:a,restDelta:u=.5,restSpeed:c}){const h=e[0],f={done:!1,value:h},p=E=>l!==void 0&&E<l||a!==void 0&&E>a,m=E=>l===void 0?a:a===void 0||Math.abs(l-E)<Math.abs(a-E)?l:a;let y=n*t;const S=h+y,C=o===void 0?S:o(S);C!==S&&(y=C-h);const b=E=>-y*Math.exp(-E/r),g=E=>C+b(E),T=E=>{const k=b(E),O=g(E);f.done=Math.abs(k)<=u,f.value=f.done?C:O};let A,M;const F=E=>{p(f.value)&&(A=E,M=Su({keyframes:[f.value,m(f.value)],velocity:wu(g,E,f.value),damping:i,stiffness:s,restDelta:u,restSpeed:c}))};return F(0),{calculatedDuration:null,next:E=>{let k=!1;return!M&&A===void 0&&(k=!0,T(E),F(E)),A!==void 0&&E>=A?M.next(E-A):(!k&&T(E),f)}}}const Tu=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Dv=1e-7,Ov=12;function Rv(e,t,n,r,i){let s,o,l=0;do o=t+(n-t)/2,s=Tu(o,r,i)-e,s>0?n=o:t=o;while(Math.abs(s)>Dv&&++l<Ov);return o}function Tr(e,t,n,r){if(e===t&&n===r)return Le;const i=s=>Rv(s,0,1,e,n);return s=>s===0||s===1?s:Tu(i(s),t,r)}const Iv=Tr(.42,0,1,1),_v=Tr(0,0,.58,1),Cu=Tr(.42,0,.58,1),Vv=e=>Array.isArray(e)&&typeof e[0]!="number",Eu=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Pu=e=>t=>1-e(1-t),so=e=>1-Math.sin(Math.acos(e)),ju=Pu(so),Nv=Eu(so),Mu=Tr(.33,1.53,.69,.99),oo=Pu(Mu),Lv=Eu(oo),Bv=e=>(e*=2)<1?.5*oo(e):.5*(2-Math.pow(2,-10*(e-1))),Uv={linear:Le,easeIn:Iv,easeInOut:Cu,easeOut:_v,circIn:so,circInOut:Nv,circOut:ju,backIn:oo,backInOut:Lv,backOut:Mu,anticipate:Bv},va=e=>{if(Array.isArray(e)){su(e.length===4);const[t,n,r,i]=e;return Tr(t,n,r,i)}else if(typeof e=="string")return Uv[e];return e},fr=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},me=(e,t,n)=>e+(t-e)*n;function Bi(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function zv({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,s=0,o=0;if(!t)i=s=o=n;else{const l=n<.5?n*(1+t):n+t-n*t,a=2*n-l;i=Bi(a,l,e+1/3),s=Bi(a,l,e),o=Bi(a,l,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const Ui=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},$v=[cs,vn,On],Wv=e=>$v.find(t=>t.test(e));function ya(e){const t=Wv(e);let n=t.parse(e);return t===On&&(n=zv(n)),n}const xa=(e,t)=>{const n=ya(e),r=ya(t),i={...n};return s=>(i.red=Ui(n.red,r.red,s),i.green=Ui(n.green,r.green,s),i.blue=Ui(n.blue,r.blue,s),i.alpha=me(n.alpha,r.alpha,s),vn.transform(i))};function hs(e,t){return n=>n>0?t:e}function Hv(e,t){return n=>me(e,t,n)}function ao(e){return typeof e=="number"?Hv:typeof e=="string"?Ks(e)?hs:_e.test(e)?xa:Xv:Array.isArray(e)?Au:typeof e=="object"?_e.test(e)?xa:Gv:hs}function Au(e,t){const n=[...e],r=n.length,i=e.map((s,o)=>ao(s)(s,t[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function Gv(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=ao(e[i])(e[i],t[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function Kv(e,t){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const o=t.types[s],l=e.indexes[o][i[o]],a=(n=e.values[l])!==null&&n!==void 0?n:0;r[s]=a,i[o]++}return r}const Xv=(e,t)=>{const n=Jt.createTransformer(t),r=ti(e),i=ti(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Dt(Au(Kv(r,i),i.values),n):hs(e,t)};function ku(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?me(e,t,n):ao(e)(e,t)}function qv(e,t,n){const r=[],i=n||ku,s=e.length-1;for(let o=0;o<s;o++){let l=i(e[o],e[o+1]);if(t){const a=Array.isArray(t)?t[o]||Le:t;l=Dt(a,l)}r.push(l)}return r}function Yv(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const s=e.length;if(su(s===t.length),s===1)return()=>t[0];if(s===2&&e[0]===e[1])return()=>t[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=qv(t,r,i),l=o.length,a=u=>{let c=0;if(l>1)for(;c<e.length-2&&!(u<e[c+1]);c++);const h=fr(e[c],e[c+1],u);return o[c](h)};return n?u=>a(Yt(e[0],e[s-1],u)):a}function Zv(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=fr(0,t,r);e.push(me(n,1,i))}}function Jv(e){const t=[0];return Zv(t,e.length-1),t}function Qv(e,t){return e.map(n=>n*t)}function e0(e,t){return e.map(()=>t||Cu).splice(0,e.length-1)}function ni({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=Vv(r)?r.map(va):va(r),s={done:!1,value:t[0]},o=Qv(n&&n.length===t.length?n:Jv(t),e),l=Yv(o,t,{ease:Array.isArray(i)?i:e0(t,i)});return{calculatedDuration:e,next:a=>(s.value=l(a),s.done=a>=e,s)}}const ba=2e4;function t0(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<ba;)t+=n,r=e.next(t);return t>=ba?1/0:t}const n0=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Oe.update(t,!0),stop:()=>Zt(t),now:()=>Fe.isProcessing?Fe.timestamp:qt.now()}},r0={decay:ga,inertia:ga,tween:ni,keyframes:ni,spring:Su},i0=e=>e/100;class lo extends xu{constructor({KeyframeResolver:t=no,...n}){super(n),this.holdTime=null,this.startTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.state="idle";const{name:r,motionValue:i,keyframes:s}=this.options,o=(l,a)=>this.onKeyframesResolved(l,a);r&&i&&i.owner?this.resolver=i.owner.resolveKeyframes(s,o,r,i):this.resolver=new t(s,o,r,i),this.resolver.scheduleResolve()}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,l=r0[n]||ni;let a,u;l!==ni&&typeof t[0]!="number"&&(a=Dt(i0,ku(t[0],t[1])),t=[0,100]);const c=l({...this.options,keyframes:t});s==="mirror"&&(u=l({...this.options,keyframes:[...t].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=t0(c));const{calculatedDuration:h}=c,f=h+i,p=f*(r+1)-i;return{generator:c,mirroredGenerator:u,mapPercentToKeyframes:a,calculatedDuration:h,resolvedDuration:f,totalDuration:p}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:E}=this.options;return{done:!0,value:E[E.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:a,calculatedDuration:u,totalDuration:c,resolvedDuration:h}=r;if(this.startTime===null)return s.next(0);const{delay:f,repeat:p,repeatType:m,repeatDelay:y,onUpdate:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-c/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const C=this.currentTime-f*(this.speed>=0?1:-1),b=this.speed>=0?C<0:C>c;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=c);let g=this.currentTime,T=s;if(p){const E=Math.min(this.currentTime,c)/h;let k=Math.floor(E),O=E%1;!O&&E>=1&&(O=1),O===1&&k--,k=Math.min(k,p+1),!!(k%2)&&(m==="reverse"?(O=1-O,y&&(O-=y/h)):m==="mirror"&&(T=o)),g=Yt(0,1,O)*h}const A=b?{done:!1,value:a[0]}:T.next(g);l&&(A.value=l(A.value));let{done:M}=A;!b&&u!==null&&(M=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const F=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return F&&i!==void 0&&(A.value=Ci(a,this.options,i)),S&&S(A.value),F&&this.finish(),A}get duration(){const{resolved:t}=this;return t?Ot(t.calculatedDuration):0}get time(){return Ot(this.currentTime)}set time(t){t=Xt(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Ot(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=n0,onPlay:n}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),n&&n();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:(!this.startTime||this.state==="finished")&&(this.startTime=r),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:t}=this.options;t&&t()}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const Fu=e=>Array.isArray(e)&&typeof e[0]=="number";function Du(e){return!!(!e||typeof e=="string"&&Ou[e]||Fu(e)||Array.isArray(e)&&e.every(Du))}const Qn=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Ou={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Qn([0,.65,.55,1]),circOut:Qn([.55,0,1,.45]),backIn:Qn([.31,.01,.66,-.59]),backOut:Qn([.33,1.53,.69,.99])};function Ru(e){if(e)return Fu(e)?Qn(e):Array.isArray(e)?e.map(Ru):Ou[e]}function s0(e,t,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:l,times:a}={}){const u={[t]:n};a&&(u.offset=a);const c=Ru(l);return Array.isArray(c)&&(u.easing=c),e.animate(u,{delay:r,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const o0=yv(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),a0=new Set(["opacity","clipPath","filter","transform"]),ri=10,l0=2e4;function c0(e){return e.type==="spring"||e.name==="backgroundColor"||!Du(e.ease)}function u0(e,t){const n=new lo({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const i=[];let s=0;for(;!r.done&&s<l0;)r=n.sample(s),i.push(r.value),s+=ri;return{times:void 0,keyframes:i,duration:s-ri,ease:"linear"}}class wa extends xu{constructor(t){super(t);const{name:n,motionValue:r,keyframes:i}=this.options;this.resolver=new yu(i,(s,o)=>this.onKeyframesResolved(s,o),n,r),this.resolver.scheduleResolve()}initPlayback(t,n){var r;let{duration:i=300,times:s,ease:o,type:l,motionValue:a,name:u}=this.options;if(!(!((r=a.owner)===null||r===void 0)&&r.current))return!1;if(c0(this.options)){const{onComplete:h,onUpdate:f,motionValue:p,...m}=this.options,y=u0(t,m);t=y.keyframes,t.length===1&&(t[1]=t[0]),i=y.duration,s=y.times,o=y.ease,l="keyframes"}const c=s0(a.owner.current,u,t,{...this.options,duration:i,times:s,ease:o});return c.startTime=qt.now(),this.pendingTimeline?(c.timeline=this.pendingTimeline,this.pendingTimeline=void 0):c.onfinish=()=>{const{onComplete:h}=this.options;a.set(Ci(t,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:c,duration:i,times:s,type:l,ease:o,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return Ot(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return Ot(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Xt(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return Le;const{animation:r}=n;r.timeline=t,r.onfinish=null}return Le}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:l}=t;if(!(n.playState==="idle"||n.playState==="finished")){if(this.time){const{motionValue:a,onUpdate:u,onComplete:c,...h}=this.options,f=new lo({...h,keyframes:r,duration:i,type:s,ease:o,times:l,isGenerator:!0}),p=Xt(this.time);a.setWithVelocity(f.sample(p-ri).value,f.sample(p).value,ri)}this.cancel()}}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:l}=t;return o0()&&r&&a0.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!i&&s!=="mirror"&&o!==0&&l!=="inertia"}}const co=(e,t,n,r={},i,s)=>o=>{const l=to(r,e)||{},a=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Xt(a);let c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:f=>{t.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:s?void 0:i};Xg(l)||(c={...c,...Kg(e,c)}),c.duration&&(c.duration=Xt(c.duration)),c.repeatDelay&&(c.repeatDelay=Xt(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let h=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(c.duration=0,c.delay===0&&(h=!0)),h&&!s&&t.get()!==void 0){const f=Ci(c.keyframes,l);if(f!==void 0){Oe.update(()=>{c.onUpdate(f),c.onComplete()});return}}return!s&&wa.supports(c)?new wa(c):new lo(c)};function ii(e){return!!(Ne(e)&&e.add)}function uo(e,t){e.indexOf(t)===-1&&e.push(t)}function ho(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class fo{constructor(){this.subscriptions=[]}add(t){return uo(this.subscriptions,t),()=>ho(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Sa=30,d0=e=>!isNaN(parseFloat(e));class h0{constructor(t,n={}){this.version="11.0.28",this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=qt.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.canTrackVelocity=d0(this.current),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=qt.now()}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new fo);const r=this.events[t].add(n);return t==="change"?()=>{r(),Oe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=qt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Sa)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Sa);return bu(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function pr(e,t){return new h0(e,t)}function f0(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,pr(n))}function p0(e,t){const n=Ti(e,t);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const l=Sg(s[o]);f0(e,o,l)}}function m0({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function Iu(e,t,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=e.getDefaultTransition(),transitionEnd:l,...a}=t;const u=e.getValue("willChange");r&&(o=r);const c=[],h=i&&e.animationState&&e.animationState.getState()[i];for(const f in a){const p=e.getValue(f,(s=e.latestValues[f])!==null&&s!==void 0?s:null),m=a[f];if(m===void 0||h&&m0(h,f))continue;const y={delay:n,elapsed:0,...to(o||{},f)};let S=!1;if(window.HandoffAppearAnimations){const b=e.getProps()[Ic];if(b){const g=window.HandoffAppearAnimations(b,f);g!==null&&(y.elapsed=g,S=!0)}}p.start(co(f,p,m,e.shouldReduceMotion&&bn.has(f)?{type:!1}:y,e,S));const C=p.animation;C&&(ii(u)&&(u.add(f),C.then(()=>u.remove(f))),c.push(C))}return l&&Promise.all(c).then(()=>{Oe.update(()=>{l&&p0(e,l)})}),c}function fs(e,t,n={}){var r;const i=Ti(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(Iu(e,i,n)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:h,staggerDirection:f}=s;return g0(e,t,c+u,h,f,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[u,c]=a==="beforeChildren"?[o,l]:[l,o];return u().then(()=>c())}else return Promise.all([o(),l(n.delay)])}function g0(e,t,n=0,r=0,i=1,s){const o=[],l=(e.variantChildren.size-1)*r,a=i===1?(u=0)=>u*r:(u=0)=>l-u*r;return Array.from(e.variantChildren).sort(v0).forEach((u,c)=>{u.notify("AnimationStart",t),o.push(fs(u,t,{...s,delay:n+a(c)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function v0(e,t){return e.sortNodePosition(t)}function y0(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(s=>fs(e,s,n));r=Promise.all(i)}else if(typeof t=="string")r=fs(e,t,n);else{const i=typeof t=="function"?Ti(e,t,n.custom):t;r=Promise.all(Iu(e,i,n))}return r.then(()=>{Oe.postRender(()=>{e.notify("AnimationComplete",t)})})}const x0=[...Ws].reverse(),b0=Ws.length;function w0(e){return t=>Promise.all(t.map(({animation:n,options:r})=>y0(e,n,r)))}function S0(e){let t=w0(e);const n=C0();let r=!0;const i=a=>(u,c)=>{var h;const f=Ti(e,c,a==="exit"?(h=e.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:p,transitionEnd:m,...y}=f;u={...u,...y,...m}}return u};function s(a){t=a(e)}function o(a){const u=e.getProps(),c=e.getVariantContext(!0)||{},h=[],f=new Set;let p={},m=1/0;for(let S=0;S<b0;S++){const C=x0[S],b=n[C],g=u[C]!==void 0?u[C]:c[C],T=dr(g),A=C===a?b.isActive:null;A===!1&&(m=S);let M=g===c[C]&&g!==u[C]&&T;if(M&&r&&e.manuallyAnimateOnMount&&(M=!1),b.protectedKeys={...p},!b.isActive&&A===null||!g&&!b.prevProp||bi(g)||typeof g=="boolean")continue;let E=T0(b.prevProp,g)||C===a&&b.isActive&&!M&&T||S>m&&T,k=!1;const O=Array.isArray(g)?g:[g];let ee=O.reduce(i(C),{});A===!1&&(ee={});const{prevResolvedValues:ue={}}=b,rt={...ue,...ee},Te=H=>{E=!0,f.has(H)&&(k=!0,f.delete(H)),b.needsAnimating[H]=!0;const te=e.getValue(H);te&&(te.liveStyle=!1)};for(const H in rt){const te=ee[H],je=ue[H];if(p.hasOwnProperty(H))continue;let xe=!1;ss(te)&&ss(je)?xe=!ru(te,je):xe=te!==je,xe?te!=null?Te(H):f.add(H):te!==void 0&&f.has(H)?Te(H):b.protectedKeys[H]=!0}b.prevProp=g,b.prevResolvedValues=ee,b.isActive&&(p={...p,...ee}),r&&e.blockInitialAnimation&&(E=!1),E&&(!M||k)&&h.push(...O.map(H=>({animation:H,options:{type:C}})))}if(f.size){const S={};f.forEach(C=>{const b=e.getBaseTarget(C),g=e.getValue(C);g&&(g.liveStyle=!0),S[C]=b===void 0?null:b}),h.push({animation:S})}let y=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(y=!1),r=!1,y?t(h):Promise.resolve()}function l(a,u){var c;if(n[a].isActive===u)return Promise.resolve();(c=e.variantChildren)===null||c===void 0||c.forEach(f=>{var p;return(p=f.animationState)===null||p===void 0?void 0:p.setActive(a,u)}),n[a].isActive=u;const h=o(a);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:s,getState:()=>n}}function T0(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!ru(t,e):!1}function dn(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function C0(){return{animate:dn(!0),whileInView:dn(),whileHover:dn(),whileTap:dn(),whileDrag:dn(),whileFocus:dn(),exit:dn()}}class E0 extends nn{constructor(t){super(t),t.animationState||(t.animationState=S0(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),bi(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let P0=0;class j0 extends nn{constructor(){super(...arguments),this.id=P0++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const M0={animation:{Feature:E0},exit:{Feature:j0}},Ta=(e,t)=>Math.abs(e-t);function A0(e,t){const n=Ta(e.x,t.x),r=Ta(e.y,t.y);return Math.sqrt(n**2+r**2)}class _u{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=$i(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=A0(h.offset,{x:0,y:0})>=3;if(!f&&!p)return;const{point:m}=h,{timestamp:y}=Fe;this.history.push({...m,timestamp:y});const{onStart:S,onMove:C}=this.handlers;f||(S&&S(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=zi(f,this.transformPagePoint),Oe.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:p,onSessionEnd:m,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=$i(h.type==="pointercancel"?this.lastMoveEventInfo:zi(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,S),m&&m(h,S)},!Jc(t))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=Si(t),l=zi(o,this.transformPagePoint),{point:a}=l,{timestamp:u}=Fe;this.history=[{...a,timestamp:u}];const{onSessionStart:c}=n;c&&c(t,$i(l,this.history)),this.removeListeners=Dt(Ft(this.contextWindow,"pointermove",this.handlePointerMove),Ft(this.contextWindow,"pointerup",this.handlePointerUp),Ft(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Zt(this.updatePoint)}}function zi(e,t){return t?{point:t(e.point)}:e}function Ca(e,t){return{x:e.x-t.x,y:e.y-t.y}}function $i({point:e},t){return{point:e,delta:Ca(e,Vu(t)),offset:Ca(e,k0(t)),velocity:F0(t,.1)}}function k0(e){return e[0]}function Vu(e){return e[e.length-1]}function F0(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=Vu(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Xt(t)));)n--;if(!r)return{x:0,y:0};const s=Ot(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function nt(e){return e.max-e.min}function ps(e,t=0,n=.01){return Math.abs(e-t)<=n}function Ea(e,t,n,r=.5){e.origin=r,e.originPoint=me(t.min,t.max,e.origin),e.scale=nt(n)/nt(t),(ps(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=me(n.min,n.max,e.origin)-e.originPoint,(ps(e.translate)||isNaN(e.translate))&&(e.translate=0)}function or(e,t,n,r){Ea(e.x,t.x,n.x,r?r.originX:void 0),Ea(e.y,t.y,n.y,r?r.originY:void 0)}function Pa(e,t,n){e.min=n.min+t.min,e.max=e.min+nt(t)}function D0(e,t,n){Pa(e.x,t.x,n.x),Pa(e.y,t.y,n.y)}function ja(e,t,n){e.min=t.min-n.min,e.max=e.min+nt(t)}function ar(e,t,n){ja(e.x,t.x,n.x),ja(e.y,t.y,n.y)}function O0(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?me(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?me(n,e,r.max):Math.min(e,n)),e}function Ma(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function R0(e,{top:t,left:n,bottom:r,right:i}){return{x:Ma(e.x,n,i),y:Ma(e.y,t,r)}}function Aa(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function I0(e,t){return{x:Aa(e.x,t.x),y:Aa(e.y,t.y)}}function _0(e,t){let n=.5;const r=nt(e),i=nt(t);return i>r?n=fr(t.min,t.max-r,e.min):r>i&&(n=fr(e.min,e.max-i,t.min)),Yt(0,1,n)}function V0(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const ms=.35;function N0(e=ms){return e===!1?e=0:e===!0&&(e=ms),{x:ka(e,"left","right"),y:ka(e,"top","bottom")}}function ka(e,t,n){return{min:Fa(e,t),max:Fa(e,n)}}function Fa(e,t){return typeof e=="number"?e:e[t]||0}const Da=()=>({translate:0,scale:1,origin:0,originPoint:0}),Rn=()=>({x:Da(),y:Da()}),Oa=()=>({min:0,max:0}),ve=()=>({x:Oa(),y:Oa()});function lt(e){return[e("x"),e("y")]}function Nu({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function L0({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function B0(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Wi(e){return e===void 0||e===1}function gs({scale:e,scaleX:t,scaleY:n}){return!Wi(e)||!Wi(t)||!Wi(n)}function hn(e){return gs(e)||Lu(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Lu(e){return Ra(e.x)||Ra(e.y)}function Ra(e){return e&&e!=="0%"}function si(e,t,n){const r=e-n,i=t*r;return n+i}function Ia(e,t,n,r,i){return i!==void 0&&(e=si(e,i,r)),si(e,n,r)+t}function vs(e,t=0,n=1,r,i){e.min=Ia(e.min,t,n,r,i),e.max=Ia(e.max,t,n,r,i)}function Bu(e,{x:t,y:n}){vs(e.x,t.translate,t.scale,t.originPoint),vs(e.y,n.translate,n.scale,n.originPoint)}function U0(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let s,o;for(let l=0;l<i;l++){s=n[l],o=s.projectionDelta;const a=s.instance;a&&a.style&&a.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&In(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,Bu(e,o)),r&&hn(s.latestValues)&&In(e,s.latestValues))}t.x=_a(t.x),t.y=_a(t.y)}function _a(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Ht(e,t){e.min=e.min+t,e.max=e.max+t}function Va(e,t,[n,r,i]){const s=t[i]!==void 0?t[i]:.5,o=me(e.min,e.max,s);vs(e,t[n],t[r],o,t.scale)}const z0=["x","scaleX","originX"],$0=["y","scaleY","originY"];function In(e,t){Va(e.x,t,z0),Va(e.y,t,$0)}function Uu(e,t){return Nu(B0(e.getBoundingClientRect(),t))}function W0(e,t,n){const r=Uu(e,n),{scroll:i}=t;return i&&(Ht(r.x,i.offset.x),Ht(r.y,i.offset.y)),r}const zu=({current:e})=>e?e.ownerDocument.defaultView:null,H0=new WeakMap;class G0{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ve(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=c=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Si(c,"page").point)},s=(c,h)=>{const{drag:f,dragPropagation:p,onDragStart:m}=this.getProps();if(f&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=eu(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),lt(S=>{let C=this.getAxisMotionValue(S).get()||0;if(bt.test(C)){const{projection:b}=this.visualElement;if(b&&b.layout){const g=b.layout.layoutBox[S];g&&(C=nt(g)*(parseFloat(C)/100))}}this.originPoint[S]=C}),m&&m(c,h);const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},o=(c,h)=>{const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:m,onDrag:y}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:S}=h;if(p&&this.currentDirection===null){this.currentDirection=K0(S),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",h.point,S),this.updateAxis("y",h.point,S),this.visualElement.render(),y&&y(c,h)},l=(c,h)=>this.stop(c,h),a=()=>lt(c=>{var h;return this.getAnimationState(c)==="paused"&&((h=this.getAxisMotionValue(c).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new _u(t,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:l,resumeAnimation:a},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:zu(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&s(t,n)}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!Vr(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=O0(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,s=this.constraints;n&&Dn(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=R0(i.layoutBox,n):this.constraints=!1,this.elastic=N0(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&lt(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=V0(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Dn(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=W0(r,i.root,this.visualElement.getTransformPagePoint());let o=I0(i.layout.layoutBox,s);if(n){const l=n(L0(o));this.hasMutatedConstraints=!!l,l&&(o=Nu(l))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),a=this.constraints||{},u=lt(c=>{if(!Vr(c,n,this.currentDirection))return;let h=a&&a[c]||{};o&&(h={min:0,max:0});const f=i?200:1e6,p=i?40:1e7,m={type:"inertia",velocity:r?t[c]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(c,m)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(co(t,r,0,n,this.visualElement))}stopAnimation(){lt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){lt(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){lt(n=>{const{drag:r}=this.getProps();if(!Vr(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[n];s.set(t[n]-me(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Dn(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};lt(o=>{const l=this.getAxisMotionValue(o);if(l){const a=l.get();i[o]=_0({min:a,max:a},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),lt(o=>{if(!Vr(o,t,null))return;const l=this.getAxisMotionValue(o),{min:a,max:u}=this.constraints[o];l.set(me(a,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;H0.set(this.visualElement,this);const t=this.visualElement.current,n=Ft(t,"pointerdown",a=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(a)}),r=()=>{const{dragConstraints:a}=this.getProps();Dn(a)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=kt(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:a,hasLayoutChanged:u})=>{this.isDragging&&u&&(lt(c=>{const h=this.getAxisMotionValue(c);h&&(this.originPoint[c]+=a[c].translate,h.set(h.get()+a[c].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=ms,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:l}}}function Vr(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function K0(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class X0 extends nn{constructor(t){super(t),this.removeGroupControls=Le,this.removeListeners=Le,this.controls=new G0(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Le}unmount(){this.removeGroupControls(),this.removeListeners()}}const Na=e=>(t,n)=>{e&&e(t,n)};class q0 extends nn{constructor(){super(...arguments),this.removePointerDownListener=Le}onPointerDown(t){this.session=new _u(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:zu(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Na(t),onStart:Na(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&i(s,o)}}}mount(){this.removePointerDownListener=Ft(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function Y0(){const e=x.useContext(Bs);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,i=x.useId();return x.useEffect(()=>r(i),[]),!t&&n?[!1,()=>n&&n(i)]:[!0]}const Wr={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function La(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Yn={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(z.test(e))e=parseFloat(e);else return e;const n=La(e,t.target.x),r=La(e,t.target.y);return`${n}% ${r}%`}},Z0={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=Jt.parse(e);if(i.length>5)return r;const s=Jt.createTransformer(e),o=typeof i[0]!="number"?1:0,l=n.x.scale*t.x,a=n.y.scale*t.y;i[0+o]/=l,i[1+o]/=a;const u=me(l,a,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};class J0 extends Z.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=t;Zm(Q0),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Wr.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?o.promote():o.relegate()||Oe.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),$s.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function $u(e){const[t,n]=Y0(),r=x.useContext(Nc);return Z.createElement(J0,{...e,layoutGroup:r,switchLayoutGroup:x.useContext(Lc),isPresent:t,safeToRemove:n})}const Q0={borderRadius:{...Yn,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Yn,borderTopRightRadius:Yn,borderBottomLeftRadius:Yn,borderBottomRightRadius:Yn,boxShadow:Z0},Wu=["TopLeft","TopRight","BottomLeft","BottomRight"],ey=Wu.length,Ba=e=>typeof e=="string"?parseFloat(e):e,Ua=e=>typeof e=="number"||z.test(e);function ty(e,t,n,r,i,s){i?(e.opacity=me(0,n.opacity!==void 0?n.opacity:1,ny(r)),e.opacityExit=me(t.opacity!==void 0?t.opacity:1,0,ry(r))):s&&(e.opacity=me(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<ey;o++){const l=`border${Wu[o]}Radius`;let a=za(t,l),u=za(n,l);if(a===void 0&&u===void 0)continue;a||(a=0),u||(u=0),a===0||u===0||Ua(a)===Ua(u)?(e[l]=Math.max(me(Ba(a),Ba(u),r),0),(bt.test(u)||bt.test(a))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=me(t.rotate||0,n.rotate||0,r))}function za(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const ny=Hu(0,.5,ju),ry=Hu(.5,.95,Le);function Hu(e,t,n){return r=>r<e?0:r>t?1:n(fr(e,t,r))}function $a(e,t){e.min=t.min,e.max=t.max}function at(e,t){$a(e.x,t.x),$a(e.y,t.y)}function Wa(e,t,n,r,i){return e-=t,e=si(e,1/n,r),i!==void 0&&(e=si(e,1/i,r)),e}function iy(e,t=0,n=1,r=.5,i,s=e,o=e){if(bt.test(t)&&(t=parseFloat(t),t=me(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=me(s.min,s.max,r);e===s&&(l-=t),e.min=Wa(e.min,t,n,l,i),e.max=Wa(e.max,t,n,l,i)}function Ha(e,t,[n,r,i],s,o){iy(e,t[n],t[r],t[i],t.scale,s,o)}const sy=["x","scaleX","originX"],oy=["y","scaleY","originY"];function Ga(e,t,n,r){Ha(e.x,t,sy,n?n.x:void 0,r?r.x:void 0),Ha(e.y,t,oy,n?n.y:void 0,r?r.y:void 0)}function Ka(e){return e.translate===0&&e.scale===1}function Gu(e){return Ka(e.x)&&Ka(e.y)}function ay(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function Ku(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function Xa(e){return nt(e.x)/nt(e.y)}class ly{constructor(){this.members=[]}add(t){uo(this.members,t),t.scheduleRender()}remove(t){if(ho(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function qa(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:c,rotateX:h,rotateY:f,skewX:p,skewY:m}=n;u&&(r=`perspective(${u}px) ${r}`),c&&(r+=`rotate(${c}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),p&&(r+=`skewX(${p}deg) `),m&&(r+=`skewY(${m}deg) `)}const l=e.x.scale*t.x,a=e.y.scale*t.y;return(l!==1||a!==1)&&(r+=`scale(${l}, ${a})`),r||"none"}const cy=(e,t)=>e.depth-t.depth;class uy{constructor(){this.children=[],this.isDirty=!1}add(t){uo(this.children,t),this.isDirty=!0}remove(t){ho(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(cy),this.isDirty=!1,this.children.forEach(t)}}function dy(e,t){const n=qt.now(),r=({timestamp:i})=>{const s=i-n;s>=t&&(Zt(r),e(s-t))};return Oe.read(r,!0),()=>Zt(r)}function hy(e){window.MotionDebug&&window.MotionDebug.record(e)}function fy(e){return e instanceof SVGElement&&e.tagName!=="svg"}function py(e,t,n){const r=Ne(e)?e:pr(e);return r.start(co("",r,t,n)),r.animation}const Hi=["","X","Y","Z"],my={visibility:"hidden"},Ya=1e3;let gy=0;const fn={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Gi(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function Xu({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},l=t==null?void 0:t()){this.id=gy++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,fn.totalNodes=fn.resolvedTargetDeltas=fn.recalculatedProjection=0,this.nodes.forEach(xy),this.nodes.forEach(Cy),this.nodes.forEach(Ey),this.nodes.forEach(by),hy(fn)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let a=0;a<this.path.length;a++)this.path[a].shouldResetTransform=!0;this.root===this&&(this.nodes=new uy)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new fo),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const a=this.eventHandlers.get(o);a&&a.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=fy(o),this.instance=o;const{layoutId:a,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||a)&&(this.isLayoutDirty=!0),e){let h;const f=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=dy(f,250),Wr.hasAnimatedSinceResize&&(Wr.hasAnimatedSinceResize=!1,this.nodes.forEach(Ja))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||c.getDefaultTransition()||ky,{onLayoutAnimationStart:S,onLayoutAnimationComplete:C}=c.getProps(),b=!this.targetLayout||!Ku(this.targetLayout,m)||p,g=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||g||f&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,g);const T={...to(y,"layout"),onPlay:S,onComplete:C};(c.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T)}else f||Ja(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Zt(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Py),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const h=this.path[c];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:a}=this.options;if(l===void 0&&!a)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Za);return}this.isUpdating||this.nodes.forEach(Sy),this.isUpdating=!1,window.HandoffCancelAllAnimations&&window.HandoffCancelAllAnimations(),this.nodes.forEach(Ty),this.nodes.forEach(vy),this.nodes.forEach(yy),this.clearAllSnapshots();const l=qt.now();Fe.delta=Yt(0,1e3/60,l-Fe.timestamp),Fe.timestamp=l,Fe.isProcessing=!0,Ii.update.process(Fe),Ii.preRender.process(Fe),Ii.render.process(Fe),Fe.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,$s.read(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(wy),this.sharedNodes.forEach(jy)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Oe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Oe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let a=0;a<this.path.length;a++)this.path[a].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ve(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!Gu(this.projectionDelta),a=this.getTransformTemplate(),u=a?a(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&(l||hn(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let a=this.removeElementScroll(l);return o&&(a=this.removeTransform(a)),Fy(a),{animationId:this.root.animationId,measuredBox:l,layoutBox:a,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return ve();const l=o.measureViewportBox(),{scroll:a}=this.root;return a&&(Ht(l.x,a.offset.x),Ht(l.y,a.offset.y)),l}removeElementScroll(o){const l=ve();at(l,o);for(let a=0;a<this.path.length;a++){const u=this.path[a],{scroll:c,options:h}=u;if(u!==this.root&&c&&h.layoutScroll){if(c.isRoot){at(l,o);const{scroll:f}=this.root;f&&(Ht(l.x,-f.offset.x),Ht(l.y,-f.offset.y))}Ht(l.x,c.offset.x),Ht(l.y,c.offset.y)}}return l}applyTransform(o,l=!1){const a=ve();at(a,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!l&&c.options.layoutScroll&&c.scroll&&c!==c.root&&In(a,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),hn(c.latestValues)&&In(a,c.latestValues)}return hn(this.latestValues)&&In(a,this.latestValues),a}removeTransform(o){const l=ve();at(l,o);for(let a=0;a<this.path.length;a++){const u=this.path[a];if(!u.instance||!hn(u.latestValues))continue;gs(u.latestValues)&&u.updateSnapshot();const c=ve(),h=u.measurePageBox();at(c,h),Ga(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return hn(this.latestValues)&&Ga(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Fe.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==a;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=Fe.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ve(),this.relativeTargetOrigin=ve(),ar(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),at(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ve(),this.targetWithTransforms=ve()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),D0(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):at(this.target,this.layout.layoutBox),Bu(this.target,this.targetDelta)):at(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ve(),this.relativeTargetOrigin=ve(),ar(this.relativeTargetOrigin,this.target,p.target),at(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}fn.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||gs(this.parent.latestValues)||Lu(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),a=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Fe.timestamp&&(u=!1),u)return;const{layout:c,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||h))return;at(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;U0(this.layoutCorrected,this.treeScale,this.path,a),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=ve());const{target:m}=l;if(!m){this.projectionTransform&&(this.projectionDelta=Rn(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Rn(),this.projectionDeltaWithTransform=Rn());const y=this.projectionTransform;or(this.projectionDelta,this.layoutCorrected,m,this.latestValues),this.projectionTransform=qa(this.projectionDelta,this.treeScale),(this.projectionTransform!==y||this.treeScale.x!==f||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),fn.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,l=!1){const a=this.snapshot,u=a?a.latestValues:{},c={...this.latestValues},h=Rn();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=ve(),p=a?a.source:void 0,m=this.layout?this.layout.source:void 0,y=p!==m,S=this.getStack(),C=!S||S.members.length<=1,b=!!(y&&!C&&this.options.crossfade===!0&&!this.path.some(Ay));this.animationProgress=0;let g;this.mixTargetDelta=T=>{const A=T/1e3;Qa(h.x,o.x,A),Qa(h.y,o.y,A),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ar(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),My(this.relativeTarget,this.relativeTargetOrigin,f,A),g&&ay(this.relativeTarget,g)&&(this.isProjectionDirty=!1),g||(g=ve()),at(g,this.relativeTarget)),y&&(this.animationValues=c,ty(c,u,this.latestValues,A,b,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=A},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Zt(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Oe.update(()=>{Wr.hasAnimatedSinceResize=!0,this.currentAnimation=py(0,Ya,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Ya),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:a,layout:u,latestValues:c}=o;if(!(!l||!a||!u)){if(this!==o&&this.layout&&u&&qu(this.options.animationType,this.layout.layoutBox,u.layoutBox)){a=this.target||ve();const h=nt(this.layout.layoutBox.x);a.x.min=o.target.x.min,a.x.max=a.x.min+h;const f=nt(this.layout.layoutBox.y);a.y.min=o.target.y.min,a.y.max=a.y.min+f}at(l,a),In(l,c),or(this.projectionDeltaWithTransform,this.layoutCorrected,l,c)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new ly),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:a}={}){const u=this.getStack();u&&u.promote(this,a),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:a}=o;if((a.z||a.rotate||a.rotateX||a.rotateY||a.rotateZ||a.skewX||a.skewY)&&(l=!0),!l)return;const u={};a.z&&Gi("z",o,u,this.animationValues);for(let c=0;c<Hi.length;c++)Gi(`rotate${Hi[c]}`,o,u,this.animationValues),Gi(`skew${Hi[c]}`,o,u,this.animationValues);o.render();for(const c in u)o.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);o.scheduleRender()}getProjectionStyles(o){var l,a;if(!this.instance||this.isSVG)return;if(!this.isVisible)return my;const u={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=zr(o==null?void 0:o.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=zr(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!hn(this.latestValues)&&(y.transform=c?c({},""):"none",this.hasProjected=!1),y}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=qa(this.projectionDeltaWithTransform,this.treeScale,f),c&&(u.transform=c(f,u.transform));const{x:p,y:m}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${m.origin*100}% 0`,h.animationValues?u.opacity=h===this?(a=(l=f.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&a!==void 0?a:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const y in Qr){if(f[y]===void 0)continue;const{correct:S,applyTo:C}=Qr[y],b=u.transform==="none"?f[y]:S(f[y],h);if(C){const g=C.length;for(let T=0;T<g;T++)u[C[T]]=b}else u[y]=b}return this.options.layoutId&&(u.pointerEvents=h===this?zr(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(Za),this.root.sharedNodes.clear()}}}function vy(e){e.updateLayout()}function yy(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:s}=e.options,o=n.source!==e.layout.source;s==="size"?lt(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],p=nt(f);f.min=r[h].min,f.max=f.min+p}):qu(s,n.layoutBox,r)&&lt(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],p=nt(r[h]);f.max=f.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+p)});const l=Rn();or(l,r,n.layoutBox);const a=Rn();o?or(a,e.applyTransform(i,!0),n.measuredBox):or(a,r,n.layoutBox);const u=!Gu(l);let c=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:p}=h;if(f&&p){const m=ve();ar(m,n.layoutBox,f.layoutBox);const y=ve();ar(y,r,p.layoutBox),Ku(m,y)||(c=!0),h.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=m,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:a,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function xy(e){fn.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function by(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function wy(e){e.clearSnapshot()}function Za(e){e.clearMeasurements()}function Sy(e){e.isLayoutDirty=!1}function Ty(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Ja(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Cy(e){e.resolveTargetDelta()}function Ey(e){e.calcProjection()}function Py(e){e.resetSkewAndRotation()}function jy(e){e.removeLeadSnapshot()}function Qa(e,t,n){e.translate=me(t.translate,0,n),e.scale=me(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function el(e,t,n,r){e.min=me(t.min,n.min,r),e.max=me(t.max,n.max,r)}function My(e,t,n,r){el(e.x,t.x,n.x,r),el(e.y,t.y,n.y,r)}function Ay(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const ky={duration:.45,ease:[.4,0,.1,1]},tl=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),nl=tl("applewebkit/")&&!tl("chrome/")?Math.round:Le;function rl(e){e.min=nl(e.min),e.max=nl(e.max)}function Fy(e){rl(e.x),rl(e.y)}function qu(e,t,n){return e==="position"||e==="preserve-aspect"&&!ps(Xa(t),Xa(n),.2)}const Dy=Xu({attachResizeListener:(e,t)=>kt(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ki={current:void 0},Yu=Xu({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Ki.current){const e=new Dy({});e.mount(window),e.setOptions({layoutScroll:!0}),Ki.current=e}return Ki.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Oy={pan:{Feature:q0},drag:{Feature:X0,ProjectionNode:Yu,MeasureLayout:$u}},ys={current:null},Zu={current:!1};function Ry(){if(Zu.current=!0,!!Us)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>ys.current=e.matches;e.addListener(t),t()}else ys.current=!1}function Iy(e,t,n){const{willChange:r}=t;for(const i in t){const s=t[i],o=n[i];if(Ne(s))e.addValue(i,s),ii(r)&&r.add(i);else if(Ne(o))e.addValue(i,pr(s,{owner:e})),ii(r)&&r.remove(i);else if(o!==s)if(e.hasValue(i)){const l=e.getValue(i);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=e.getStaticValue(i);e.addValue(i,pr(l!==void 0?l:s,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const il=new WeakMap,_y=[...cu,_e,Jt],Vy=e=>_y.find(lu(e)),Ju=Object.keys(hr),Ny=Ju.length,sl=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Ly=Hs.length;function Qu(e){if(e)return e.options.allowProjection!==!1?e.projection:Qu(e.parent)}class By{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},l={}){this.resolveKeyframes=(f,p,m,y)=>new this.KeyframeResolver(f,p,m,y,this),this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=no,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Oe.render(this.render,!1,!0);const{latestValues:a,renderState:u}=o;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!s,this.isControllingVariants=wi(n),this.isVariantNode=Vc(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:c,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const p=h[f];a[f]!==void 0&&Ne(p)&&(p.set(a[f],!1),ii(c)&&c.add(f))}}scrapeMotionValuesFromProps(t,n,r){return{}}mount(t){this.current=t,il.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Zu.current||Ry(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ys.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){il.delete(this.current),this.projection&&this.projection.unmount(),Zt(this.notifyUpdate),Zt(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=bn.has(t),i=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Oe.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{i(),s(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,i,s){let o,l;for(let a=0;a<Ny;a++){const u=Ju[a],{isEnabled:c,Feature:h,ProjectionNode:f,MeasureLayout:p}=hr[u];f&&(o=f),c(n)&&(!this.features[u]&&h&&(this.features[u]=new h(this)),p&&(l=p))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,Qu(this.parent));const{layoutId:a,layout:u,drag:c,dragConstraints:h,layoutScroll:f,layoutRoot:p}=n;this.projection.setOptions({layoutId:a,layout:u,alwaysMeasureLayout:!!c||h&&Dn(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,layoutScroll:f,layoutRoot:p})}return l}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ve()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<sl.length;r++){const i=sl[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=t["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=Iy(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<Ly;r++){const i=Hs[r],s=this.props[i];(dr(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=pr(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(ou(i)||iu(i))?i=parseFloat(i):!Vy(i)&&Jt.test(n)&&(i=vu(t,n)),this.setBaseTarget(t,Ne(i)?i.get():i)),Ne(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n,r;const{initial:i}=this.props,s=typeof i=="string"||typeof i=="object"?(r=eo(this.props,i,(n=this.presenceContext)===null||n===void 0?void 0:n.custom))===null||r===void 0?void 0:r[t]:void 0;if(i&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!Ne(o)?o:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new fo),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class ed extends By{constructor(){super(...arguments),this.KeyframeResolver=yu}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}}function Uy(e){return window.getComputedStyle(e)}class zy extends ed{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(bn.has(n)){const r=io(n);return r&&r.default||0}else{const r=Uy(t),i=(zc(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Uu(t,n)}build(t,n,r,i){qs(t,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return Qs(t,n,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ne(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,i){Kc(t,n,r,i)}}class $y extends ed{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(bn.has(n)){const r=io(n);return r&&r.default||0}return n=Xc.has(n)?n:zs(n),t.getAttribute(n)}measureInstanceViewportBox(){return ve()}scrapeMotionValuesFromProps(t,n,r){return Yc(t,n,r)}build(t,n,r,i){Zs(t,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(t,n,r,i){qc(t,n,r,i)}mount(t){this.isSVGTag=Js(t.tagName),super.mount(t)}}const Wy=(e,t)=>Gs(e)?new $y(t,{enableHardwareAcceleration:!1}):new zy(t,{allowProjection:e!==x.Fragment,enableHardwareAcceleration:!0}),Hy={layout:{ProjectionNode:Yu,MeasureLayout:$u}},Gy={...M0,...Bg,...Oy,...Hy},Ky=qm((e,t)=>jg(e,t,Gy,Wy)),Xy="Left",qy="Right",Yy="Up",Zy="Down",_n={delta:10,preventScrollOnSwipe:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0,swipeDuration:1/0,touchEventOptions:{passive:!0}},xs={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},ol="mousemove",al="mouseup",Jy="touchend",Qy="touchmove",e1="touchstart";function t1(e,t,n,r){return e>t?n>0?qy:Xy:r>0?Zy:Yy}function ll(e,t){if(t===0)return e;const n=Math.PI/180*t,r=e[0]*Math.cos(n)+e[1]*Math.sin(n),i=e[1]*Math.cos(n)-e[0]*Math.sin(n);return[r,i]}function n1(e,t){const n=c=>{const h="touches"in c;h&&c.touches.length>1||e((f,p)=>{p.trackMouse&&!h&&(document.addEventListener(ol,r),document.addEventListener(al,o));const{clientX:m,clientY:y}=h?c.touches[0]:c,S=ll([m,y],p.rotationAngle);return p.onTouchStartOrOnMouseDown&&p.onTouchStartOrOnMouseDown({event:c}),Object.assign(Object.assign(Object.assign({},f),xs),{initial:S.slice(),xy:S,start:c.timeStamp||0})})},r=c=>{e((h,f)=>{const p="touches"in c;if(p&&c.touches.length>1)return h;if(c.timeStamp-h.start>f.swipeDuration)return h.swiping?Object.assign(Object.assign({},h),{swiping:!1}):h;const{clientX:m,clientY:y}=p?c.touches[0]:c,[S,C]=ll([m,y],f.rotationAngle),b=S-h.xy[0],g=C-h.xy[1],T=Math.abs(b),A=Math.abs(g),M=(c.timeStamp||0)-h.start,F=Math.sqrt(T*T+A*A)/(M||1),E=[b/(M||1),g/(M||1)],k=t1(T,A,b,g),O=typeof f.delta=="number"?f.delta:f.delta[k.toLowerCase()]||_n.delta;if(T<O&&A<O&&!h.swiping)return h;const ee={absX:T,absY:A,deltaX:b,deltaY:g,dir:k,event:c,first:h.first,initial:h.initial,velocity:F,vxvy:E};ee.first&&f.onSwipeStart&&f.onSwipeStart(ee),f.onSwiping&&f.onSwiping(ee);let ue=!1;return(f.onSwiping||f.onSwiped||f[`onSwiped${k}`])&&(ue=!0),ue&&f.preventScrollOnSwipe&&f.trackTouch&&c.cancelable&&c.preventDefault(),Object.assign(Object.assign({},h),{first:!1,eventData:ee,swiping:!0})})},i=c=>{e((h,f)=>{let p;if(h.swiping&&h.eventData){if(c.timeStamp-h.start<f.swipeDuration){p=Object.assign(Object.assign({},h.eventData),{event:c}),f.onSwiped&&f.onSwiped(p);const m=f[`onSwiped${p.dir}`];m&&m(p)}}else f.onTap&&f.onTap({event:c});return f.onTouchEndOrOnMouseUp&&f.onTouchEndOrOnMouseUp({event:c}),Object.assign(Object.assign(Object.assign({},h),xs),{eventData:p})})},s=()=>{document.removeEventListener(ol,r),document.removeEventListener(al,o)},o=c=>{s(),i(c)},l=(c,h)=>{let f=()=>{};if(c&&c.addEventListener){const p=Object.assign(Object.assign({},_n.touchEventOptions),h.touchEventOptions),m=[[e1,n,p],[Qy,r,Object.assign(Object.assign({},p),h.preventScrollOnSwipe?{passive:!1}:{})],[Jy,i,p]];m.forEach(([y,S,C])=>c.addEventListener(y,S,C)),f=()=>m.forEach(([y,S])=>c.removeEventListener(y,S))}return f},u={ref:c=>{c!==null&&e((h,f)=>{if(h.el===c)return h;const p={};return h.el&&h.el!==c&&h.cleanUpTouch&&(h.cleanUpTouch(),p.cleanUpTouch=void 0),f.trackTouch&&c&&(p.cleanUpTouch=l(c,f)),Object.assign(Object.assign(Object.assign({},h),{el:c}),p)})}};return t.trackMouse&&(u.onMouseDown=n),[u,l]}function r1(e,t,n,r){return!t.trackTouch||!e.el?(e.cleanUpTouch&&e.cleanUpTouch(),Object.assign(Object.assign({},e),{cleanUpTouch:void 0})):e.cleanUpTouch?t.preventScrollOnSwipe!==n.preventScrollOnSwipe||t.touchEventOptions.passive!==n.touchEventOptions.passive?(e.cleanUpTouch(),Object.assign(Object.assign({},e),{cleanUpTouch:r(e.el,t)})):e:Object.assign(Object.assign({},e),{cleanUpTouch:r(e.el,t)})}function i1(e){const{trackMouse:t}=e,n=x.useRef(Object.assign({},xs)),r=x.useRef(Object.assign({},_n)),i=x.useRef(Object.assign({},r.current));i.current=Object.assign({},r.current),r.current=Object.assign(Object.assign({},_n),e);let s;for(s in _n)r.current[s]===void 0&&(r.current[s]=_n[s]);const[o,l]=x.useMemo(()=>n1(a=>n.current=a(n.current,r.current),{trackMouse:t}),[t]);return n.current=r1(n.current,r.current,i.current,l),o}const s1=({alt:e,borderRadius:t,height:n,src:r,status:i,width:s})=>{const[o,l]=x.useState(!1),a=x.useRef(null);return x.useEffect(()=>{const u=new IntersectionObserver(h=>{for(const f of h)if(f.isIntersecting){const p=new Image;p.onload=()=>l(!0),p.onerror=()=>{a.current&&(u.unobserve(a.current),a.current.parentElement.style.display="none")},p.src=r,a.current&&u.unobserve(a.current)}}),c=a.current;return c&&u.observe(c),()=>u.disconnect()},[r]),d.jsxs("div",{className:"image-container",ref:a,children:[!o&&d.jsx("div",{className:"skeleton-container",children:d.jsx(Gr,{text:{rows:0},image:{style:{width:s,height:n,margin:"0",borderRadius:t}},animation:!0})}),o&&d.jsx("img",{className:i!=="unread"?"read":"",src:r,alt:e,style:{width:s,height:n,objectFit:"cover",borderRadius:t}})]})},o1=({url:e,mini:t})=>d.jsx("img",{className:t?"feed-icon-mini":"feed-icon",src:`https://icons.duckduckgo.com/ip3/${new URL(e).hostname}.ico`,alt:"Feed icon"}),a1=({entry:e,isThumbnail:t})=>{const n=t?{width:"100px",height:"100px"}:{width:"100%",height:"160px"};return e.imgSrc?d.jsx("div",{className:t?"thumbnail":"cover-image",children:d.jsx(s1,{alt:e.id,borderRadius:t?"4px":void 0,src:e.imgSrc,status:e.status,width:n.width,height:n.height})}):null},l1=({entry:e,showFeedIcon:t,mini:n})=>{const r=Dc({"article-card-mini-content":n,"article-card-mini-content-padding":n&&t});return d.jsxs("div",{className:r,children:[d.jsx("div",{style:{padding:n?"0 8px 0 0":"0 0 8px 0"},children:d.jsx(a1,{entry:e,isThumbnail:n})}),d.jsxs("div",{className:n?"article-card-mini-content-text":"",children:[d.jsx(W.Text,{className:e.status==="unread"?"title-unread":"title-read",children:e.title}),d.jsxs(W.Text,{className:"article-info",children:[d.jsx("br",{}),t&&d.jsx(o1,{url:e.feed.site_url,mini:n}),e.feed.title,d.jsx("br",{}),Ml(e.published_at)]}),e.starred&&d.jsx(ws,{className:"icon-starred"})]})]})},c1=({entry:e,handleEntryClick:t,mini:n})=>{const r=P(C=>C.activeContent),i=P(C=>C.showFeedIcon),s=r&&e.id===r.id,{handleToggleStarred:o,handleToggleStatus:l}=Es(),[a,u]=x.useState(0),[c,h]=x.useState(!1),f=50,p=54,m=e.starred,y=e.status==="unread",S=i1({onSwiping:C=>{const b=Math.min(Math.abs(C.deltaX),f)*Math.sign(C.deltaX);u(b)},onSwiped:C=>{C.deltaX>f?o(e).then(()=>ie.success(m?"Unmarked as starred":"Marked as starred")):C.deltaX<-f&&l(e).then(()=>ie.success(y?"Marked as read":"Marked as unread")),u(0)}});return x.createElement("div",{...S,className:"article-card",style:{visibility:c?"visible":"hidden"},key:e.id},d.jsxs(Ky.div,{className:"swipe-card",style:{x:a},initial:{x:p},animate:{x:a},transition:{type:"tween"},onAnimationComplete:()=>h(!0),children:[d.jsx("div",{className:"swipe-action left",children:m?d.jsx(ws,{style:{color:"#ffcd00"}}):d.jsx(bs,{})}),d.jsx(ur,{className:Dc("swipe-content","card-custom-style","card-custom-hover-style",{"card-custom-selected-style":s}),cover:null,"data-entry-id":e.id,hoverable:!0,onClick:()=>t(e),bordered:!1,children:d.jsx(ur.Meta,{description:d.jsx(l1,{entry:e,showFeedIcon:i,mini:n})})}),d.jsx("div",{className:"swipe-action right",children:y?d.jsx(yl,{}):d.jsx(xl,{})})]}))},u1=({loading:e})=>{const t=P(i=>i.layout),n=t==="large"?2:4,r=i=>d.jsx(ur,{calssName:"card-style",cover:t==="large"&&d.jsx("div",{className:"card-cover-style"}),children:d.jsx(ur.Meta,{description:d.jsx(Gr,{loading:e,animation:!0,text:{rows:3,width:150}})})},i);return e?Array.from({length:n},(i,s)=>r(s)):null},td=e=>{const t=P(h=>h.showAllFeeds),n=P(h=>h.hiddenFeedIds),{entries:r,filterStatus:i,filterString:s,filterType:o,setFilteredEntries:l,setFilterStatus:a,setFilterString:u,setFilterType:c}=x.useContext(Rt);return x.useEffect(()=>{l([]);const h=Hl(r,o,i,s);l(Yr(h,e,t,n))},[i,s,o]),{setFilterStatus:a,setFilterString:u,setFilterType:c}},d1=e=>{const{filterString:t,filterType:n}=x.useContext(Rt),r=P(h=>h.activeContent),i=P(h=>h.setActiveContent),s=P(h=>h.orderDirection),o=P(h=>h.toggleOrderDirection),a=ci()<=768,{setFilterString:u,setFilterType:c}=td(e);return d.jsxs("div",{className:"search-and-sort-bar",children:[d.jsx(ft.Search,{allowClear:!0,placeholder:"Search...",value:t,addBefore:d.jsxs(Ae,{placeholder:"Select type",onChange:c,style:{width:100},value:n,children:[d.jsx(Ae.Option,{value:"0",children:"Title"}),d.jsx(Ae.Option,{value:"1",children:"Content"})]}),onFocus:()=>r&&i(null),onChange:u,style:{width:a?"100%":278,marginLeft:8}}),d.jsx(lr,{mini:!0,position:"left",content:s==="desc"?"Newest first":"Oldest first",children:d.jsx(Se,{shape:"circle",size:"small",style:{margin:"0 8px",flexShrink:0},icon:s==="desc"?d.jsx(Ld,{}):d.jsx(Bd,{}),onClick:()=>{const h=s==="desc"?"asc":"desc";o(),Xe("orderDirection",h)}})})]})},h1=x.forwardRef(({info:e,loading:t,getEntries:n,handleEntryClick:r,cardsRef:i},s)=>{const{filteredEntries:o,filterStatus:l,loadMoreUnreadVisible:a,loadMoreVisible:u}=x.useContext(Rt),{loadingMore:c,handleLoadMore:h}=Ps(),p=P(m=>m.layout)==="small";return d.jsxs(d.Fragment,{children:[d.jsx(d1,{info:e}),d.jsxs("div",{className:"entry-list",ref:s,children:[d.jsx(u1,{loading:t}),t?null:d.jsx("div",{ref:i,children:o.map(m=>(Kl(m.feed.site_url)||(m.feed.site_url=Xl(m.feed.feed_url)),d.jsx(c1,{entry:m,handleEntryClick:r,mini:p},m.id)))}),!t&&(l==="all"?u:a)&&d.jsxs(Se,{className:"load-more-button",loading:c,long:!0,onClick:()=>h(e,n),children:[!c&&d.jsx(Ud,{}),"Load more"]})]})]})}),f1=x.forwardRef(({info:e,refreshArticleList:t,markAllAsRead:n},r)=>{const{entries:i,filteredEntries:s,filterStatus:o,loading:l,setEntries:a,setFilteredEntries:u,setUnreadCount:c,setUnreadEntries:h,unreadEntries:f}=x.useContext(Rt),{setFilterStatus:p}=td(e),m=P(b=>b.initData),y=P(b=>b.showStatus),S=async()=>{n().then(()=>{ie.success("Marked all as read successfully"),m(),a(i.map(b=>({...b,status:"read"}))),h([]),u(o==="all"?s.map(b=>({...b,status:"read"})):[]),c(0)}).catch(()=>{ie.error("Failed to mark all as read")})};x.useEffect(()=>{e.from!=="history"&&p(y)},[y]);const C=b=>{r.current&&r.current.scrollTo(0,0),p(b),u(b==="all"?i:f)};return d.jsxs("div",{className:"entry-panel",children:[!["starred","history"].includes(e.from)&&d.jsx(gl,{focusLock:!0,title:"Mark All As Read?",onOk:S,children:d.jsx(Se,{icon:d.jsx(dl,{}),shape:"circle"})}),d.jsxs(Ei.Group,{disabled:e.from==="history",name:"lang",onChange:b=>C(b),type:"button",value:e.from==="history"?"all":o,children:[d.jsx(Ei,{value:"all",children:"ALL"}),d.jsx(Ei,{value:"unread",children:"UNREAD"})]}),d.jsx(Se,{icon:d.jsx(ml,{}),loading:l,shape:"circle",onClick:t})]})}),Hn=({info:e,getEntries:t,markAllAsRead:n})=>{const r=P(D=>D.activeContent),i=P(D=>D.setActiveContent),s=P(D=>D.setReadCount),o=P(D=>D.setStarredCount),l=P(D=>D.setUnreadToday),a=P(D=>D.setUnreadTotal),u=P(D=>D.updateFeedUnreadCount),c=P(D=>D.updateGroupUnreadCount),h=P(D=>D.showAllFeeds),f=P(D=>D.hiddenFeedIds),p=P(D=>D.orderBy),m=P(D=>D.orderDirection),y=P(D=>D.initData),S=P(D=>D.isInitCompleted),{entries:C,entryDetailRef:b,filteredEntries:g,filterStatus:T,loading:A,setEntries:M,setFilteredEntries:F,setLoading:E,setLoadMoreUnreadVisible:k,setLoadMoreVisible:O,setOffset:ee,setTotal:ue,setUnreadCount:rt,setUnreadEntries:Te,setUnreadOffset:H,total:te,unreadCount:je,unreadEntries:xe}=x.useContext(Rt),{handleFetchContent:It,handleToggleStarred:w,handleToggleStatus:v,handleEntryStatusUpdate:R}=Es(),{getFirstImage:_}=Ps(),[V,L]=x.useState(!1),[B,N]=x.useState(!1),U=x.useRef(null),K=x.useRef(null);x.useEffect(()=>{!B||e.from==="history"||setTimeout(()=>{Ze()},200)},[p]),x.useEffect(()=>{B&&setTimeout(()=>{Ze()},200)},[m]),x.useEffect(()=>{F(()=>["all","today","group"].includes(e.from)&&!h?(T==="all"?C:xe).filter(oe=>!f.includes(oe.feed.id)):T==="all"?C:xe),L(!0)},[T,f,h]),x.useEffect(()=>{if(!(je===0||te===0))switch(e.from){case"all":h&&a(()=>je);break;case"today":l(()=>je);break;case"starred":o(()=>te);break;case"history":s(()=>te);break;case"feed":{const D=Number.parseInt(e.id);u(D,je);break}case"group":{const D=Number.parseInt(e.id);c(D,je);break}}},[te,je]);const G=async D=>{i(null),setTimeout(()=>{i({...D,status:"read"})},200),D.status==="unread"&&(setTimeout(()=>{R(D,"read")},200),kl(D.id,"read").catch(()=>{ie.error("Failed to mark entry as read, please try again later"),R(D,"unread")})),b.current&&(b.current.setAttribute("tabIndex","-1"),b.current.focus(),b.current.scrollTo(0,0))},{handleBKey:ne,handleDKey:re,handleEscapeKey:le,handleLeftKey:X,handleMKey:q,handleRightKey:Me,handleSKey:pe}=ql(e,G,t);x.useEffect(()=>{const D={27:()=>le(U),37:()=>X(),39:()=>Me(e),66:()=>ne(),68:()=>re(It),77:()=>q(()=>v(r)),83:()=>pe(()=>w(r))},oe=Ue=>{const Ie=D[Ue.keyCode];Ie&&Ie()};return r?document.addEventListener("keydown",oe):document.removeEventListener("keydown",oe),()=>{document.removeEventListener("keydown",oe)}},[r,g]);const Ce=(D,oe,Ue,Ie)=>{M(D),Te(oe),F(Yr(T==="all"?D:oe,e,h,f)),ue(Ue.data.total),O(D.length<Ue.data.total),rt(Ie.data.total),k(oe.length<Ie.data.total)},Be=(D,oe)=>{var Ue,Ie;if((Ue=D==null?void 0:D.data)!=null&&Ue.entries&&((Ie=oe==null?void 0:oe.data)==null?void 0:Ie.total)>=0){const Je=D.data.entries.map(_),Ge=oe.data.entries.map(_);Ce(Je,Ge,D,oe)}},de=async()=>{E(!0);try{const D=await t();if(e.from==="history")Be(D,D);else{const oe=await t(0,"unread");Be(D,oe)}}catch(D){console.error("Error fetching articles:",D)}finally{E(!1)}},Ze=async()=>{if(U.current&&U.current.scrollTo(0,0),ee(0),H(0),!S){y();return}await de()};return x.useEffect(()=>{r&&i(null)},[]),x.useEffect(()=>{S&&de().then(()=>N(!0))},[S]),d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"entry-col",children:[d.jsx(xo,{in:!A,timeout:200,nodeRef:K,classNames:"fade",children:d.jsx(h1,{info:e,cardsRef:K,loading:A,getEntries:t,handleEntryClick:G,ref:U})}),d.jsx(f1,{info:e,refreshArticleList:Ze,markAllAsRead:n,ref:U})]}),d.jsx(xo,{in:r!=null,timeout:200,nodeRef:b,classNames:"fade",unmountOnExit:!0,children:d.jsx(Rm,{info:e,handleEntryClick:G,getEntries:t,isFilteredEntriesUpdated:V,setIsFilteredEntriesUpdated:L,ref:b})})]})},p1=()=>{const e=async()=>{const t=await Rh();return ce.put(`/v1/users/${t.data.id}/mark-all-as-read`)};return d.jsx($n,{children:d.jsx(Hn,{info:{from:"all",id:""},getEntries:Hh,markAllAsRead:e})})},m1=()=>{const e=mr(),t=zd();return console.error(t),d.jsx("div",{id:"error-page",style:{top:"30%",position:"relative"},children:d.jsx("div",{children:d.jsx($d,{status:"404",subTitle:"Whoops, that page is gone. ",extra:[d.jsx(Se,{type:"primary",onClick:()=>e("/"),children:"Back to Home"},"back")]})})})},g1=()=>{const{id:e}=bl(),t=P(o=>o.orderBy),n=P(o=>o.orderDirection),r=P(o=>o.pageSize),i=async(o=0,l=null)=>{const a={baseUrl:`/v1/feeds/${e}/entries`,orderField:t,direction:n,offset:o,limit:r,status:l},u=zn(a);return ce.get(u)},s=async()=>ce.put(`/v1/feeds/${id}/mark-all-as-read`);return d.jsx($n,{children:d.jsx(Hn,{info:{from:"feed",id:e},getEntries:i,markAllAsRead:s})})},v1=()=>{const{id:e}=bl(),t=P(o=>o.orderBy),n=P(o=>o.orderDirection),r=P(o=>o.pageSize),i=async(o=0,l=null)=>{const a={baseUrl:`/v1/categories/${e}/entries`,orderField:t,direction:n,offset:o,limit:r,status:l},u=zn(a);return ce.get(u)},s=async()=>ce.put(`/v1/categories/${e}/mark-all-as-read`);return d.jsx($n,{children:d.jsx(Hn,{info:{from:"group",id:e},getEntries:i,markAllAsRead:s})})},y1=()=>d.jsx($n,{children:d.jsx(Hn,{info:{from:"history",id:""},getEntries:Fl})}),x1=e=>{var r;const t=e.getFieldsValue();let n=!0;for(const i of Object.keys(t))if(i!=="password"){const s=(r=t[i])==null?void 0:r.trim();e.setFieldValue(i,s),s||(n=!1)}else t[i]||(n=!1);return n},Nr=(e,t)=>{e.key==="Enter"&&t.submit()},b1=()=>{const[e]=Wd(),[t,n]=x.useState(!1),[r,i]=x.useState(Kr()||"token"),s=mr();x.useEffect(()=>{Kr()&&s("/")},[s]);const o=async()=>{n(!0);try{(await cl({url:"/v1/me",method:"get",baseURL:e.getFieldsValue().server,headers:{"X-Auth-Token":e.getFieldsValue().token},auth:{username:e.getFieldsValue().username,password:e.getFieldsValue().password},timeout:5e3})).status===200&&(ie.success("Success"),Ah(r,e.getFieldsValue()),s("/"))}catch(a){console.error(a),ie.error(a.message)}n(!1)},l=()=>{o()};return d.jsx("div",{style:{backgroundColor:"var(--color-bg-1)",height:"100%"},children:d.jsx("div",{style:{backgroundColor:"var(--color-fill-1)",height:"100%"},children:d.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",overflowY:"auto"},children:[d.jsx(vl,{style:{fontSize:48,color:"rgb(var(--primary-6))",marginTop:"20px"}}),d.jsx(W.Title,{heading:3,children:"Connect to your server"}),d.jsxs(ur,{style:{boxShadow:"0 4px 10px rgb(var(--color-bg-3))",padding:"20px",width:"380px",marginTop:"20px"},children:[d.jsxs(ye,{autoComplete:"off",form:e,layout:"vertical",onSubmit:()=>{x1(e)?l():ie.error("Please fill in all required fields")},children:[d.jsx(ye.Item,{field:"server",label:"Server address",rules:[{required:!0}],onKeyDown:a=>{Nr(a,e)},children:d.jsx(ft,{disabled:t,placeholder:"Please input server address",prefix:d.jsx(Hd,{})})}),r==="token"&&d.jsx(ye.Item,{field:"token",label:"API Token",rules:[{required:!0}],onKeyDown:a=>{Nr(a,e)},children:d.jsx(ft,{disabled:t,placeholder:"Please input api token",prefix:d.jsx(bo,{})})}),r==="user"&&d.jsxs(d.Fragment,{children:[d.jsx(ye.Item,{field:"username",label:"Username",rules:[{required:!0}],onKeyDown:a=>{Nr(a,e)},children:d.jsx(ft,{disabled:t,prefix:d.jsx(fl,{}),placeholder:"Please input username"})}),d.jsx(ye.Item,{field:"password",label:"Password",rules:[{required:!0}],onKeyDown:a=>{Nr(a,e)},children:d.jsx(ft.Password,{disabled:t,prefix:d.jsx(bo,{}),placeholder:"Please input password"})})]})]}),d.jsx(Se,{loading:t,type:"primary",long:!0,onClick:l,style:{marginTop:"20px"},children:"Connect"}),d.jsx(xt,{orientation:"center",children:"Or connect with"}),d.jsx(Se,{type:"secondary",long:!0,onClick:()=>i(r==="token"?"user":"token"),style:{marginTop:"20px"},children:r==="token"?"Username and password":"API Token"})]}),d.jsxs("div",{style:{display:"flex",marginTop:"40px"},children:[d.jsx(W.Text,{disabled:!0,children:"Need more information?"}),d.jsx(Gd,{href:"https://miniflux.app/docs/api.html#authentication",style:{fontWeight:"500"},children:"Go to Miniflux official website"})]})]})})})},w1=({children:e})=>Kr()?d.jsx(d.Fragment,{children:e}):d.jsx(wl,{to:"/login"}),S1=()=>d.jsx($n,{children:d.jsx(Hn,{info:{from:"starred",id:""},getEntries:Dl})}),T1=()=>{const e=async()=>{const t=await Lr(0,"unread"),n=t.data.entries.map(r=>r.id);if(t.data.total>n.length){const r=t.data.total-n.length,i=Math.ceil(r/100)*100,s=await Lr(n.length,"unread",i);n.push(...s.data.entries.map(o=>o.id))}return Al(n,"read")};return d.jsx($n,{children:d.jsx(Hn,{info:{from:"today",id:""},getEntries:Lr,markAllAsRead:e})})},C1=fe("homePage"),E1=[{path:"/all",element:d.jsx(p1,{})},{path:"/today",element:d.jsx(T1,{})},{path:"/starred",element:d.jsx(S1,{})},{path:"/history",element:d.jsx(y1,{})},{path:"/group/:id",element:d.jsx(v1,{})},{path:"/feed/:id",element:d.jsx(g1,{})}],nd=Kd([{path:"/",element:d.jsx(w1,{children:d.jsx(ap,{})}),errorElement:d.jsx(m1,{}),children:[...E1,{index:!0,element:d.jsx(wl,{to:`/${C1}`,replace:!0})}]},{path:"/login",element:d.jsx(b1,{})}]);Xd.createRoot(document.getElementById("root")).render(d.jsx(qd,{locale:Yd,children:d.jsx(Zd,{router:nd})}))});export default P1();
