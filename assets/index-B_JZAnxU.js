var Ul=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);import{a as G,g as $l,b as Bl,u as Se,c as te,d as bn,j as s,B as ve,I as zl,S as _r,T as $n,e as Da,f as Hl,h as Wl,i as ql,D as Us,M as Pt,k as La,l as Xl,m as Yl,A as Va,n as Ua,o as ee,p as Gl,q as Kl,r as Ql,s as $a,t as le,v as $i,w as Nt,x as Bi,y as W,z as U,C as et,E as en,F as $s,G as S,H as ye,J as Bn,K as tt,L as Nr,P as yi,N as bi,O as Ba,Q as Ce,R as Zl,U as Jl,V as ec,W as dn,X as tc,Y as nc,Z as rc,_ as ic,$ as sc,a0 as ac,a1 as oc,a2 as za,a3 as Ha,a4 as Ar,a5 as lc,a6 as cc,a7 as zi,a8 as uc,a9 as dc,aa as Hi,ab as ne,ac as Wa,ad as fc,ae as qa,af as Xa,ag as Wi,ah as hc,ai as mc,aj as pc,ak as gc,al as vc,am as yc,an as zn,ao as bc,ap as xc,aq as wc,ar as Cc,as as Bs,at as Ya,au as Sc,av as jc,aw as Ec,ax as zs,ay as Tc,az as Ga,aA as _c,aB as Ac,aC as kc,aD as Mc,aE as Ic}from"./vendor-Cm-vBvZJ.js";var mm=Ul((vm,rr)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();const Ka=(e,t)=>{const r=G((()=>{const i=localStorage.getItem(e);return i!==null?JSON.parse(i):t})());return G(i=>i(r),(i,a,c)=>{const o=typeof c=="function"?c(i(r)):c;a(r,o),localStorage.setItem(e,JSON.stringify(o))})},qi=(e,t)=>{const n=G({refresh:null,value:null});return G(r=>{const{refresh:i,value:a}=r(n),c=r(e);return a!==null&&i===c?a:t(r)},(r,i,a)=>{let c;const{refresh:o,value:l}=r(n),u=r(e);typeof a=="function"?c=a(l!==null&&o===u?l:t(r)):c=a,i(n,{refresh:u,value:c})})},kr={articleWidth:90,fontSize:1.05,homePage:"all",layout:"large",markReadOnScroll:!1,orderBy:"created_at",orderDirection:"desc",pageSize:100,showAllFeeds:!1,showFeedIcon:!0,showStatus:"all",theme:"light",themeColor:"Blue"},Ct=e=>{const t=JSON.parse(localStorage.getItem("config"))??{};return Object.hasOwn(t,e)?t[e]:Object.hasOwn(kr,e)?kr[e]:null},we=Ka("config",kr),xi={Red:{light:"#F53F3F",dark:"#F76965"},Orange:{light:"#F77234",dark:"#F9925A"},Green:{light:"#00B42A",dark:"#27C346"},Blue:{light:"#165DFF",dark:"#3C7EFF"},Purple:{light:"#722ED1",dark:"#8E51DA"}},wi=e=>{const t=xi[e]||xi.Blue,n=window.matchMedia("(prefers-color-scheme: dark)").matches,r=Ct("theme");return(r==="system"?n:r==="dark")?t.dark:t.light},Qa=e=>{$l(wi(e),{list:!0}).map(Bl).forEach((n,r)=>{document.body.style.setProperty(`--primary-${r+1}`,n)})},Xi=Ka("auth",{server:"",token:"",username:"",password:""}),Pc=G(window.innerWidth<=992),Za=()=>{const[e,t]=Se(Pc);return{collapsed:e,toggleCollapsed:()=>t(r=>!r)}},Dr=()=>{const e=te(we);return{updateConfig:n=>{e(r=>({...r,...n}))}}},Oc=G(!1),Rc=G(!1),Yi=()=>{const[e,t]=Se(Oc),[n,r]=Se(Rc);return{addFeedModalVisible:e,setAddFeedModalVisible:t,settingsModalVisible:n,setSettingsModalVisible:r}},Fc=()=>{const e=bn(),{setAddFeedModalVisible:t,setSettingsModalVisible:n}=Yi(),{toggleCollapsed:r}=Za(),[i,a]=Se(we),c=te(Xi),{showAllFeeds:o,theme:l}=i,{updateConfig:u}=Dr(),d=()=>{u({showAllFeeds:!o})},f=()=>{u({theme:l==="light"?"dark":"light"})},p=()=>{c({}),a(kr),document.body.removeAttribute("arco-theme"),Qa("Blue"),e("/login"),ee.success("Logout successful")},x=(h=>{switch(h){case"dark":return s.jsx(Ql,{});case"system":return s.jsx(Kl,{});default:return s.jsx(Gl,{})}})(l);return s.jsxs("div",{className:"header",children:[s.jsx("div",{className:"brand",children:s.jsx(ve,{className:"trigger",onClick:r,shape:"circle",size:"small",children:s.jsx(zl,{})})}),s.jsx("div",{className:"button-group",children:s.jsxs(_r,{size:16,children:[s.jsx($n,{content:"Add a feed",mini:!0,children:s.jsx(ve,{shape:"circle",size:"small",type:"primary",icon:s.jsx(Da,{}),onClick:()=>t(!0)})}),s.jsx($n,{content:o?"Hide some feeds":"Show all feeds",mini:!0,children:s.jsx(ve,{shape:"circle",size:"small",icon:o?s.jsx(Hl,{}):s.jsx(Wl,{}),onClick:d})}),s.jsx(ve,{shape:"circle",size:"small",icon:s.jsx(ql,{}),onClick:()=>window.open("https://github.com/electh/ReactFlux","_blank")}),s.jsx(Us,{droplist:s.jsx(Pt,{defaultSelectedKeys:[l],className:"theme-menu",children:["light","dark","system"].map(h=>s.jsxs(Pt.Item,{className:"theme-menu-item",onClick:()=>u({theme:h}),children:[h.charAt(0).toUpperCase()+h.slice(1),l===h&&s.jsx(La,{style:{marginLeft:8}})]},h))}),trigger:"hover",position:"bottom",children:s.jsx(ve,{icon:x,shape:"circle",size:"small",onClick:f})}),s.jsx(Us,{droplist:s.jsxs(Pt,{children:[s.jsxs(Pt.Item,{onClick:()=>n(!0),children:[s.jsx(Xl,{className:"icon-right"}),"Settings"]},"0"),s.jsxs(Pt.Item,{onClick:p,children:[s.jsx(Yl,{className:"icon-right"}),"Logout"]},"1")]}),trigger:"click",position:"br",children:s.jsx(Va,{size:28,style:{cursor:"pointer"},children:s.jsx(Ua,{})})})]})})]})},Nc=()=>JSON.parse(localStorage.getItem("auth"))??{},Gi=e=>{const{server:t,token:n,username:r,password:i}=e;return t&&(n||r&&i)},de=$a.create({timeout:3e3,retry:3,retryDelay:1e3});de.interceptors.request.use(e=>{const t=Nc(),{server:n,token:r,username:i,password:a}=t;return Gi(t)?(e.baseURL=n,r?e.headers["X-Auth-Token"]=r:e.auth={username:i,password:a},e):Promise.reject(new Error("Invalid auth"))},e=>Promise.reject(e));const Dc=async e=>{const{config:t}=e;return!(t!=null&&t.retry)||(t.__retryCount=t.__retryCount??0,t.__retryCount>=t.retry)?Promise.reject(e):(t.__retryCount+=1,await new Promise(r=>{setTimeout(()=>{r()},t.retryDelay??1e3)}),de(t))},Lc=async e=>{var n,r,i;const t=((r=(n=e.response)==null?void 0:n.data)==null?void 0:r.error_message)??e.message;return console.log(t),((i=e.response)==null?void 0:i.status)===401&&(localStorage.removeItem("auth"),await Ll.navigate("/login")),Promise.reject(e)};de.interceptors.response.use(e=>e,async e=>{try{return await Dc(e)}catch(t){return Lc(t)}});const Vc=async()=>de.get("/v1/categories"),Uc=async e=>de.post("/v1/categories",{title:e}),$c=async e=>de.delete(`/v1/categories/${e}`),Bc=async(e,t,n=!1)=>{const r={title:t,hide_globally:n?"on":void 0};return de.put(`/v1/categories/${e}`,r)};var Ja={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(le,function(){return function(n,r,i){n=n||{};var a=r.prototype,c={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function o(u,d,f,p){return a.fromToBase(u,d,f,p)}i.en.relativeTime=c,a.fromToBase=function(u,d,f,p,C){for(var x,h,g,w=f.$locale().relativeTime||c,v=n.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],b=v.length,T=0;T<b;T+=1){var j=v[T];j.d&&(x=p?i(u).diff(f,j.d,!0):f.diff(u,j.d,!0));var A=(n.rounding||Math.round)(Math.abs(x));if(g=x>0,A<=j.r||!j.r){A<=1&&T>0&&(j=v[T-1]);var F=w[j.l];C&&(A=C(""+A)),h=typeof F=="string"?F.replace("%d",A):F(A,d,j.l,g);break}}if(d)return h;var fe=g?w.future:w.past;return typeof fe=="function"?fe(h):fe.replace("%s",h)},a.to=function(u,d){return o(u,d,this,!0)},a.from=function(u,d){return o(u,d,this)};var l=function(u){return u.$u?i.utc():i()};a.toNow=function(u){return this.to(l(this),u)},a.fromNow=function(u){return this.from(l(this),u)}}})})(Ja);var zc=Ja.exports;const Hc=$i(zc);var eo={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(le,function(){var n="minute",r=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(a,c,o){var l=c.prototype;o.utc=function(h){var g={date:h,utc:!0,args:arguments};return new c(g)},l.utc=function(h){var g=o(this.toDate(),{locale:this.$L,utc:!0});return h?g.add(this.utcOffset(),n):g},l.local=function(){return o(this.toDate(),{locale:this.$L,utc:!1})};var u=l.parse;l.parse=function(h){h.utc&&(this.$u=!0),this.$utils().u(h.$offset)||(this.$offset=h.$offset),u.call(this,h)};var d=l.init;l.init=function(){if(this.$u){var h=this.$d;this.$y=h.getUTCFullYear(),this.$M=h.getUTCMonth(),this.$D=h.getUTCDate(),this.$W=h.getUTCDay(),this.$H=h.getUTCHours(),this.$m=h.getUTCMinutes(),this.$s=h.getUTCSeconds(),this.$ms=h.getUTCMilliseconds()}else d.call(this)};var f=l.utcOffset;l.utcOffset=function(h,g){var w=this.$utils().u;if(w(h))return this.$u?0:w(this.$offset)?f.call(this):this.$offset;if(typeof h=="string"&&(h=function(j){j===void 0&&(j="");var A=j.match(r);if(!A)return null;var F=(""+A[0]).match(i)||["-",0,0],fe=F[0],k=60*+F[1]+ +F[2];return k===0?0:fe==="+"?k:-k}(h),h===null))return this;var v=Math.abs(h)<=16?60*h:h,b=this;if(g)return b.$offset=v,b.$u=h===0,b;if(h!==0){var T=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(b=this.local().add(v+T,n)).$offset=v,b.$x.$localOffset=T}else b=this.utc();return b};var p=l.format;l.format=function(h){var g=h||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return p.call(this,g)},l.valueOf=function(){var h=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*h},l.isUTC=function(){return!!this.$u},l.toISOString=function(){return this.toDate().toISOString()},l.toString=function(){return this.toDate().toUTCString()};var C=l.toDate;l.toDate=function(h){return h==="s"&&this.$offset?o(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():C.call(this)};var x=l.diff;l.diff=function(h,g,w){if(h&&this.$u===h.$u)return x.call(this,h,g,w);var v=this.local(),b=o(h).local();return x.call(v,b,g,w)}}})})(eo);var Wc=eo.exports;const qc=$i(Wc);Nt.extend(Hc);Nt.extend(qc);const Xc=e=>{const t=Nt(e),n=Nt();return t.isAfter(n.subtract(24,"hour"))},Yc=()=>Nt().subtract(24,"hour").unix(),to=e=>{const t=Nt(e).fromNow();return t==="a few seconds ago"?"just now":t},Hs=()=>Nt().utc().format("YYYY-MM-DDTHH:mm:ss.SSSSSSZ"),Ki=async(e,t)=>de.put("/v1/entries",{entry_ids:e,status:t}),Gc=async e=>de.put(`/v1/entries/${e}/bookmark`),Kc=async e=>de.get(`/v1/entries/${e}/fetch-content`),xn=(e,t={})=>{const{baseUrl:n,orderField:r,offset:i,limit:a,status:c}=e,o=Ct("orderDirection"),l=new URLSearchParams({order:r,direction:o,offset:i,limit:a,...t});return c&&l.append("status",c),`${n}?${l}`},Qc=async(e=0,t=null)=>{const n=Ct("orderBy"),r=Ct("pageSize"),a=xn({baseUrl:"/v1/entries",orderField:n,offset:e,limit:r,status:t});return de.get(a)},Sr=async(e=0,t=null,n=null)=>{const r=Ct("orderBy"),i=n??Ct("pageSize"),a=Yc(),l=xn({baseUrl:"/v1/entries",orderField:r,offset:e,limit:i,status:t},{published_after:a});return de.get(l)},no=async(e=0,t=null)=>{const n=Ct("pageSize"),a=xn({baseUrl:"/v1/entries",orderField:"changed_at",offset:e,limit:n,status:t},{starred:"true"});return de.get(a)},ro=async(e=0)=>{const t=Ct("pageSize"),r=xn({baseUrl:"/v1/entries",orderField:"changed_at",offset:e,limit:t,status:"read"});return de.get(r)},Zc=async()=>de.get("/v1/feeds"),Jc=async()=>de.get("/v1/feeds/counters"),eu=async e=>de.put(`/v1/feeds/${e}/refresh`),tu=async()=>de.put("/v1/feeds/refresh"),nu=async(e,t,n)=>de.post("/v1/feeds",{feed_url:e,category_id:t,crawler:n}),ru=async e=>de.delete(`/v1/feeds/${e}`),iu=async(e,t)=>{const{url:n,title:r,categoryId:i,isFullText:a,hidden:c=!1}=t;return de.put(`/v1/feeds/${e}`,{feed_url:n,title:r,category_id:i,crawler:a,hide_globally:c})},su=async()=>de.get("/v1/me"),Qi=e=>{const t=new URL(e);return`${t.protocol}//${t.hostname}`},Zi=G(!1),Lr=G({}),Ji=G(0),es=G(0),ts=G(0),io=G(0),so=G([]),Vr=qi(io,e=>{const t=e(Lr);return e(so).map(r=>({...r,unreadCount:t[r.id]??0}))}),ns=G(e=>e(Vr).sort((n,r)=>n.title.localeCompare(r.title,"en"))),ao=G(0),oo=G([]),au=qi(ao,e=>{const t=e(Vr);return e(oo).map(r=>{const i=t.filter(a=>a.category.id===r.id);return{...r,unreadCount:i.reduce((a,c)=>a+c.unreadCount,0),feedCount:i.length}})}),Jn=G(e=>e(au).sort((n,r)=>n.title.localeCompare(r.title,"en"))),lo=G(e=>e(Jn).filter(n=>n.hide_globally).map(n=>n.id)),rs=G(e=>{const t=e(lo);return e(ns).filter(r=>r.hide_globally||t.includes(r.category.id)).map(r=>r.id)}),co=G(e=>{const{showAllFeeds:t}=e(we),n=e(rs);return e(ns).filter(i=>t||!n.includes(i.id))}),uo=G(e=>e(co).reduce((n,r)=>{Bi(r.site_url)||(r.site_url=Qi(r.feed_url));const{id:i}=r.category;return n[i]||(n[i]=[]),n[i].push(r),n},{})),ou=G(e=>{const t=e(Lr),n=e(co);return Object.entries(t).reduce((r,[i,a])=>n.some(c=>c.id===Number(i))?r+a:r,0)}),lu=G(async()=>{const e=await Promise.all([Jc(),Sr(0,"unread"),no(),ro(),Zc(),Vc()]),[t,n,r,i,a,c]=e.map(o=>o.data);return{unreadInfo:t.unreads??{},unreadTodayCount:n.total??0,starredCount:r.total??0,historyCount:i.total??0,feedsData:a,categoriesData:c}}),is=()=>{const e=te(Zi),t=W(lu),n=te(Lr),r=te(Ji),i=te(es),a=te(ts),c=te(so),o=te(io),l=te(oo),u=te(ao);return{fetchData:()=>{e(!1);const{unreadInfo:f,unreadTodayCount:p,starredCount:C,historyCount:x,feedsData:h,categoriesData:g}=t;n(f),r(p),i(C),a(x),c(h),o(w=>w+1),l(g),u(w=>w+1),e(!0)}}},Jt=(e,t)=>e.toLowerCase().includes(t.toLowerCase()),fo=(e,t,n,r)=>r?t==="0"?n==="all"?e.filter(i=>Jt(i.title,r)):e.filter(i=>Jt(i.title,r)&&i.status===n):n==="all"?e.filter(i=>Jt(i.content,r)):e.filter(i=>Jt(i.content,r)&&i.status===n):e,cu=(e,t,n,r)=>{const i=a=>n||!r.includes(a.feed.id);return["all","today","category"].includes(t.from)?e.filter(i):e},uu=()=>{const{updateConfig:e}=Dr(),t=W(we),{articleWidth:n,fontSize:r,layout:i,showFeedIcon:a,themeColor:c}=t,o=p=>{e({themeColor:p}),Qa(p)},l=p=>{e({layout:p?"small":"large"})},u=p=>{e({showFeedIcon:p})},d=p=>{e({fontSize:p})},f=p=>{e({articleWidth:p})};return s.jsxs(s.Fragment,{children:[s.jsx(U.Title,{heading:6,style:{marginTop:0},children:"Theme"}),s.jsx(U.Text,{type:"secondary",children:"Customize your UI theme"}),s.jsxs("div",{className:"setting-row",children:[s.jsxs("div",{children:[s.jsx(U.Title,{heading:6,style:{marginTop:0},children:"Accent color"}),s.jsx(U.Text,{type:"secondary",children:"Choose your accent color"})]}),s.jsx("div",{style:{display:"flex"},children:Object.keys(xi).map(p=>s.jsx($n,{content:p,children:s.jsx("button",{type:"button",className:"accent-color-button",style:{backgroundColor:wi(p),outline:p===c?`1px solid ${wi(p)}`:"none"},onClick:()=>o(p),onKeyDown:C=>{(C.key==="Enter"||C.key===" ")&&o(p)}})},p))})]}),s.jsx(et,{}),s.jsxs("div",{className:"setting-row",children:[s.jsxs("div",{children:[s.jsx(U.Title,{heading:6,style:{marginTop:0},children:"Compact article list"}),s.jsx(U.Text,{type:"secondary",children:"Use small thumbnail in article list"})]}),s.jsx("div",{children:s.jsx(en,{checked:i==="small",onChange:p=>l(p)})})]}),s.jsx(et,{}),s.jsxs("div",{className:"setting-row",children:[s.jsxs("div",{children:[s.jsx(U.Title,{heading:6,style:{marginTop:0},children:"Show feed icon"}),s.jsx(U.Text,{type:"secondary",children:"Show feed icon in feed list and article list"})]}),s.jsx("div",{children:s.jsx(en,{checked:a,onChange:p=>u(p)})})]}),s.jsx(et,{}),s.jsxs("div",{className:"setting-row",children:[s.jsxs("div",{children:[s.jsx(U.Title,{heading:6,style:{marginTop:0},children:"Font size"}),s.jsx(U.Text,{type:"secondary",children:"Adjust article text size"})]}),s.jsx("div",{children:s.jsxs(_r,{children:[s.jsx(U.Text,{style:{fontSize:"0.75rem"},children:"A"}),s.jsx($s,{formatTooltip:p=>`${p}rem`,max:1.25,min:.75,showTicks:!0,step:.05,style:{width:200},value:r,onChange:p=>d(p)}),s.jsx(U.Text,{style:{fontSize:"1.25rem"},children:"A"})]})})]}),s.jsx(et,{}),s.jsxs("div",{className:"setting-row",children:[s.jsxs("div",{children:[s.jsx(U.Title,{heading:6,style:{marginTop:0},children:"Article width"}),s.jsx(U.Text,{type:"secondary",children:"Adjust article width"})]}),s.jsx("div",{children:s.jsxs(_r,{children:[s.jsx(U.Text,{children:"60%"}),s.jsx($s,{formatTooltip:p=>`${p}%`,max:90,min:60,showTicks:!0,step:10,style:{width:200},value:n,onChange:p=>f(p)}),s.jsx(U.Text,{children:"90%"})]})})]})]})},du=()=>{const e=te(Vr),[t,n]=Se(Jn),[r,i]=S.useState(!1),[a,c]=S.useState(""),[o,l]=S.useState(!1),[u]=ye.useForm(),[d,f]=S.useState({}),p=async()=>{if(a){try{const{data:h}=await Uc(a);n(g=>[...g,{...h,feedCount:0}]),ee.success("Category added successfully")}catch{ee.error("Failed to add category")}c(""),i(!1)}},C=async(h,g,w)=>{try{const{data:v}=await Bc(h,g,w);e(b=>b.map(T=>T.category.id===h?{...T,category:{...T.category,title:g}}:T)),n(b=>b.map(T=>T.id===h?{...T,...v}:T)),ee.success("Category updated successfully")}catch{ee.error("Failed to update category")}l(!1),u.resetFields()},x=async h=>{try{(await $c(h)).status===204?(n(w=>w.filter(v=>v.id!==h)),ee.success("Category deleted successfully")):ee.error("Failed to delete category")}catch{ee.error("Failed to delete category")}};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[t.map(h=>s.jsx(Bn,{className:"tag-style",closable:h.feedCount===0,size:"medium",onClick:()=>{f(h),l(!0),u.setFieldsValue({title:h.title})},onClose:async g=>{g.stopPropagation(),await x(h.id)},children:h.title},h.id)),r?s.jsx(tt,{autoFocus:!0,className:"input-style",onBlur:p,onChange:c,onPressEnter:p,size:"small",value:a}):s.jsx(Bn,{className:"add-category-tag",icon:s.jsx(Da,{}),onClick:()=>i(!0),size:"medium",tabIndex:0,children:"Add"})]}),d&&s.jsx(Nr,{className:"modal-style",onOk:u.submit,title:"Edit Category",unmountOnExit:!0,visible:o,onCancel:()=>{l(!1),u.resetFields()},children:s.jsxs(ye,{form:u,layout:"vertical",onSubmit:h=>C(d.id,h.title,h.hidden),labelCol:{style:{flexBasis:90}},wrapperCol:{style:{flexBasis:"calc(100% - 90px)"}},children:[s.jsx(ye.Item,{label:"Title",field:"title",rules:[{required:!0}],children:s.jsx(tt,{placeholder:"Please input category title"})}),s.jsx(ye.Item,{label:"Hidden",field:"hidden",initialValue:d.hide_globally,triggerPropName:"checked",rules:[{type:"boolean"}],children:s.jsx(en,{})})]})})]})},er=()=>{const[e,t]=S.useState(window.innerWidth),n=e<=768;return S.useEffect(()=>{const r=()=>t(window.innerWidth);return window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]),{screenWidth:e,isMobileView:n}},ai=e=>e.slice().sort((t,n)=>n.parsing_error_count-t.parsing_error_count),fu=()=>{const[e,t]=S.useState(!1),[n,r]=S.useState({}),[i]=ye.useForm(),a=W(ns),c=te(Vr),[o,l]=S.useState(ai(a)),u=W(Jn),{isMobileView:d}=er(),f=o.map(v=>({category:v.category,checked_at:v.checked_at,crawler:v.crawler,feed_url:v.feed_url,key:v.id,parsing_error_count:v.parsing_error_count,title:v.title,hidden:v.hide_globally}));S.useEffect(()=>{l(ai(a))},[a]);const p=v=>{r(v),t(!0),i.setFieldsValue({category:v.category.id,crawler:v.crawler,title:v.title,url:v.feed_url,hidden:v.hidden})},C=async v=>{try{(await eu(v.key)).status===204?(ee.success("Refreshed"),c(T=>T.map(j=>j.id===v.key?{...j,parsing_error_count:0,checked_at:Hs()}:j))):(ee.error("Failed to refresh"),c(T=>T.map(j=>j.id===v.key?{...j,parsing_error_count:j.parsing_error_count+1}:j)))}catch{ee.error("Failed to refresh"),c(T=>T.map(j=>j.id===v.key?{...j,parsing_error_count:j.parsing_error_count+1,checked_at:Hs()}:j))}},x=async()=>{try{(await tu()).status===204?(ee.success("Refreshed"),c(b=>b.map(T=>({...T,parsing_error_count:0})))):(ee.error("Failed to refresh"),c(b=>b.map(T=>({...T,parsing_error_count:T.parsing_error_count+1}))))}catch{ee.error("Failed to refresh"),c(b=>b.map(T=>({...T,parsing_error_count:T.parsing_error_count+1})))}},h=async v=>{try{await ru(v.key),ee.success("Unfollowed"),c(b=>b.filter(T=>T.id!==v.key))}catch{ee.error("Failed to unfollow")}},g=[{title:"Title",dataIndex:"title",sorter:(v,b)=>v.title.localeCompare(b.title,"en"),render:(v,b)=>{const T=b.parsing_error_count,j=T?`⚠️ ${v}`:v,A=s.jsxs("div",{children:[v,T>0&&s.jsxs(s.Fragment,{children:[s.jsx("br",{}),"⚠️ Parsing error count: ",T]})]});return s.jsx(U.Ellipsis,{expandable:!1,children:s.jsx($n,{mini:!0,content:A,children:j})})}},!d&&{title:"Url",dataIndex:"feed_url",sorter:(v,b)=>v.feed_url.localeCompare(b.feed_url,"en"),render:v=>s.jsx(U.Ellipsis,{expandable:!1,showTooltip:!0,children:v})},{title:"Category",dataIndex:"category.title",sorter:(v,b)=>v.category.title.localeCompare(b.category.title,"en"),render:v=>s.jsx(U.Ellipsis,{expandable:!1,showTooltip:!0,children:s.jsx(Bn,{children:v})})},!d&&{title:"Checked at",dataIndex:"checked_at",sorter:(v,b)=>v.checked_at.localeCompare(b.checked_at,"en"),render:v=>s.jsx(U.Ellipsis,{expandable:!1,children:to(v)})},{title:"Actions",dataIndex:"op",fixed:"right",width:100,render:(v,b)=>s.jsxs(_r,{children:[s.jsx("button",{"aria-label":"Edit this feed",className:"list-item-action",onClick:()=>p(b),type:"button",children:s.jsx(Zl,{})}),s.jsx("button",{"aria-label":"Refresh this feed",className:"list-item-action",onClick:()=>C(b),type:"button",children:s.jsx(bi,{})}),s.jsx(yi,{position:"left",focusLock:!0,title:"Unfollow？",onOk:async()=>{await h(b)},children:s.jsx("span",{className:"list-item-action",children:s.jsx(Jl,{})})})]})}].filter(Boolean),w=async(v,b)=>{try{const T=await iu(v,b);c(j=>j.map(A=>A.id===v?{...A,...T.data}:A)),ee.success("Feed updated successfully"),t(!1),i.resetFields()}catch{ee.error("Failed to update feed")}};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[s.jsx("div",{style:{display:"flex",flex:1,justifyContent:"center"},children:s.jsx(tt.Search,{className:"search-input",placeholder:"Search feed title or url",searchButton:!0,onChange:v=>l(ai(a).filter(b=>Jt(b.title,v)||Jt(b.feed_url,v)))})}),s.jsx("div",{style:{display:"flex",justifyContent:"flex-end",paddingBottom:16},children:s.jsx(yi,{focusLock:!0,title:"Refresh all feeds?",onOk:x,children:s.jsx(ve,{icon:s.jsx(bi,{}),shape:"circle"})})})]}),s.jsx(Ba,{borderCell:!0,className:"feed-table",columns:g,data:f,pagePosition:"bottomCenter",scroll:{x:!0},size:"small"}),n&&s.jsx(Nr,{className:"edit-modal",onOk:i.submit,title:"Edit Feed",unmountOnExit:!0,visible:e,onCancel:()=>{t(!1),i.resetFields()},children:s.jsxs(ye,{form:i,labelCol:{span:7},layout:"vertical",wrapperCol:{span:17},onSubmit:async v=>{const b=v.url.trim(),T={url:v.url,title:v.title,categoryId:v.category,isFullText:v.crawler,hidden:v.hidden};b?await w(n.key,T):ee.error("Feed URL cannot be empty")},children:[s.jsx(ye.Item,{label:"Feed URL",field:"url",rules:[{required:!0}],children:s.jsx(tt,{placeholder:"Please input feed URL"})}),s.jsx(ye.Item,{label:"Title",field:"title",rules:[{required:!0}],children:s.jsx(tt,{placeholder:"Please input feed title"})}),s.jsx(ye.Item,{label:"Category",required:!0,field:"category",rules:[{required:!0}],children:s.jsx(Ce,{placeholder:"Please select",children:u.map(v=>s.jsx(Ce.Option,{value:v.id,children:v.title},v.id))})}),s.jsx(ye.Item,{label:"Hidden",field:"hidden",initialValue:n.hide_globally,triggerPropName:"checked",rules:[{type:"boolean"}],children:s.jsx(en,{})}),s.jsx(ye.Item,{label:"Fetch original content",field:"crawler",tooltip:s.jsx("div",{children:"Only affects newly retrieved articles"}),style:{marginBottom:0},triggerPropName:"checked",rules:[{type:"boolean"}],children:s.jsx(en,{})})]})})]})},hu=()=>{const{updateConfig:e}=Dr(),t=W(we),{homePage:n,markReadOnScroll:r,orderBy:i,pageSize:a,showStatus:c}=t;return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"setting-row",children:[s.jsxs("div",{children:[s.jsx(U.Title,{heading:6,style:{marginTop:0},children:"Default show status"}),s.jsx(U.Text,{type:"secondary",children:"Which status to show by default:"})]}),s.jsx("div",{children:s.jsxs(Ce,{className:"select-style",placeholder:"Select status",value:c,onChange:o=>e({showStatus:o}),children:[s.jsx(Ce.Option,{value:"all",children:"All"}),s.jsx(Ce.Option,{value:"unread",children:"Unread"})]})})]}),s.jsx(et,{}),s.jsxs("div",{className:"setting-row",children:[s.jsxs("div",{children:[s.jsx(U.Title,{heading:6,style:{marginTop:0},children:"Default home page"}),s.jsx(U.Text,{type:"secondary",children:"Which page to show by default:"})]}),s.jsx("div",{children:s.jsxs(Ce,{onChange:o=>e({homePage:o}),placeholder:"Select page",style:{width:128,marginLeft:16},value:n,children:[s.jsx(Ce.Option,{value:"all",children:"All"}),s.jsx(Ce.Option,{value:"today",children:"Today"}),s.jsx(Ce.Option,{value:"starred",children:"Starred"}),s.jsx(Ce.Option,{value:"history",children:"History"})]})})]}),s.jsx(et,{}),s.jsxs("div",{className:"setting-row",children:[s.jsxs("div",{children:[s.jsx(U.Title,{heading:6,style:{marginTop:0},children:"Entries order"}),s.jsx(U.Text,{type:"secondary",children:"What order to show entries:"})]}),s.jsx("div",{children:s.jsxs(Ce,{onChange:o=>e({orderBy:o}),placeholder:"Select order",style:{width:128,marginLeft:16},value:i,children:[s.jsx(Ce.Option,{value:"published_at",children:"Published at"}),s.jsx(Ce.Option,{value:"created_at",children:"Created at"})]})})]}),s.jsx(et,{}),s.jsxs("div",{className:"setting-row",children:[s.jsxs("div",{children:[s.jsx(U.Title,{heading:6,style:{marginTop:0},children:"Entries per page"}),s.jsx(U.Text,{type:"secondary",children:"Show how many entries per page:"})]}),s.jsx("div",{children:s.jsx(ec,{defaultValue:a,min:1,mode:"button",onChange:o=>e({pageSize:o}),size:"small",style:{width:128,marginLeft:16}})})]}),s.jsx(et,{}),s.jsxs("div",{className:"setting-row",children:[s.jsxs("div",{children:[s.jsx(U.Title,{heading:6,style:{marginTop:0},children:"Mark articles as read when scrolled off screen"}),s.jsx(U.Text,{type:"secondary",children:"Automatically mark articles as read when they are scrolled out of the visible screen area"})]}),s.jsx("div",{children:s.jsx(en,{checked:r,onChange:o=>e({markReadOnScroll:o})})})]})]})},mu=[{title:"Key",dataIndex:"keyName",render:e=>s.jsx(Bn,{children:e})},{title:"Function",dataIndex:"description"}],pu=[{key:"1",keyName:"Esc",description:"Dismiss article"},{key:"2",keyName:"←",description:"Previous article"},{key:"3",keyName:"→",description:"Next article"},{key:"4",keyName:"B",description:"Open link externally"},{key:"5",keyName:"D",description:"Fetch original article"},{key:"6",keyName:"M",description:"Mark as read / unread"},{key:"7",keyName:"S",description:"Star / Unstar"}],gu=()=>s.jsx(Ba,{borderCell:!0,columns:mu,data:pu,pagination:!1,size:"small",style:{margin:"0 auto",width:"80%"}}),vu=()=>s.jsxs(dn,{className:"custom-tabs",defaultActiveTab:"1",tabPosition:"top",children:[s.jsx(dn.TabPane,{title:s.jsxs("span",{children:[s.jsx(tc,{style:{marginRight:6}}),"Feeds"]}),children:s.jsx(fu,{})},"1"),s.jsx(dn.TabPane,{title:s.jsxs("span",{children:[s.jsx(nc,{style:{marginRight:6}}),"Categories"]}),children:s.jsx(du,{})},"2"),s.jsx(dn.TabPane,{title:s.jsxs("span",{children:[s.jsx(rc,{style:{marginRight:6}}),"General"]}),children:s.jsx(hu,{})},"3"),s.jsx(dn.TabPane,{title:s.jsxs("span",{children:[s.jsx(ic,{style:{marginRight:6}}),"Appearance"]}),children:s.jsx(uu,{})},"4"),s.jsx(dn.TabPane,{title:s.jsxs("span",{children:[s.jsx(sc,{style:{marginRight:6}}),"Hotkeys"]}),children:s.jsx(gu,{})},"5")]}),yu=[{required:!0}],bu=[{required:!0}],xu=[{type:"boolean"}],wu=()=>{const{setSettingsModalVisible:e,settingsModalVisible:t}=Yi();return s.jsx(Nr,{className:"settings-modal",visible:t,alignCenter:!1,title:"Settings",footer:null,unmountOnExit:!0,onCancel:()=>e(!1),autoFocus:!1,focusLock:!0,children:s.jsx(vu,{})})},Cu=()=>{const e=W(Jn),{addFeedModalVisible:t,setAddFeedModalVisible:n}=Yi(),[r,i]=S.useState(!1),[a]=ye.useForm(),{fetchData:c}=is(),o=async(l,u,d)=>{i(!0);try{await nu(l,u,d),c(),ee.success("Added a feed successfully"),n(!1),a.resetFields()}catch{ee.error("Failed to add a feed")}i(!1)};return s.jsx(Nr,{title:"Add Feed",visible:t,unmountOnExit:!0,style:{width:"400px"},onOk:a.submit,confirmLoading:r,onCancel:()=>{n(!1),a.resetFields()},children:s.jsxs(ye,{form:a,labelCol:{span:7},layout:"vertical",wrapperCol:{span:17},onSubmit:async l=>{l.url.trim()?await o(l.url.trim(),l.category,l.crawler):ee.error("Feed URL cannot be empty")},children:[s.jsx(ye.Item,{label:"Feed URL",field:"url",rules:yu,children:s.jsx(tt,{placeholder:"Please input a feed URL"})}),s.jsx(ye.Item,{label:"Category",required:!0,field:"category",rules:bu,children:s.jsx(Ce,{placeholder:"Please select a category",showSearch:!0,filterOption:(l,u)=>Jt(u.props.children,l),children:e.map(l=>s.jsx(Ce.Option,{value:l.id,children:l.title},l.id))})}),s.jsx(ye.Item,{label:"Fetch original content",initialValue:!1,field:"crawler",style:{marginBottom:0},triggerPropName:"checked",rules:xu,children:s.jsx(en,{})})]})})},Su=()=>s.jsxs("div",{className:"main",children:[s.jsx(ac,{}),s.jsx(wu,{}),s.jsx(Cu,{})]}),ho=Pt.Item,{Sider:ju}=dc,Eu=S.memo(({category:e,isOpen:t})=>{var i;const r=(i=W(uo)[e.id])==null?void 0:i.reduce((a,c)=>a+c.unreadCount,0);return s.jsxs("div",{className:"category-title",children:[s.jsxs(U.Ellipsis,{expandable:!1,showTooltip:!0,style:{width:r?"80%":"100%"},children:[s.jsx(oc,{className:t?"icon-open":"icon-closed"}),e.title]}),r>0&&s.jsx(U.Ellipsis,{className:"unread-count",expandable:!1,children:r})]})}),Tu=({atom:e})=>{const t=W(e);return s.jsx(U.Ellipsis,{className:"item-count",expandable:!1,children:t||""})},dr=({path:e,Icon:t,label:n,countAtom:r})=>{const i=za(),a=bn(),c=i.pathname===e;return s.jsx(ho,{onClick:()=>a(e),className:Hi("arco-menu-item",{"arco-menu-selected":c}),children:s.jsxs("div",{className:"custom-menu-item",children:[s.jsxs("span",{children:[s.jsx(t,{}),n]}),s.jsx(Tu,{atom:r})]})},e)},_u=({feed:e})=>{const t=Bi(e.site_url)?e.site_url:Qi(e.feed_url),{hostname:n}=new URL(t),r=`https://icons.duckduckgo.com/ip3/${n}.ico`;return s.jsx("img",{src:r,alt:"Feed icon",style:{marginRight:"8px",width:"16px",height:"16px",verticalAlign:"-2px"}})},Au=()=>{const e=za(),t=bn(),n=W(Jn),r=W(Zi),i=W(uo),a=W(lo),c=W(we),{homePage:o,showAllFeeds:l,showFeedIcon:u}=c,{collapsed:d,toggleCollapsed:f}=Za(),{screenWidth:p}=er(),[C,x]=S.useState([`/${o}`]),[h,g]=S.useState([]),w=e.pathname,v=(b,T)=>{g(T)};return S.useEffect(()=>{x([w])},[w]),S.useEffect(()=>{p<=992&&!d&&f()},[C]),s.jsx(ju,{breakpoint:"lg",className:"sidebar",collapsed:d,collapsedWidth:0,collapsible:!0,onCollapse:f,trigger:null,width:240,style:{borderRight:d?"none":"1px solid var(--color-border-2)",display:d?"none":"block"},children:s.jsxs(Pt,{autoScrollIntoView:!0,collapse:d,hasCollapseButton:!0,onClickSubMenu:v,onCollapseChange:f,selectedKeys:C,style:{width:"240px",height:"100%"},children:[s.jsxs("div",{className:"menu-header",style:{visibility:d?"hidden":"visible"},children:[s.jsx(Va,{className:"avatar",size:32,children:s.jsx(Ha,{style:{color:"var(--color-bg-1)"}})}),s.jsx(U.Title,{heading:6,style:{margin:"0"},children:"ReactFlux"})]}),s.jsx(et,{className:"divider"}),s.jsx(U.Title,{className:"section-title",heading:6,children:"Articles"}),s.jsx(Ar,{loading:!r,animation:!0,text:{rows:3}}),r&&s.jsxs("div",{children:[s.jsx(dr,{path:"/all",Icon:lc,label:"All",countAtom:ou}),s.jsx(dr,{path:"/today",Icon:cc,label:"Today",countAtom:Ji}),s.jsx(dr,{path:"/starred",Icon:zi,label:"Starred",countAtom:es}),s.jsx(dr,{path:"/history",Icon:uc,label:"History",countAtom:ts})]}),s.jsx(U.Title,{className:"section-title",heading:6,children:"Feeds"}),s.jsx(Ar,{loading:!r,animation:!0,text:{rows:6}}),r?n.filter(b=>l||!a.includes(b.id)).map(b=>{var T;return s.jsx(Pt.SubMenu,{selectable:!0,title:s.jsx(Eu,{category:b,isOpen:h.includes(`/category/${b.id}`)}),onClick:j=>{!(j.target.tagName==="svg"||j.target.tagName==="path")&&w!==`/category/${b.id}`&&t(`/category/${b.id}`)},children:(T=i[b.id])==null?void 0:T.map(j=>s.jsx(ho,{onClick:A=>{A.stopPropagation(),t(`/feed/${j.id}`)},children:s.jsxs("div",{className:"custom-menu-item",children:[s.jsxs(U.Ellipsis,{expandable:!1,showTooltip:!0,style:{width:j.unreadCount!==0?"80%":"100%"},children:[u&&s.jsx(_u,{feed:j}),j.title]}),j.unreadCount!==0&&s.jsx(U.Ellipsis,{className:"item-count",expandable:!1,children:j.unreadCount})]})},`/feed/${j.id}`))},`/category/${b.id}`)}):null]})})},ku=()=>{const{theme:e}=W(we),[t,n]=S.useState(window.matchMedia("(prefers-color-scheme: dark)").matches);return S.useEffect(()=>{const r=a=>{n(a.matches)},i=window.matchMedia("(prefers-color-scheme: dark)");return i.addEventListener("change",r),()=>{i.removeEventListener("change",r)}},[]),S.useEffect(()=>{const r=i=>{document.body.setAttribute("arco-theme",i?"dark":"light"),document.body.style.colorScheme=i?"dark":"light"};r(e==="system"?t:e==="dark")},[t,e]),s.jsxs("div",{className:"app",children:[s.jsx(Au,{}),s.jsx(Fc,{}),s.jsx(Su,{})]})};var mo={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const Mu=Symbol((mo?"production":void 0)!=="production"?"RESET":"");function po(e){const t=Symbol(),n=G(t);(mo?"production":void 0)!=="production"&&(n.debugPrivate=!0);const r=G((i,a)=>{const c=i(n);return c!==t?c:e(i,a)},(i,a,c)=>{if(c===Mu)a(n,t);else if(typeof c=="function"){const o=i(r);a(n,c(o))}else a(n,c)});return r}const go=G(0),Ur=G(0),vo=G(0),yo=G(0),$r=G(!1),Br=G(!1),tr=G([]),nr=G([]),ss=po(e=>e(we).homePage),wn=po(e=>{const t=e(ss);return["starred","history"].includes(t)?"all":e(we).showStatus}),bo=G(e=>e(wn)==="all"?e(tr):e(nr)),xo=G(0),Cn=qi(xo,e=>{const t=e(bo),n=e(as),r=e(wn),i=e(os),a=fo(t,n,r,i),c=e(ss),{showAllFeeds:o}=e(we),l=e(rs);return["all","today","category"].includes(c)&&!o?a.filter(u=>!l.includes(u.feed.id)):a}),as=G("0"),os=G(""),wo=G(!0),Co=G(!1),Iu=G(null),Sn=()=>{const[e,t]=Se(Iu);return{activeContent:e,setActiveContent:t}};var rr={};(function e(t,n,r,i){var a=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),c=typeof Path2D=="function"&&typeof DOMMatrix=="function",o=function(){if(!t.OffscreenCanvas)return!1;var y=new OffscreenCanvas(1,1),m=y.getContext("2d");m.fillRect(0,0,1,1);var I=y.transferToImageBitmap();try{m.createPattern(I,"no-repeat")}catch{return!1}return!0}();function l(){}function u(y){var m=n.exports.Promise,I=m!==void 0?m:t.Promise;return typeof I=="function"?new I(y):(y(l,l),null)}var d=function(y,m){return{transform:function(I){if(y)return I;if(m.has(I))return m.get(I);var P=new OffscreenCanvas(I.width,I.height),O=P.getContext("2d");return O.drawImage(I,0,0),m.set(I,P),P},clear:function(){m.clear()}}}(o,new Map),f=function(){var y=Math.floor(16.666666666666668),m,I,P={},O=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(m=function(N){var D=Math.random();return P[D]=requestAnimationFrame(function R(V){O===V||O+y-1<V?(O=V,delete P[D],N()):P[D]=requestAnimationFrame(R)}),D},I=function(N){P[N]&&cancelAnimationFrame(P[N])}):(m=function(N){return setTimeout(N,y)},I=function(N){return clearTimeout(N)}),{frame:m,cancel:I}}(),p=function(){var y,m,I={};function P(O){function N(D,R){O.postMessage({options:D||{},callback:R})}O.init=function(R){var V=R.transferControlToOffscreen();O.postMessage({canvas:V},[V])},O.fire=function(R,V,H){if(m)return N(R,null),m;var M=Math.random().toString(36).slice(2);return m=u(function($){function Q(ie){ie.data.callback===M&&(delete I[M],O.removeEventListener("message",Q),m=null,d.clear(),H(),$())}O.addEventListener("message",Q),N(R,M),I[M]=Q.bind(null,{data:{callback:M}})}),m},O.reset=function(){O.postMessage({reset:!0});for(var R in I)I[R](),delete I[R]}}return function(){if(y)return y;if(!r&&a){var O=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{y=new Worker(URL.createObjectURL(new Blob([O])))}catch(N){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("🎊 Could not load worker",N),null}P(y)}return y}}(),C={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function x(y,m){return m?m(y):y}function h(y){return y!=null}function g(y,m,I){return x(y&&h(y[m])?y[m]:C[m],I)}function w(y){return y<0?0:Math.floor(y)}function v(y,m){return Math.floor(Math.random()*(m-y))+y}function b(y){return parseInt(y,16)}function T(y){return y.map(j)}function j(y){var m=String(y).replace(/[^0-9a-f]/gi,"");return m.length<6&&(m=m[0]+m[0]+m[1]+m[1]+m[2]+m[2]),{r:b(m.substring(0,2)),g:b(m.substring(2,4)),b:b(m.substring(4,6))}}function A(y){var m=g(y,"origin",Object);return m.x=g(m,"x",Number),m.y=g(m,"y",Number),m}function F(y){y.width=document.documentElement.clientWidth,y.height=document.documentElement.clientHeight}function fe(y){var m=y.getBoundingClientRect();y.width=m.width,y.height=m.height}function k(y){var m=document.createElement("canvas");return m.style.position="fixed",m.style.top="0px",m.style.left="0px",m.style.pointerEvents="none",m.style.zIndex=y,m}function q(y,m,I,P,O,N,D,R,V){y.save(),y.translate(m,I),y.rotate(N),y.scale(P,O),y.arc(0,0,1,D,R,V),y.restore()}function B(y){var m=y.angle*(Math.PI/180),I=y.spread*(Math.PI/180);return{x:y.x,y:y.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:y.startVelocity*.5+Math.random()*y.startVelocity,angle2D:-m+(.5*I-Math.random()*I),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:y.color,shape:y.shape,tick:0,totalTicks:y.ticks,decay:y.decay,drift:y.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:y.gravity*3,ovalScalar:.6,scalar:y.scalar,flat:y.flat}}function ce(y,m){m.x+=Math.cos(m.angle2D)*m.velocity+m.drift,m.y+=Math.sin(m.angle2D)*m.velocity+m.gravity,m.velocity*=m.decay,m.flat?(m.wobble=0,m.wobbleX=m.x+10*m.scalar,m.wobbleY=m.y+10*m.scalar,m.tiltSin=0,m.tiltCos=0,m.random=1):(m.wobble+=m.wobbleSpeed,m.wobbleX=m.x+10*m.scalar*Math.cos(m.wobble),m.wobbleY=m.y+10*m.scalar*Math.sin(m.wobble),m.tiltAngle+=.1,m.tiltSin=Math.sin(m.tiltAngle),m.tiltCos=Math.cos(m.tiltAngle),m.random=Math.random()+2);var I=m.tick++/m.totalTicks,P=m.x+m.random*m.tiltCos,O=m.y+m.random*m.tiltSin,N=m.wobbleX+m.random*m.tiltCos,D=m.wobbleY+m.random*m.tiltSin;if(y.fillStyle="rgba("+m.color.r+", "+m.color.g+", "+m.color.b+", "+(1-I)+")",y.beginPath(),c&&m.shape.type==="path"&&typeof m.shape.path=="string"&&Array.isArray(m.shape.matrix))y.fill(je(m.shape.path,m.shape.matrix,m.x,m.y,Math.abs(N-P)*.1,Math.abs(D-O)*.1,Math.PI/10*m.wobble));else if(m.shape.type==="bitmap"){var R=Math.PI/10*m.wobble,V=Math.abs(N-P)*.1,H=Math.abs(D-O)*.1,M=m.shape.bitmap.width*m.scalar,$=m.shape.bitmap.height*m.scalar,Q=new DOMMatrix([Math.cos(R)*V,Math.sin(R)*V,-Math.sin(R)*H,Math.cos(R)*H,m.x,m.y]);Q.multiplySelf(new DOMMatrix(m.shape.matrix));var ie=y.createPattern(d.transform(m.shape.bitmap),"no-repeat");ie.setTransform(Q),y.globalAlpha=1-I,y.fillStyle=ie,y.fillRect(m.x-M/2,m.y-$/2,M,$),y.globalAlpha=1}else if(m.shape==="circle")y.ellipse?y.ellipse(m.x,m.y,Math.abs(N-P)*m.ovalScalar,Math.abs(D-O)*m.ovalScalar,Math.PI/10*m.wobble,0,2*Math.PI):q(y,m.x,m.y,Math.abs(N-P)*m.ovalScalar,Math.abs(D-O)*m.ovalScalar,Math.PI/10*m.wobble,0,2*Math.PI);else if(m.shape==="star")for(var X=Math.PI/2*3,Y=4*m.scalar,ke=8*m.scalar,pe=m.x,Te=m.y,Ue=5,ge=Math.PI/Ue;Ue--;)pe=m.x+Math.cos(X)*ke,Te=m.y+Math.sin(X)*ke,y.lineTo(pe,Te),X+=ge,pe=m.x+Math.cos(X)*Y,Te=m.y+Math.sin(X)*Y,y.lineTo(pe,Te),X+=ge;else y.moveTo(Math.floor(m.x),Math.floor(m.y)),y.lineTo(Math.floor(m.wobbleX),Math.floor(O)),y.lineTo(Math.floor(N),Math.floor(D)),y.lineTo(Math.floor(P),Math.floor(m.wobbleY));return y.closePath(),y.fill(),m.tick<m.totalTicks}function ue(y,m,I,P,O){var N=m.slice(),D=y.getContext("2d"),R,V,H=u(function(M){function $(){R=V=null,D.clearRect(0,0,P.width,P.height),d.clear(),O(),M()}function Q(){r&&!(P.width===i.width&&P.height===i.height)&&(P.width=y.width=i.width,P.height=y.height=i.height),!P.width&&!P.height&&(I(y),P.width=y.width,P.height=y.height),D.clearRect(0,0,P.width,P.height),N=N.filter(function(ie){return ce(D,ie)}),N.length?R=f.frame(Q):$()}R=f.frame(Q),V=$});return{addFettis:function(M){return N=N.concat(M),H},canvas:y,promise:H,reset:function(){R&&f.cancel(R),V&&V()}}}function se(y,m){var I=!y,P=!!g(m||{},"resize"),O=!1,N=g(m,"disableForReducedMotion",Boolean),D=a&&!!g(m||{},"useWorker"),R=D?p():null,V=I?F:fe,H=y&&R?!!y.__confetti_initialized:!1,M=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,$;function Q(X,Y,ke){for(var pe=g(X,"particleCount",w),Te=g(X,"angle",Number),Ue=g(X,"spread",Number),ge=g(X,"startVelocity",Number),dt=g(X,"decay",Number),Ut=g(X,"gravity",Number),Xe=g(X,"drift",Number),$t=g(X,"colors",T),Bt=g(X,"ticks",Number),Ye=g(X,"shapes"),$e=g(X,"scalar"),st=!!g(X,"flat"),jt=A(X),zt=pe,Et=[],nn=y.width*jt.x,Ie=y.height*jt.y;zt--;)Et.push(B({x:nn,y:Ie,angle:Te,spread:Ue,startVelocity:ge,color:$t[zt%$t.length],shape:Ye[v(0,Ye.length)],ticks:Bt,decay:dt,gravity:Ut,drift:Xe,scalar:$e,flat:st}));return $?$.addFettis(Et):($=ue(y,Et,V,Y,ke),$.promise)}function ie(X){var Y=N||g(X,"disableForReducedMotion",Boolean),ke=g(X,"zIndex",Number);if(Y&&M)return u(function(ge){ge()});I&&$?y=$.canvas:I&&!y&&(y=k(ke),document.body.appendChild(y)),P&&!H&&V(y);var pe={width:y.width,height:y.height};R&&!H&&R.init(y),H=!0,R&&(y.__confetti_initialized=!0);function Te(){if(R){var ge={getBoundingClientRect:function(){if(!I)return y.getBoundingClientRect()}};V(ge),R.postMessage({resize:{width:ge.width,height:ge.height}});return}pe.width=pe.height=null}function Ue(){$=null,P&&(O=!1,t.removeEventListener("resize",Te)),I&&y&&(document.body.removeChild(y),y=null,H=!1)}return P&&!O&&(O=!0,t.addEventListener("resize",Te,!1)),R?R.fire(X,pe,Ue):Q(X,pe,Ue)}return ie.reset=function(){R&&R.reset(),$&&$.reset()},ie}var ae;function me(){return ae||(ae=se(null,{useWorker:!0,resize:!0})),ae}function je(y,m,I,P,O,N,D){var R=new Path2D(y),V=new Path2D;V.addPath(R,new DOMMatrix(m));var H=new Path2D;return H.addPath(V,new DOMMatrix([Math.cos(D)*O,Math.sin(D)*O,-Math.sin(D)*N,Math.cos(D)*N,I,P])),H}function Ee(y){if(!c)throw new Error("path confetti are not supported in this browser");var m,I;typeof y=="string"?m=y:(m=y.path,I=y.matrix);var P=new Path2D(m),O=document.createElement("canvas"),N=O.getContext("2d");if(!I){for(var D=1e3,R=D,V=D,H=0,M=0,$,Q,ie=0;ie<D;ie+=2)for(var X=0;X<D;X+=2)N.isPointInPath(P,ie,X,"nonzero")&&(R=Math.min(R,ie),V=Math.min(V,X),H=Math.max(H,ie),M=Math.max(M,X));$=H-R,Q=M-V;var Y=10,ke=Math.min(Y/$,Y/Q);I=[ke,0,0,ke,-Math.round($/2+R)*ke,-Math.round(Q/2+V)*ke]}return{type:"path",path:m,matrix:I}}function St(y){var m,I=1,P="#000000",O='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof y=="string"?m=y:(m=y.text,I="scalar"in y?y.scalar:I,O="fontFamily"in y?y.fontFamily:O,P="color"in y?y.color:P);var N=10*I,D=""+N+"px "+O,R=new OffscreenCanvas(N,N),V=R.getContext("2d");V.font=D;var H=V.measureText(m),M=Math.ceil(H.actualBoundingBoxRight+H.actualBoundingBoxLeft),$=Math.ceil(H.actualBoundingBoxAscent+H.actualBoundingBoxDescent),Q=2,ie=H.actualBoundingBoxLeft+Q,X=H.actualBoundingBoxAscent+Q;M+=Q+Q,$+=Q+Q,R=new OffscreenCanvas(M,$),V=R.getContext("2d"),V.font=D,V.fillStyle=P,V.fillText(m,ie,X);var Y=1/I;return{type:"bitmap",bitmap:R.transferToImageBitmap(),matrix:[Y,0,0,Y,-M*Y/2,-$*Y/2]}}n.exports=function(){return me().apply(this,arguments)},n.exports.reset=function(){me().reset()},n.exports.create=se,n.exports.shapeFromPath=Ee,n.exports.shapeFromText=St})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),rr,!1);const Pu=rr.exports;rr.exports.create;const ls=()=>{const e=te(Lr),t=te(Ji),n=te(ts),r=te(es),{activeContent:i,setActiveContent:a}=Sn(),c=te(tr),o=te(Cn),l=te(Ur),u=te(nr),d=(g,w)=>g.map(v=>v.id===w.id?w:v),f=(g,w)=>{const v=g.feed.id,b=Xc(g.published_at);w==="read"?(e(j=>({...j,[v]:Math.max(0,j[v]-1)})),l(j=>Math.max(0,j-1)),n(j=>j+1),b&&t(j=>Math.max(0,j-1))):(e(j=>({...j,[v]:j[v]+1})),l(j=>j+1),n(j=>Math.max(0,j-1)),b&&t(j=>j+1));const T={...g,status:w};i&&a(T),c(j=>d(j,T)),u(j=>d(j,T)),o(j=>d(j,T))},p=(g,w)=>{w?(r(b=>b+1),Pu({particleCount:100,angle:120,spread:70,origin:{x:1,y:1}})):r(b=>Math.max(0,b-1));const v={...g,starred:w};i&&a(v),c(b=>d(b,v)),u(b=>d(b,v)),o(b=>d(b,v))};return{handleEntryStatusUpdate:f,handleFetchContent:async()=>{try{const g=await Kc(i.id);ee.success("Fetched content successfully"),a({...i,content:g.data.content})}catch{ee.error("Failed to fetch content, please try again later")}},handleToggleStarred:async g=>{const w=!g.starred;p(g,w),Gc(g.id).catch(()=>{ee.error(`Failed to ${w?"star":"unstar"} entry, please try again later`),p(g,!w)})},handleToggleStatus:async g=>{const w=g.status,v=w==="read"?"unread":"read";f(g,v),Ki([g.id],v).catch(()=>{ee.error(`Failed to mark entry as ${v}, please try again later`),f(g,w)})}}},Ws=(e,t="start")=>{const n=document.querySelector(e);n&&n.scrollIntoView({behavior:"smooth",block:t})},cs=()=>{const e=W(we),{pageSize:t,showAllFeeds:n}=e,r=W(rs),[i,a]=Se(tr),[c,o]=Se(vo),[l,u]=Se(nr),[d,f]=Se(yo),p=W(wn),C=W(os),x=W(as),h=te(Cn),g=te(Br),w=te($r),v=W(go),b=W(Ur),[T,j]=S.useState(!1),A=B=>{var ae;const se=(ae=new DOMParser().parseFromString(B.content,"text/html").querySelector("img"))==null?void 0:ae.getAttribute("src");return{...B,imgSrc:se}},F=()=>{p==="all"?o(B=>B+t):f(B=>B+t)},fe=B=>{const ce=new Map([...(p==="all"?i:l).map(se=>[se.id,se]),...B.map(se=>[se.id,se])]),ue=Array.from(ce.values());return p==="all"?(a(ue),w(ue.length<v)):(u(ue),g(ue.length<b)),ue},k=(B,ce)=>{const ue=C?fo(B,x,p,C):B;return cu(ue,ce,n,r)};return{parseFirstImage:A,handleLoadMore:async(B,ce)=>{var ue;j(!0);try{let se;if(p==="all"?se=await ce(c+t):se=await ce(d+t,p),(ue=se==null?void 0:se.data)!=null&&ue.entries){F();const ae=se.data.entries.map(A),me=fe(ae),je=k(me,B);h(je)}}catch(se){console.error("Error fetching more articles:",se)}j(!1)},loadingMore:T}},So=(e,t,n)=>{const r=W(Cn),i=W(wn),a=W(Br),c=W($r),{activeContent:o,setActiveContent:l}=Sn(),{handleLoadMore:u}=cs(),[d,f]=S.useState(!1),[p,C]=S.useState(!1),{isMobileView:x}=er();S.useEffect(()=>{const A=document.querySelector(".entry-list");!A||!x||(o?A.style.visibility="hidden":A.style.visibility="visible")},[o,x]),S.useEffect(()=>{p&&!d&&(w(e),C(!1))},[d,p]);const h=(A,F)=>{o&&(l(null),A.current&&(A.current.setAttribute("tabIndex","-1"),A.current.focus()),F.current&&F.current.scrollTo(0,0))},g=()=>{const A=r.findIndex(F=>F.id===(o==null?void 0:o.id));if(A>0){const F=r[A-1];t(F),Ws(".card-custom-selected-style","end")}},w=async A=>{if(d)return;const F=r.findIndex(k=>k.id===(o==null?void 0:o.id));if(F===r.length-1&&(i==="all"&&c||a)){try{f(!0),await u(A,n),C(!0)}catch{ee.error("Failed to load more articles, please try again later")}finally{f(!1)}return}if(F===-1){const k=document.querySelector(".entry-list");k&&k.scrollTo(0,0)}if(F<r.length-1){const k=r[F+1];t(k),C(!1),Ws(".card-custom-selected-style")}};return{handleEscapeKey:h,handleLeftKey:g,handleRightKey:w,handleBKey:()=>{o&&window.open(o.url,"_blank")},handleDKey:A=>{o&&A()},handleMKey:A=>{o&&A()},handleSKey:A=>{o&&A()}}};var jo={},us={},ds={};Object.defineProperty(ds,"__esModule",{value:!0});var qs="html",Xs="head",fr="body",Ou=/<([a-zA-Z]+[0-9]?)/,Ys=/<head[^]*>/i,Gs=/<body[^]*>/i,Mr=function(e,t){throw new Error("This browser does not support `document.implementation.createHTMLDocument`")},Ci=function(e,t){throw new Error("This browser does not support `DOMParser.prototype.parseFromString`")},Ks=typeof window=="object"&&window.DOMParser;if(typeof Ks=="function"){var Ru=new Ks,Fu="text/html";Ci=function(e,t){return t&&(e="<".concat(t,">").concat(e,"</").concat(t,">")),Ru.parseFromString(e,Fu)},Mr=Ci}if(typeof document=="object"&&document.implementation){var hr=document.implementation.createHTMLDocument();Mr=function(e,t){if(t){var n=hr.documentElement.querySelector(t);return n&&(n.innerHTML=e),hr}return hr.documentElement.innerHTML=e,hr}}var mr=typeof document=="object"&&document.createElement("template"),Si;mr&&mr.content&&(Si=function(e){return mr.innerHTML=e,mr.content.childNodes});function Nu(e){var t,n,r=e.match(Ou),i=r&&r[1]?r[1].toLowerCase():"";switch(i){case qs:{var a=Ci(e);if(!Ys.test(e)){var c=a.querySelector(Xs);(t=c==null?void 0:c.parentNode)===null||t===void 0||t.removeChild(c)}if(!Gs.test(e)){var c=a.querySelector(fr);(n=c==null?void 0:c.parentNode)===null||n===void 0||n.removeChild(c)}return a.querySelectorAll(qs)}case Xs:case fr:{var o=Mr(e).querySelectorAll(i);return Gs.test(e)&&Ys.test(e)?o[0].parentNode.childNodes:o}default:{if(Si)return Si(e);var c=Mr(e,fr).querySelector(fr);return c.childNodes}}}ds.default=Nu;var vn={},Eo={},ir={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Doctype=e.CDATA=e.Tag=e.Style=e.Script=e.Comment=e.Directive=e.Text=e.Root=e.isTag=e.ElementType=void 0;var t;(function(r){r.Root="root",r.Text="text",r.Directive="directive",r.Comment="comment",r.Script="script",r.Style="style",r.Tag="tag",r.CDATA="cdata",r.Doctype="doctype"})(t=e.ElementType||(e.ElementType={}));function n(r){return r.type===t.Tag||r.type===t.Script||r.type===t.Style}e.isTag=n,e.Root=t.Root,e.Text=t.Text,e.Directive=t.Directive,e.Comment=t.Comment,e.Script=t.Script,e.Style=t.Style,e.Tag=t.Tag,e.CDATA=t.CDATA,e.Doctype=t.Doctype})(ir);var Z={},Dt=le&&le.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Rn=le&&le.__assign||function(){return Rn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Rn.apply(this,arguments)};Object.defineProperty(Z,"__esModule",{value:!0});Z.cloneNode=Z.hasChildren=Z.isDocument=Z.isDirective=Z.isComment=Z.isText=Z.isCDATA=Z.isTag=Z.Element=Z.Document=Z.CDATA=Z.NodeWithChildren=Z.ProcessingInstruction=Z.Comment=Z.Text=Z.DataNode=Z.Node=void 0;var Ne=ir,fs=function(){function e(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent},set:function(t){this.parent=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return this.prev},set:function(t){this.prev=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return this.next},set:function(t){this.next=t},enumerable:!1,configurable:!0}),e.prototype.cloneNode=function(t){return t===void 0&&(t=!1),hs(this,t)},e}();Z.Node=fs;var zr=function(e){Dt(t,e);function t(n){var r=e.call(this)||this;return r.data=n,r}return Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.data},set:function(n){this.data=n},enumerable:!1,configurable:!0}),t}(fs);Z.DataNode=zr;var To=function(e){Dt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=Ne.ElementType.Text,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),t}(zr);Z.Text=To;var _o=function(e){Dt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=Ne.ElementType.Comment,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),t}(zr);Z.Comment=_o;var Ao=function(e){Dt(t,e);function t(n,r){var i=e.call(this,r)||this;return i.name=n,i.type=Ne.ElementType.Directive,i}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),t}(zr);Z.ProcessingInstruction=Ao;var Hr=function(e){Dt(t,e);function t(n){var r=e.call(this)||this;return r.children=n,r}return Object.defineProperty(t.prototype,"firstChild",{get:function(){var n;return(n=this.children[0])!==null&&n!==void 0?n:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.children},set:function(n){this.children=n},enumerable:!1,configurable:!0}),t}(fs);Z.NodeWithChildren=Hr;var ko=function(e){Dt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=Ne.ElementType.CDATA,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),t}(Hr);Z.CDATA=ko;var Mo=function(e){Dt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=Ne.ElementType.Root,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),t}(Hr);Z.Document=Mo;var Io=function(e){Dt(t,e);function t(n,r,i,a){i===void 0&&(i=[]),a===void 0&&(a=n==="script"?Ne.ElementType.Script:n==="style"?Ne.ElementType.Style:Ne.ElementType.Tag);var c=e.call(this,i)||this;return c.name=n,c.attribs=r,c.type=a,c}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tagName",{get:function(){return this.name},set:function(n){this.name=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){var n=this;return Object.keys(this.attribs).map(function(r){var i,a;return{name:r,value:n.attribs[r],namespace:(i=n["x-attribsNamespace"])===null||i===void 0?void 0:i[r],prefix:(a=n["x-attribsPrefix"])===null||a===void 0?void 0:a[r]}})},enumerable:!1,configurable:!0}),t}(Hr);Z.Element=Io;function Po(e){return(0,Ne.isTag)(e)}Z.isTag=Po;function Oo(e){return e.type===Ne.ElementType.CDATA}Z.isCDATA=Oo;function Ro(e){return e.type===Ne.ElementType.Text}Z.isText=Ro;function Fo(e){return e.type===Ne.ElementType.Comment}Z.isComment=Fo;function No(e){return e.type===Ne.ElementType.Directive}Z.isDirective=No;function Do(e){return e.type===Ne.ElementType.Root}Z.isDocument=Do;function Du(e){return Object.prototype.hasOwnProperty.call(e,"children")}Z.hasChildren=Du;function hs(e,t){t===void 0&&(t=!1);var n;if(Ro(e))n=new To(e.data);else if(Fo(e))n=new _o(e.data);else if(Po(e)){var r=t?oi(e.children):[],i=new Io(e.name,Rn({},e.attribs),r);r.forEach(function(l){return l.parent=i}),e.namespace!=null&&(i.namespace=e.namespace),e["x-attribsNamespace"]&&(i["x-attribsNamespace"]=Rn({},e["x-attribsNamespace"])),e["x-attribsPrefix"]&&(i["x-attribsPrefix"]=Rn({},e["x-attribsPrefix"])),n=i}else if(Oo(e)){var r=t?oi(e.children):[],a=new ko(r);r.forEach(function(u){return u.parent=a}),n=a}else if(Do(e)){var r=t?oi(e.children):[],c=new Mo(r);r.forEach(function(u){return u.parent=c}),e["x-mode"]&&(c["x-mode"]=e["x-mode"]),n=c}else if(No(e)){var o=new Ao(e.name,e.data);e["x-name"]!=null&&(o["x-name"]=e["x-name"],o["x-publicId"]=e["x-publicId"],o["x-systemId"]=e["x-systemId"]),n=o}else throw new Error("Not implemented yet: ".concat(e.type));return n.startIndex=e.startIndex,n.endIndex=e.endIndex,e.sourceCodeLocation!=null&&(n.sourceCodeLocation=e.sourceCodeLocation),n}Z.cloneNode=hs;function oi(e){for(var t=e.map(function(r){return hs(r,!0)}),n=1;n<t.length;n++)t[n].prev=t[n-1],t[n-1].next=t[n];return t}(function(e){var t=le&&le.__createBinding||(Object.create?function(o,l,u,d){d===void 0&&(d=u);var f=Object.getOwnPropertyDescriptor(l,u);(!f||("get"in f?!l.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return l[u]}}),Object.defineProperty(o,d,f)}:function(o,l,u,d){d===void 0&&(d=u),o[d]=l[u]}),n=le&&le.__exportStar||function(o,l){for(var u in o)u!=="default"&&!Object.prototype.hasOwnProperty.call(l,u)&&t(l,o,u)};Object.defineProperty(e,"__esModule",{value:!0}),e.DomHandler=void 0;var r=ir,i=Z;n(Z,e);var a={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},c=function(){function o(l,u,d){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof u=="function"&&(d=u,u=a),typeof l=="object"&&(u=l,l=void 0),this.callback=l??null,this.options=u??a,this.elementCB=d??null}return o.prototype.onparserinit=function(l){this.parser=l},o.prototype.onreset=function(){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},o.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},o.prototype.onerror=function(l){this.handleCallback(l)},o.prototype.onclosetag=function(){this.lastNode=null;var l=this.tagStack.pop();this.options.withEndIndices&&(l.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(l)},o.prototype.onopentag=function(l,u){var d=this.options.xmlMode?r.ElementType.Tag:void 0,f=new i.Element(l,u,void 0,d);this.addNode(f),this.tagStack.push(f)},o.prototype.ontext=function(l){var u=this.lastNode;if(u&&u.type===r.ElementType.Text)u.data+=l,this.options.withEndIndices&&(u.endIndex=this.parser.endIndex);else{var d=new i.Text(l);this.addNode(d),this.lastNode=d}},o.prototype.oncomment=function(l){if(this.lastNode&&this.lastNode.type===r.ElementType.Comment){this.lastNode.data+=l;return}var u=new i.Comment(l);this.addNode(u),this.lastNode=u},o.prototype.oncommentend=function(){this.lastNode=null},o.prototype.oncdatastart=function(){var l=new i.Text(""),u=new i.CDATA([l]);this.addNode(u),l.parent=u,this.lastNode=l},o.prototype.oncdataend=function(){this.lastNode=null},o.prototype.onprocessinginstruction=function(l,u){var d=new i.ProcessingInstruction(l,u);this.addNode(d)},o.prototype.handleCallback=function(l){if(typeof this.callback=="function")this.callback(l,this.dom);else if(l)throw l},o.prototype.addNode=function(l){var u=this.tagStack[this.tagStack.length-1],d=u.children[u.children.length-1];this.options.withStartIndices&&(l.startIndex=this.parser.startIndex),this.options.withEndIndices&&(l.endIndex=this.parser.endIndex),u.children.push(l),d&&(l.prev=d,d.next=l),l.parent=u,this.lastNode=null},o}();e.DomHandler=c,e.default=c})(Eo);var Lo={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CASE_SENSITIVE_TAG_NAMES_MAP=e.CASE_SENSITIVE_TAG_NAMES=void 0,e.CASE_SENSITIVE_TAG_NAMES=["animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","linearGradient","radialGradient","textPath"],e.CASE_SENSITIVE_TAG_NAMES_MAP=e.CASE_SENSITIVE_TAG_NAMES.reduce(function(t,n){return t[n.toLowerCase()]=n,t},{})})(Lo);Object.defineProperty(vn,"__esModule",{value:!0});vn.formatDOM=vn.formatAttributes=void 0;var pr=Eo,Lu=Lo;function Vu(e){return Lu.CASE_SENSITIVE_TAG_NAMES_MAP[e]}function Vo(e){for(var t={},n=0,r=e.length;n<r;n++){var i=e[n];t[i.name]=i.value}return t}vn.formatAttributes=Vo;function Uu(e){e=e.toLowerCase();var t=Vu(e);return t||e}function Uo(e,t,n){t===void 0&&(t=null);for(var r=[],i,a=0,c=e.length;a<c;a++){var o=e[a];switch(o.nodeType){case 1:{var l=Uu(o.nodeName);i=new pr.Element(l,Vo(o.attributes)),i.children=Uo(l==="template"?o.content.childNodes:o.childNodes,i);break}case 3:i=new pr.Text(o.nodeValue);break;case 8:i=new pr.Comment(o.nodeValue);break;default:continue}var u=r[a-1]||null;u&&(u.next=i),i.parent=t,i.prev=u,i.next=null,r.push(i)}return n&&(i=new pr.ProcessingInstruction(n.substring(0,n.indexOf(" ")).toLowerCase(),n),i.next=r[0]||null,i.parent=t,r.unshift(i),r[1]&&(r[1].prev=r[0])),r}vn.formatDOM=Uo;var $u=le&&le.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(us,"__esModule",{value:!0});var Bu=$u(ds),zu=vn,Hu=/<(![a-zA-Z\s]+)>/;function Wu(e){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];var t=e.match(Hu),n=t?t[1]:void 0;return(0,zu.formatDOM)((0,Bu.default)(e),null,n)}us.default=Wu;var Wr={},it={},qr={},qu=0;qr.SAME=qu;var Xu=1;qr.CAMELCASE=Xu;qr.possibleStandardNames={accept:0,acceptCharset:1,"accept-charset":"acceptCharset",accessKey:1,action:0,allowFullScreen:1,alt:0,as:0,async:0,autoCapitalize:1,autoComplete:1,autoCorrect:1,autoFocus:1,autoPlay:1,autoSave:1,capture:0,cellPadding:1,cellSpacing:1,challenge:0,charSet:1,checked:0,children:0,cite:0,class:"className",classID:1,className:1,cols:0,colSpan:1,content:0,contentEditable:1,contextMenu:1,controls:0,controlsList:1,coords:0,crossOrigin:1,dangerouslySetInnerHTML:1,data:0,dateTime:1,default:0,defaultChecked:1,defaultValue:1,defer:0,dir:0,disabled:0,disablePictureInPicture:1,disableRemotePlayback:1,download:0,draggable:0,encType:1,enterKeyHint:1,for:"htmlFor",form:0,formMethod:1,formAction:1,formEncType:1,formNoValidate:1,formTarget:1,frameBorder:1,headers:0,height:0,hidden:0,high:0,href:0,hrefLang:1,htmlFor:1,httpEquiv:1,"http-equiv":"httpEquiv",icon:0,id:0,innerHTML:1,inputMode:1,integrity:0,is:0,itemID:1,itemProp:1,itemRef:1,itemScope:1,itemType:1,keyParams:1,keyType:1,kind:0,label:0,lang:0,list:0,loop:0,low:0,manifest:0,marginWidth:1,marginHeight:1,max:0,maxLength:1,media:0,mediaGroup:1,method:0,min:0,minLength:1,multiple:0,muted:0,name:0,noModule:1,nonce:0,noValidate:1,open:0,optimum:0,pattern:0,placeholder:0,playsInline:1,poster:0,preload:0,profile:0,radioGroup:1,readOnly:1,referrerPolicy:1,rel:0,required:0,reversed:0,role:0,rows:0,rowSpan:1,sandbox:0,scope:0,scoped:0,scrolling:0,seamless:0,selected:0,shape:0,size:0,sizes:0,span:0,spellCheck:1,src:0,srcDoc:1,srcLang:1,srcSet:1,start:0,step:0,style:0,summary:0,tabIndex:1,target:0,title:0,type:0,useMap:1,value:0,width:0,wmode:0,wrap:0,about:0,accentHeight:1,"accent-height":"accentHeight",accumulate:0,additive:0,alignmentBaseline:1,"alignment-baseline":"alignmentBaseline",allowReorder:1,alphabetic:0,amplitude:0,arabicForm:1,"arabic-form":"arabicForm",ascent:0,attributeName:1,attributeType:1,autoReverse:1,azimuth:0,baseFrequency:1,baselineShift:1,"baseline-shift":"baselineShift",baseProfile:1,bbox:0,begin:0,bias:0,by:0,calcMode:1,capHeight:1,"cap-height":"capHeight",clip:0,clipPath:1,"clip-path":"clipPath",clipPathUnits:1,clipRule:1,"clip-rule":"clipRule",color:0,colorInterpolation:1,"color-interpolation":"colorInterpolation",colorInterpolationFilters:1,"color-interpolation-filters":"colorInterpolationFilters",colorProfile:1,"color-profile":"colorProfile",colorRendering:1,"color-rendering":"colorRendering",contentScriptType:1,contentStyleType:1,cursor:0,cx:0,cy:0,d:0,datatype:0,decelerate:0,descent:0,diffuseConstant:1,direction:0,display:0,divisor:0,dominantBaseline:1,"dominant-baseline":"dominantBaseline",dur:0,dx:0,dy:0,edgeMode:1,elevation:0,enableBackground:1,"enable-background":"enableBackground",end:0,exponent:0,externalResourcesRequired:1,fill:0,fillOpacity:1,"fill-opacity":"fillOpacity",fillRule:1,"fill-rule":"fillRule",filter:0,filterRes:1,filterUnits:1,floodOpacity:1,"flood-opacity":"floodOpacity",floodColor:1,"flood-color":"floodColor",focusable:0,fontFamily:1,"font-family":"fontFamily",fontSize:1,"font-size":"fontSize",fontSizeAdjust:1,"font-size-adjust":"fontSizeAdjust",fontStretch:1,"font-stretch":"fontStretch",fontStyle:1,"font-style":"fontStyle",fontVariant:1,"font-variant":"fontVariant",fontWeight:1,"font-weight":"fontWeight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:1,"glyph-name":"glyphName",glyphOrientationHorizontal:1,"glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphOrientationVertical:1,"glyph-orientation-vertical":"glyphOrientationVertical",glyphRef:1,gradientTransform:1,gradientUnits:1,hanging:0,horizAdvX:1,"horiz-adv-x":"horizAdvX",horizOriginX:1,"horiz-origin-x":"horizOriginX",ideographic:0,imageRendering:1,"image-rendering":"imageRendering",in2:0,in:0,inlist:0,intercept:0,k1:0,k2:0,k3:0,k4:0,k:0,kernelMatrix:1,kernelUnitLength:1,kerning:0,keyPoints:1,keySplines:1,keyTimes:1,lengthAdjust:1,letterSpacing:1,"letter-spacing":"letterSpacing",lightingColor:1,"lighting-color":"lightingColor",limitingConeAngle:1,local:0,markerEnd:1,"marker-end":"markerEnd",markerHeight:1,markerMid:1,"marker-mid":"markerMid",markerStart:1,"marker-start":"markerStart",markerUnits:1,markerWidth:1,mask:0,maskContentUnits:1,maskUnits:1,mathematical:0,mode:0,numOctaves:1,offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:1,"overline-position":"overlinePosition",overlineThickness:1,"overline-thickness":"overlineThickness",paintOrder:1,"paint-order":"paintOrder",panose1:0,"panose-1":"panose1",pathLength:1,patternContentUnits:1,patternTransform:1,patternUnits:1,pointerEvents:1,"pointer-events":"pointerEvents",points:0,pointsAtX:1,pointsAtY:1,pointsAtZ:1,prefix:0,preserveAlpha:1,preserveAspectRatio:1,primitiveUnits:1,property:0,r:0,radius:0,refX:1,refY:1,renderingIntent:1,"rendering-intent":"renderingIntent",repeatCount:1,repeatDur:1,requiredExtensions:1,requiredFeatures:1,resource:0,restart:0,result:0,results:0,rotate:0,rx:0,ry:0,scale:0,security:0,seed:0,shapeRendering:1,"shape-rendering":"shapeRendering",slope:0,spacing:0,specularConstant:1,specularExponent:1,speed:0,spreadMethod:1,startOffset:1,stdDeviation:1,stemh:0,stemv:0,stitchTiles:1,stopColor:1,"stop-color":"stopColor",stopOpacity:1,"stop-opacity":"stopOpacity",strikethroughPosition:1,"strikethrough-position":"strikethroughPosition",strikethroughThickness:1,"strikethrough-thickness":"strikethroughThickness",string:0,stroke:0,strokeDasharray:1,"stroke-dasharray":"strokeDasharray",strokeDashoffset:1,"stroke-dashoffset":"strokeDashoffset",strokeLinecap:1,"stroke-linecap":"strokeLinecap",strokeLinejoin:1,"stroke-linejoin":"strokeLinejoin",strokeMiterlimit:1,"stroke-miterlimit":"strokeMiterlimit",strokeWidth:1,"stroke-width":"strokeWidth",strokeOpacity:1,"stroke-opacity":"strokeOpacity",suppressContentEditableWarning:1,suppressHydrationWarning:1,surfaceScale:1,systemLanguage:1,tableValues:1,targetX:1,targetY:1,textAnchor:1,"text-anchor":"textAnchor",textDecoration:1,"text-decoration":"textDecoration",textLength:1,textRendering:1,"text-rendering":"textRendering",to:0,transform:0,typeof:0,u1:0,u2:0,underlinePosition:1,"underline-position":"underlinePosition",underlineThickness:1,"underline-thickness":"underlineThickness",unicode:0,unicodeBidi:1,"unicode-bidi":"unicodeBidi",unicodeRange:1,"unicode-range":"unicodeRange",unitsPerEm:1,"units-per-em":"unitsPerEm",unselectable:0,vAlphabetic:1,"v-alphabetic":"vAlphabetic",values:0,vectorEffect:1,"vector-effect":"vectorEffect",version:0,vertAdvY:1,"vert-adv-y":"vertAdvY",vertOriginX:1,"vert-origin-x":"vertOriginX",vertOriginY:1,"vert-origin-y":"vertOriginY",vHanging:1,"v-hanging":"vHanging",vIdeographic:1,"v-ideographic":"vIdeographic",viewBox:1,viewTarget:1,visibility:0,vMathematical:1,"v-mathematical":"vMathematical",vocab:0,widths:0,wordSpacing:1,"word-spacing":"wordSpacing",writingMode:1,"writing-mode":"writingMode",x1:0,x2:0,x:0,xChannelSelector:1,xHeight:1,"x-height":"xHeight",xlinkActuate:1,"xlink:actuate":"xlinkActuate",xlinkArcrole:1,"xlink:arcrole":"xlinkArcrole",xlinkHref:1,"xlink:href":"xlinkHref",xlinkRole:1,"xlink:role":"xlinkRole",xlinkShow:1,"xlink:show":"xlinkShow",xlinkTitle:1,"xlink:title":"xlinkTitle",xlinkType:1,"xlink:type":"xlinkType",xmlBase:1,"xml:base":"xmlBase",xmlLang:1,"xml:lang":"xmlLang",xmlns:0,"xml:space":"xmlSpace",xmlnsXlink:1,"xmlns:xlink":"xmlnsXlink",xmlSpace:1,y1:0,y2:0,y:0,yChannelSelector:1,z:0,zoomAndPan:1};const $o=0,Lt=1,Xr=2,Yr=3,ms=4,Bo=5,zo=6;function Yu(e){return Ae.hasOwnProperty(e)?Ae[e]:null}function Re(e,t,n,r,i,a,c){this.acceptsBooleans=t===Xr||t===Yr||t===ms,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=c}const Ae={},Gu=["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"];Gu.forEach(e=>{Ae[e]=new Re(e,$o,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(([e,t])=>{Ae[e]=new Re(e,Lt,!1,t,null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(e=>{Ae[e]=new Re(e,Xr,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(e=>{Ae[e]=new Re(e,Xr,!1,e,null,!1,!1)});["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach(e=>{Ae[e]=new Re(e,Yr,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(e=>{Ae[e]=new Re(e,Yr,!0,e,null,!1,!1)});["capture","download"].forEach(e=>{Ae[e]=new Re(e,ms,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(e=>{Ae[e]=new Re(e,zo,!1,e,null,!1,!1)});["rowSpan","start"].forEach(e=>{Ae[e]=new Re(e,Bo,!1,e.toLowerCase(),null,!1,!1)});const ps=/[\-\:]([a-z])/g,gs=e=>e[1].toUpperCase();["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach(e=>{const t=e.replace(ps,gs);Ae[t]=new Re(t,Lt,!1,e,null,!1,!1)});["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach(e=>{const t=e.replace(ps,gs);Ae[t]=new Re(t,Lt,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(e=>{const t=e.replace(ps,gs);Ae[t]=new Re(t,Lt,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(e=>{Ae[e]=new Re(e,Lt,!1,e.toLowerCase(),null,!1,!1)});const Ku="xlinkHref";Ae[Ku]=new Re("xlinkHref",Lt,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(e=>{Ae[e]=new Re(e,Lt,!1,e.toLowerCase(),null,!0,!0)});const{CAMELCASE:Qu,SAME:Zu,possibleStandardNames:Qs}=qr,Ju=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",ed=Ju+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",td=RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+ed+"]*$")),nd=Object.keys(Qs).reduce((e,t)=>{const n=Qs[t];return n===Zu?e[t]=t:n===Qu?e[t.toLowerCase()]=t:e[t]=n,e},{});it.BOOLEAN=Yr;it.BOOLEANISH_STRING=Xr;it.NUMERIC=Bo;it.OVERLOADED_BOOLEAN=ms;it.POSITIVE_NUMERIC=zo;it.RESERVED=$o;it.STRING=Lt;it.getPropertyInfo=Yu;it.isCustomAttribute=td;it.possibleStandardNames=nd;var vs={},ys={},Zs=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,rd=/\n/g,id=/^\s*/,sd=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,ad=/^:\s*/,od=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,ld=/^[;\s]*/,cd=/^\s+|\s+$/g,ud=`
`,Js="/",ea="*",Kt="",dd="comment",fd="declaration",hd=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(x){var h=x.match(rd);h&&(n+=h.length);var g=x.lastIndexOf(ud);r=~g?x.length-g:r+x.length}function a(){var x={line:n,column:r};return function(h){return h.position=new c(x),u(),h}}function c(x){this.start=x,this.end={line:n,column:r},this.source=t.source}c.prototype.content=e;function o(x){var h=new Error(t.source+":"+n+":"+r+": "+x);if(h.reason=x,h.filename=t.source,h.line=n,h.column=r,h.source=e,!t.silent)throw h}function l(x){var h=x.exec(e);if(h){var g=h[0];return i(g),e=e.slice(g.length),h}}function u(){l(id)}function d(x){var h;for(x=x||[];h=f();)h!==!1&&x.push(h);return x}function f(){var x=a();if(!(Js!=e.charAt(0)||ea!=e.charAt(1))){for(var h=2;Kt!=e.charAt(h)&&(ea!=e.charAt(h)||Js!=e.charAt(h+1));)++h;if(h+=2,Kt===e.charAt(h-1))return o("End of comment missing");var g=e.slice(2,h-2);return r+=2,i(g),e=e.slice(h),r+=2,x({type:dd,comment:g})}}function p(){var x=a(),h=l(sd);if(h){if(f(),!l(ad))return o("property missing ':'");var g=l(od),w=x({type:fd,property:ta(h[0].replace(Zs,Kt)),value:g?ta(g[0].replace(Zs,Kt)):Kt});return l(ld),w}}function C(){var x=[];d(x);for(var h;h=p();)h!==!1&&(x.push(h),d(x));return x}return u(),C()};function ta(e){return e?e.replace(cd,Kt):Kt}var md=le&&le.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ys,"__esModule",{value:!0});var pd=md(hd);function gd(e,t){var n=null;if(!e||typeof e!="string")return n;var r=(0,pd.default)(e),i=typeof t=="function";return r.forEach(function(a){if(a.type==="declaration"){var c=a.property,o=a.value;i?t(c,o,a):o&&(n=n||{},n[c]=o)}}),n}ys.default=gd;var Gr={};Object.defineProperty(Gr,"__esModule",{value:!0});Gr.camelCase=void 0;var vd=/^--[a-zA-Z0-9-]+$/,yd=/-([a-z])/g,bd=/^[^-]+$/,xd=/^-(webkit|moz|ms|o|khtml)-/,wd=/^-(ms)-/,Cd=function(e){return!e||bd.test(e)||vd.test(e)},Sd=function(e,t){return t.toUpperCase()},na=function(e,t){return"".concat(t,"-")},jd=function(e,t){return t===void 0&&(t={}),Cd(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(wd,na):e=e.replace(xd,na),e.replace(yd,Sd))};Gr.camelCase=jd;var Ed=le&&le.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Td=Ed(ys),_d=Gr;function ji(e,t){var n={};return!e||typeof e!="string"||(0,Td.default)(e,function(r,i){r&&i&&(n[(0,_d.camelCase)(r,t)]=i)}),n}ji.default=ji;var Ad=ji;(function(e){var t=le&&le.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0}),e.returnFirstArg=e.canTextBeChildOfNode=e.ELEMENTS_WITH_NO_TEXT_CHILDREN=e.PRESERVE_CUSTOM_ATTRIBUTES=e.setStyleProp=e.isCustomComponent=void 0;var n=S,r=t(Ad),i=new Set(["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"]);function a(d,f){return d.includes("-")?!i.has(d):!!(f&&typeof f.is=="string")}e.isCustomComponent=a;var c={reactCompat:!0};function o(d,f){if(typeof d=="string"){if(!d.trim()){f.style={};return}try{f.style=(0,r.default)(d,c)}catch{f.style={}}}}e.setStyleProp=o,e.PRESERVE_CUSTOM_ATTRIBUTES=Number(n.version.split(".")[0])>=16,e.ELEMENTS_WITH_NO_TEXT_CHILDREN=new Set(["tr","tbody","thead","tfoot","colgroup","table","head","html","frameset"]);var l=function(d){return!e.ELEMENTS_WITH_NO_TEXT_CHILDREN.has(d.name)};e.canTextBeChildOfNode=l;var u=function(d){return d};e.returnFirstArg=u})(vs);Object.defineProperty(Wr,"__esModule",{value:!0});var Pn=it,ra=vs,kd=["checked","value"],Md=["input","select","textarea"],Id={reset:!0,submit:!0};function Pd(e,t){e===void 0&&(e={});var n={},r=!!(e.type&&Id[e.type]);for(var i in e){var a=e[i];if((0,Pn.isCustomAttribute)(i)){n[i]=a;continue}var c=i.toLowerCase(),o=ia(c);if(o){var l=(0,Pn.getPropertyInfo)(o);switch(kd.includes(o)&&Md.includes(t)&&!r&&(o=ia("default"+c)),n[o]=a,l&&l.type){case Pn.BOOLEAN:n[o]=!0;break;case Pn.OVERLOADED_BOOLEAN:a===""&&(n[o]=!0);break}continue}ra.PRESERVE_CUSTOM_ATTRIBUTES&&(n[i]=a)}return(0,ra.setStyleProp)(e.style,n),n}Wr.default=Pd;function ia(e){return Pn.possibleStandardNames[e]}var bs={},Od=le&&le.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bs,"__esModule",{value:!0});var li=S,Rd=Od(Wr),Fn=vs,Fd={cloneElement:li.cloneElement,createElement:li.createElement,isValidElement:li.isValidElement};function Ho(e,t){t===void 0&&(t={});for(var n=[],r=typeof t.replace=="function",i=t.transform||Fn.returnFirstArg,a=t.library||Fd,c=a.cloneElement,o=a.createElement,l=a.isValidElement,u=e.length,d=0;d<u;d++){var f=e[d];if(r){var p=t.replace(f,d);if(l(p)){u>1&&(p=c(p,{key:p.key||d})),n.push(i(p,f,d));continue}}if(f.type==="text"){var C=!f.data.trim().length;if(C&&f.parent&&!(0,Fn.canTextBeChildOfNode)(f.parent)||t.trim&&C)continue;n.push(i(f.data,f,d));continue}var x=f,h={};Nd(x)?((0,Fn.setStyleProp)(x.attribs.style,x.attribs),h=x.attribs):x.attribs&&(h=(0,Rd.default)(x.attribs,x.name));var g=void 0;switch(f.type){case"script":case"style":f.children[0]&&(h.dangerouslySetInnerHTML={__html:f.children[0].data});break;case"tag":f.name==="textarea"&&f.children[0]?h.defaultValue=f.children[0].data:f.children&&f.children.length&&(g=Ho(f.children,t));break;default:continue}u>1&&(h.key=d),n.push(i(o(f.name,h,g),f,d))}return n.length===1?n[0]:n}bs.default=Ho;function Nd(e){return Fn.PRESERVE_CUSTOM_ATTRIBUTES&&e.type==="tag"&&(0,Fn.isCustomComponent)(e.name,e.attribs)}var Wo={},J={},Vt=le&&le.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Nn=le&&le.__assign||function(){return Nn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Nn.apply(this,arguments)};Object.defineProperty(J,"__esModule",{value:!0});J.cloneNode=J.hasChildren=J.isDocument=J.isDirective=J.isComment=J.isText=J.isCDATA=J.isTag=J.Element=J.Document=J.CDATA=J.NodeWithChildren=J.ProcessingInstruction=J.Comment=J.Text=J.DataNode=J.Node=void 0;var De=ir,xs=function(){function e(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent},set:function(t){this.parent=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return this.prev},set:function(t){this.prev=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return this.next},set:function(t){this.next=t},enumerable:!1,configurable:!0}),e.prototype.cloneNode=function(t){return t===void 0&&(t=!1),ws(this,t)},e}();J.Node=xs;var Kr=function(e){Vt(t,e);function t(n){var r=e.call(this)||this;return r.data=n,r}return Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.data},set:function(n){this.data=n},enumerable:!1,configurable:!0}),t}(xs);J.DataNode=Kr;var qo=function(e){Vt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=De.ElementType.Text,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),t}(Kr);J.Text=qo;var Xo=function(e){Vt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=De.ElementType.Comment,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),t}(Kr);J.Comment=Xo;var Yo=function(e){Vt(t,e);function t(n,r){var i=e.call(this,r)||this;return i.name=n,i.type=De.ElementType.Directive,i}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),t}(Kr);J.ProcessingInstruction=Yo;var Qr=function(e){Vt(t,e);function t(n){var r=e.call(this)||this;return r.children=n,r}return Object.defineProperty(t.prototype,"firstChild",{get:function(){var n;return(n=this.children[0])!==null&&n!==void 0?n:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.children},set:function(n){this.children=n},enumerable:!1,configurable:!0}),t}(xs);J.NodeWithChildren=Qr;var Go=function(e){Vt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=De.ElementType.CDATA,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),t}(Qr);J.CDATA=Go;var Ko=function(e){Vt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=De.ElementType.Root,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),t}(Qr);J.Document=Ko;var Qo=function(e){Vt(t,e);function t(n,r,i,a){i===void 0&&(i=[]),a===void 0&&(a=n==="script"?De.ElementType.Script:n==="style"?De.ElementType.Style:De.ElementType.Tag);var c=e.call(this,i)||this;return c.name=n,c.attribs=r,c.type=a,c}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tagName",{get:function(){return this.name},set:function(n){this.name=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){var n=this;return Object.keys(this.attribs).map(function(r){var i,a;return{name:r,value:n.attribs[r],namespace:(i=n["x-attribsNamespace"])===null||i===void 0?void 0:i[r],prefix:(a=n["x-attribsPrefix"])===null||a===void 0?void 0:a[r]}})},enumerable:!1,configurable:!0}),t}(Qr);J.Element=Qo;function Zo(e){return(0,De.isTag)(e)}J.isTag=Zo;function Jo(e){return e.type===De.ElementType.CDATA}J.isCDATA=Jo;function el(e){return e.type===De.ElementType.Text}J.isText=el;function tl(e){return e.type===De.ElementType.Comment}J.isComment=tl;function nl(e){return e.type===De.ElementType.Directive}J.isDirective=nl;function rl(e){return e.type===De.ElementType.Root}J.isDocument=rl;function Dd(e){return Object.prototype.hasOwnProperty.call(e,"children")}J.hasChildren=Dd;function ws(e,t){t===void 0&&(t=!1);var n;if(el(e))n=new qo(e.data);else if(tl(e))n=new Xo(e.data);else if(Zo(e)){var r=t?ci(e.children):[],i=new Qo(e.name,Nn({},e.attribs),r);r.forEach(function(l){return l.parent=i}),e.namespace!=null&&(i.namespace=e.namespace),e["x-attribsNamespace"]&&(i["x-attribsNamespace"]=Nn({},e["x-attribsNamespace"])),e["x-attribsPrefix"]&&(i["x-attribsPrefix"]=Nn({},e["x-attribsPrefix"])),n=i}else if(Jo(e)){var r=t?ci(e.children):[],a=new Go(r);r.forEach(function(u){return u.parent=a}),n=a}else if(rl(e)){var r=t?ci(e.children):[],c=new Ko(r);r.forEach(function(u){return u.parent=c}),e["x-mode"]&&(c["x-mode"]=e["x-mode"]),n=c}else if(nl(e)){var o=new Yo(e.name,e.data);e["x-name"]!=null&&(o["x-name"]=e["x-name"],o["x-publicId"]=e["x-publicId"],o["x-systemId"]=e["x-systemId"]),n=o}else throw new Error("Not implemented yet: ".concat(e.type));return n.startIndex=e.startIndex,n.endIndex=e.endIndex,e.sourceCodeLocation!=null&&(n.sourceCodeLocation=e.sourceCodeLocation),n}J.cloneNode=ws;function ci(e){for(var t=e.map(function(r){return ws(r,!0)}),n=1;n<t.length;n++)t[n].prev=t[n-1],t[n-1].next=t[n];return t}(function(e){var t=le&&le.__createBinding||(Object.create?function(o,l,u,d){d===void 0&&(d=u);var f=Object.getOwnPropertyDescriptor(l,u);(!f||("get"in f?!l.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return l[u]}}),Object.defineProperty(o,d,f)}:function(o,l,u,d){d===void 0&&(d=u),o[d]=l[u]}),n=le&&le.__exportStar||function(o,l){for(var u in o)u!=="default"&&!Object.prototype.hasOwnProperty.call(l,u)&&t(l,o,u)};Object.defineProperty(e,"__esModule",{value:!0}),e.DomHandler=void 0;var r=ir,i=J;n(J,e);var a={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},c=function(){function o(l,u,d){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof u=="function"&&(d=u,u=a),typeof l=="object"&&(u=l,l=void 0),this.callback=l??null,this.options=u??a,this.elementCB=d??null}return o.prototype.onparserinit=function(l){this.parser=l},o.prototype.onreset=function(){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},o.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},o.prototype.onerror=function(l){this.handleCallback(l)},o.prototype.onclosetag=function(){this.lastNode=null;var l=this.tagStack.pop();this.options.withEndIndices&&(l.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(l)},o.prototype.onopentag=function(l,u){var d=this.options.xmlMode?r.ElementType.Tag:void 0,f=new i.Element(l,u,void 0,d);this.addNode(f),this.tagStack.push(f)},o.prototype.ontext=function(l){var u=this.lastNode;if(u&&u.type===r.ElementType.Text)u.data+=l,this.options.withEndIndices&&(u.endIndex=this.parser.endIndex);else{var d=new i.Text(l);this.addNode(d),this.lastNode=d}},o.prototype.oncomment=function(l){if(this.lastNode&&this.lastNode.type===r.ElementType.Comment){this.lastNode.data+=l;return}var u=new i.Comment(l);this.addNode(u),this.lastNode=u},o.prototype.oncommentend=function(){this.lastNode=null},o.prototype.oncdatastart=function(){var l=new i.Text(""),u=new i.CDATA([l]);this.addNode(u),l.parent=u,this.lastNode=l},o.prototype.oncdataend=function(){this.lastNode=null},o.prototype.onprocessinginstruction=function(l,u){var d=new i.ProcessingInstruction(l,u);this.addNode(d)},o.prototype.handleCallback=function(l){if(typeof this.callback=="function")this.callback(l,this.dom);else if(l)throw l},o.prototype.addNode=function(l){var u=this.tagStack[this.tagStack.length-1],d=u.children[u.children.length-1];this.options.withStartIndices&&(l.startIndex=this.parser.startIndex),this.options.withEndIndices&&(l.endIndex=this.parser.endIndex),u.children.push(l),d&&(l.prev=d,d.next=l),l.parent=u,this.lastNode=null},o}();e.DomHandler=c,e.default=c})(Wo);(function(e){var t=le&&le.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(e,"__esModule",{value:!0}),e.htmlToDOM=e.domToReact=e.attributesToProps=e.Text=e.ProcessingInstruction=e.Element=e.Comment=void 0;var n=t(us);e.htmlToDOM=n.default;var r=t(Wr);e.attributesToProps=r.default;var i=t(bs);e.domToReact=i.default;var a=Wo;Object.defineProperty(e,"Comment",{enumerable:!0,get:function(){return a.Comment}}),Object.defineProperty(e,"Element",{enumerable:!0,get:function(){return a.Element}}),Object.defineProperty(e,"ProcessingInstruction",{enumerable:!0,get:function(){return a.ProcessingInstruction}}),Object.defineProperty(e,"Text",{enumerable:!0,get:function(){return a.Text}});var c={lowerCaseAttributeNames:!1};function o(l,u){if(typeof l!="string")throw new TypeError("First argument must be a string");return l?(0,i.default)((0,n.default)(l,(u==null?void 0:u.htmlparser2)||c),u):[]}e.default=o})(jo);const sa=$i(jo),Ld=sa.default||sa;function Me(){return Me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Me.apply(this,arguments)}function Cs(e,t){if(e==null)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t.indexOf(n=a[r])>=0||(i[n]=e[n]);return i}function jr(e){var t=S.useRef({fn:e,curr:void 0}).current;if(t.fn=e,!t.curr){var n=Object.create(null);Object.keys(e).forEach(function(r){n[r]=function(){var i;return(i=t.fn[r]).call.apply(i,[t.fn].concat([].slice.call(arguments)))}}),t.curr=n}return t.curr}function Ei(e){return S.useReducer(function(t,n){return Me({},t,typeof n=="function"?n(t):n)},e)}S.createContext(void 0);var xt=typeof window<"u"&&"ontouchstart"in window,Ti=function(e,t,n){return Math.max(Math.min(e,n),t)},gr=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=0),Ti(e,1*(1-n),Math.max(6,t)*(1+n))},_i=typeof window>"u"||/ServerSideRendering/.test(navigator&&navigator.userAgent)?S.useEffect:S.useLayoutEffect;function hn(e,t,n){var r=S.useRef(t);r.current=t,S.useEffect(function(){function i(a){r.current(a)}return e&&window.addEventListener(e,i,n),function(){e&&window.removeEventListener(e,i)}},[e])}var Vd=["container"];function Ud(e){var t=e.container,n=t===void 0?document.body:t,r=Cs(e,Vd);return Wa.createPortal(ne.createElement("div",Me({},r)),n)}function $d(e){return ne.createElement("svg",Me({width:"44",height:"44",viewBox:"0 0 768 768"},e),ne.createElement("path",{d:"M607.5 205.5l-178.5 178.5 178.5 178.5-45 45-178.5-178.5-178.5 178.5-45-45 178.5-178.5-178.5-178.5 45-45 178.5 178.5 178.5-178.5z"}))}function Bd(e){return ne.createElement("svg",Me({width:"44",height:"44",viewBox:"0 0 768 768"},e),ne.createElement("path",{d:"M640.5 352.5v63h-390l178.5 180-45 45-256.5-256.5 256.5-256.5 45 45-178.5 180h390z"}))}function zd(e){return ne.createElement("svg",Me({width:"44",height:"44",viewBox:"0 0 768 768"},e),ne.createElement("path",{d:"M384 127.5l256.5 256.5-256.5 256.5-45-45 178.5-180h-390v-63h390l-178.5-180z"}))}function Hd(){return S.useEffect(function(){var e=document.body.style,t=e.overflow;return e.overflow="hidden",function(){e.overflow=t}},[]),null}function aa(e){var t=e.touches[0],n=t.clientX,r=t.clientY;if(e.touches.length>=2){var i=e.touches[1],a=i.clientX,c=i.clientY;return[(n+a)/2,(r+c)/2,Math.sqrt(Math.pow(a-n,2)+Math.pow(c-r,2))]}return[n,r,0]}var It=function(e,t,n,r){var i=n*t,a=(i-r)/2,c=void 0,o=e;return i<=r?(c=1,o=0):e>0&&a-e<=0?(c=2,o=a):e<0&&a+e<=0&&(c=3,o=-a),[c,o]};function ui(e,t,n,r,i,a,c,o,l,u){c===void 0&&(c=innerWidth/2),o===void 0&&(o=innerHeight/2),l===void 0&&(l=0),u===void 0&&(u=0);var d=It(e,a,n,innerWidth)[0],f=It(t,a,r,innerHeight),p=innerWidth/2,C=innerHeight/2;return{x:c-a/i*(c-(p+e))-p+(r/n>=3&&n*a===innerWidth?0:d?l/2:l),y:o-a/i*(o-(C+t))-C+(f[0]?u/2:u),lastCX:c,lastCY:o}}function Ai(e,t,n){var r=e%180!=0;return r?[n,t,r]:[t,n,r]}function di(e,t,n){var r=Ai(n,innerWidth,innerHeight),i=r[0],a=r[1],c=0,o=i,l=a,u=e/t*a,d=t/e*i;return e<i&&t<a?(o=e,l=t):e<i&&t>=a?o=u:e>=i&&t<a||e/t>i/a?l=d:t/e>=3&&!r[2]?c=((l=d)-a)/2:o=u,{width:o,height:l,x:0,y:c,pause:!0}}function vr(e,t){var n=t.leading,r=n!==void 0&&n,i=t.maxWait,a=t.wait,c=a===void 0?i||0:a,o=S.useRef(e);o.current=e;var l=S.useRef(0),u=S.useRef(),d=function(){return u.current&&clearTimeout(u.current)},f=S.useCallback(function(){var p=[].slice.call(arguments),C=Date.now();function x(){l.current=C,d(),o.current.apply(null,p)}var h=l.current,g=C-h;if(h===0&&(r&&x(),l.current=C),i!==void 0){if(g>i)return void x()}else g<c&&(l.current=C);d(),u.current=setTimeout(function(){x(),l.current=0},c)},[c,i,r]);return f.cancel=d,f}var oa=function(e,t,n){return Qt(e,t,n,100,function(r){return r},function(){return Qt(t,e,n)})},Wd=function(e){return 1-Math.pow(1-e,4)};function Qt(e,t,n,r,i,a){r===void 0&&(r=400),i===void 0&&(i=Wd);var c=t-e;if(c!==0){var o=Date.now(),l=0,u=function(){var f=Math.min(1,(Date.now()-o)/r);n(e+i(f)*c)&&f<1?d():(cancelAnimationFrame(l),f>=1&&a&&a())};d()}function d(){l=requestAnimationFrame(u)}}var qd={T:0,L:0,W:0,H:0,FIT:void 0},il=function(){var e=S.useRef(!1);return S.useEffect(function(){return e.current=!0,function(){e.current=!1}},[]),e},Xd=["className"];function Yd(e){var t=e.className,n=Cs(e,Xd);return ne.createElement("div",Me({className:"PhotoView__Spinner "+t},n),ne.createElement("svg",{viewBox:"0 0 32 32",width:"36",height:"36",fill:"white"},ne.createElement("path",{opacity:".25",d:"M16 0 A16 16 0 0 0 16 32 A16 16 0 0 0 16 0 M16 4 A12 12 0 0 1 16 28 A12 12 0 0 1 16 4"}),ne.createElement("path",{d:"M16 0 A16 16 0 0 1 32 16 L28 16 A12 12 0 0 0 16 4z"})))}var Gd=["src","loaded","broken","className","onPhotoLoad","loadingElement","brokenElement"];function Kd(e){var t=e.src,n=e.loaded,r=e.broken,i=e.className,a=e.onPhotoLoad,c=e.loadingElement,o=e.brokenElement,l=Cs(e,Gd),u=il();return t&&!r?ne.createElement(ne.Fragment,null,ne.createElement("img",Me({className:"PhotoView__Photo"+(i?" "+i:""),src:t,onLoad:function(d){var f=d.target;u.current&&a({loaded:!0,naturalWidth:f.naturalWidth,naturalHeight:f.naturalHeight})},onError:function(){u.current&&a({broken:!0})},alt:""},l)),!n&&(ne.createElement("span",{className:"PhotoView__icon"},c)||ne.createElement(Yd,{className:"PhotoView__icon"}))):o?ne.createElement("span",{className:"PhotoView__icon"},typeof o=="function"?o({src:t}):o):null}var Qd={naturalWidth:void 0,naturalHeight:void 0,width:void 0,height:void 0,loaded:void 0,broken:!1,x:0,y:0,touched:!1,maskTouched:!1,rotate:0,scale:1,CX:0,CY:0,lastX:0,lastY:0,lastCX:0,lastCY:0,lastScale:1,touchTime:0,touchLength:0,pause:!0,stopRaf:!0,reach:void 0};function Zd(e){var t=e.item,n=t.src,r=t.render,i=t.width,a=i===void 0?0:i,c=t.height,o=c===void 0?0:c,l=t.originRef,u=e.visible,d=e.speed,f=e.easing,p=e.wrapClassName,C=e.className,x=e.style,h=e.loadingElement,g=e.brokenElement,w=e.onPhotoTap,v=e.onMaskTap,b=e.onReachMove,T=e.onReachUp,j=e.onPhotoResize,A=e.isActive,F=e.expose,fe=Ei(Qd),k=fe[0],q=fe[1],B=S.useRef(0),ce=il(),ue=k.naturalWidth,se=ue===void 0?a:ue,ae=k.naturalHeight,me=ae===void 0?o:ae,je=k.width,Ee=je===void 0?a:je,St=k.height,y=St===void 0?o:St,m=k.loaded,I=m===void 0?!n:m,P=k.broken,O=k.x,N=k.y,D=k.touched,R=k.stopRaf,V=k.maskTouched,H=k.rotate,M=k.scale,$=k.CX,Q=k.CY,ie=k.lastX,X=k.lastY,Y=k.lastCX,ke=k.lastCY,pe=k.lastScale,Te=k.touchTime,Ue=k.touchLength,ge=k.pause,dt=k.reach,Ut=jr({onScale:function(E){return Xe(gr(E))},onRotate:function(E){H!==E&&(F({rotate:E}),q(Me({rotate:E},di(se,me,E))))}});function Xe(E,L,oe){M!==E&&(F({scale:E}),q(Me({scale:E},ui(O,N,Ee,y,M,E,L,oe),E<=1&&{x:0,y:0})))}var $t=vr(function(E,L,oe){if(oe===void 0&&(oe=0),(D||V)&&A){var Ht=Ai(H,Ee,y),ft=Ht[0],Ge=Ht[1];if(oe===0&&B.current===0){var _e=Math.abs(E-$)<=20,Le=Math.abs(L-Q)<=20;if(_e&&Le)return void q({lastCX:E,lastCY:L});B.current=_e?L>Q?3:2:1}var Wt=E-Y,qt=L-ke,Ke=void 0;if(oe===0){var Xt=It(Wt+ie,M,ft,innerWidth)[0],an=It(qt+X,M,Ge,innerHeight);Ke=function(Tt,mt,pt,ot){return mt&&Tt===1||ot==="x"?"x":pt&&Tt>1||ot==="y"?"y":void 0}(B.current,Xt,an[0],dt),Ke!==void 0&&b(Ke,E,L,M)}if(Ke==="x"||V)return void q({reach:"x"});var ht=gr(M+(oe-Ue)/100/2*M,se/Ee,.2);F({scale:ht}),q(Me({touchLength:oe,reach:Ke,scale:ht},ui(O,N,Ee,y,M,ht,E,L,Wt,qt)))}},{maxWait:8});function Bt(E){return!R&&!D&&(ce.current&&q(Me({},E,{pause:u})),ce.current)}var Ye,$e,st,jt,zt,Et,nn,Ie,lr=(zt=function(E){return Bt({x:E})},Et=function(E){return Bt({y:E})},nn=function(E){return ce.current&&(F({scale:E}),q({scale:E})),!D&&ce.current},Ie=jr({X:function(E){return zt(E)},Y:function(E){return Et(E)},S:function(E){return nn(E)}}),function(E,L,oe,Ht,ft,Ge,_e,Le,Wt,qt,Ke){var Xt=Ai(qt,ft,Ge),an=Xt[0],ht=Xt[1],Tt=It(E,Le,an,innerWidth),mt=Tt[0],pt=Tt[1],ot=It(L,Le,ht,innerHeight),on=ot[0],ur=ot[1],ln=Date.now()-Ke;if(ln>=200||Le!=_e||Math.abs(Wt-_e)>1){var _t=ui(E,L,ft,Ge,_e,Le),gt=_t.x,Yt=_t.y,Be=mt?pt:gt!==E?gt:null,cn=on?ur:Yt!==L?Yt:null;return Be!==null&&Qt(E,Be,Ie.X),cn!==null&&Qt(L,cn,Ie.Y),void(Le!=_e&&Qt(_e,Le,Ie.S))}var Gt=(E-oe)/ln,At=(L-Ht)/ln,kt=Math.sqrt(Math.pow(Gt,2)+Math.pow(At,2)),vt=!1,yt=!1;(function(Qe,Pe){var Oe=Qe,bt=0,Ze=void 0,ze=0,un=function(_n){Ze||(Ze=_n);var An=_n-Ze,Ds=Math.sign(Qe),Ls=-.001*Ds,Vs=Math.sign(-Oe)*Math.pow(Oe,2)*2e-4,Vl=Oe*An+(Ls+Vs)*Math.pow(An,2)/2;bt+=Vl,Ze=_n,Ds*(Oe+=(Ls+Vs)*An)<=0?He():Pe(bt)?lt():He()};function lt(){ze=requestAnimationFrame(un)}function He(){cancelAnimationFrame(ze)}lt()})(kt,function(Qe){var Pe=E+Qe*(Gt/kt),Oe=L+Qe*(At/kt),bt=It(Pe,_e,an,innerWidth),Ze=bt[0],ze=bt[1],un=It(Oe,_e,ht,innerHeight),lt=un[0],He=un[1];if(Ze&&!vt&&(vt=!0,mt?Qt(Pe,ze,Ie.X):oa(ze,Pe+(Pe-ze),Ie.X)),lt&&!yt&&(yt=!0,on?Qt(Oe,He,Ie.Y):oa(He,Oe+(Oe-He),Ie.Y)),vt&&yt)return!1;var _n=vt||Ie.X(ze),An=yt||Ie.Y(He);return _n&&An})}),rn=(Ye=w,$e=function(E,L){dt||Xe(M!==1?1:Math.max(2,se/Ee),E,L)},st=S.useRef(0),jt=vr(function(){st.current=0,Ye.apply(void 0,[].slice.call(arguments))},{wait:300}),function(){var E=[].slice.call(arguments);st.current+=1,jt.apply(void 0,E),st.current>=2&&(jt.cancel(),st.current=0,$e.apply(void 0,E))});function sn(E,L){if(B.current=0,(D||V)&&A){q({touched:!1,maskTouched:!1,pause:!1,stopRaf:!1,reach:void 0});var oe=gr(M,se/Ee);if(lr(O,N,ie,X,Ee,y,M,oe,pe,H,Te),T(E,L),$===E&&Q===L){if(D)return void rn(E,L);V&&v(E,L)}}}function Tn(E,L,oe){oe===void 0&&(oe=0),q({touched:!0,CX:E,CY:L,lastCX:E,lastCY:L,lastX:O,lastY:N,lastScale:M,touchLength:oe,touchTime:Date.now()})}function cr(E){q({maskTouched:!0,CX:E.clientX,CY:E.clientY,lastX:O,lastY:N})}hn(xt?void 0:"mousemove",function(E){E.preventDefault(),$t(E.clientX,E.clientY)}),hn(xt?void 0:"mouseup",function(E){sn(E.clientX,E.clientY)}),hn(xt?"touchmove":void 0,function(E){E.preventDefault();var L=aa(E);$t.apply(void 0,L)},{passive:!1}),hn(xt?"touchend":void 0,function(E){var L=E.changedTouches[0];sn(L.clientX,L.clientY)},{passive:!1}),hn("resize",vr(function(){I&&!D&&(q(di(se,me,H)),j())},{maxWait:8})),_i(function(){A&&F(Me({scale:M,rotate:H},Ut))},[A]);var at=function(E,L,oe,Ht,ft,Ge,_e,Le,Wt,qt){var Ke=function(gt,Yt,Be,cn,Gt){var At=S.useRef(!1),kt=Ei({lead:!0,scale:Be}),vt=kt[0],yt=vt.lead,Qe=vt.scale,Pe=kt[1],Oe=vr(function(bt){try{return Gt(!0),Pe({lead:!1,scale:bt}),Promise.resolve()}catch(Ze){return Promise.reject(Ze)}},{wait:cn});return _i(function(){At.current?(Gt(!1),Pe({lead:!0}),Oe(Be)):At.current=!0},[Be]),yt?[gt*Qe,Yt*Qe,Be/Qe]:[gt*Be,Yt*Be,1]}(Ge,_e,Le,Wt,qt),Xt=Ke[0],an=Ke[1],ht=Ke[2],Tt=function(gt,Yt,Be,cn,Gt){var At=S.useState(qd),kt=At[0],vt=At[1],yt=S.useState(0),Qe=yt[0],Pe=yt[1],Oe=S.useRef(),bt=jr({OK:function(){return gt&&Pe(4)}});function Ze(ze){Gt(!1),Pe(ze)}return S.useEffect(function(){if(Oe.current||(Oe.current=Date.now()),Be){if(function(ze,un){var lt=ze&&ze.current;if(lt&&lt.nodeType===1){var He=lt.getBoundingClientRect();un({T:He.top,L:He.left,W:He.width,H:He.height,FIT:lt.tagName==="IMG"?getComputedStyle(lt).objectFit:void 0})}}(Yt,vt),gt)return Date.now()-Oe.current<250?(Pe(1),requestAnimationFrame(function(){Pe(2),requestAnimationFrame(function(){return Ze(3)})}),void setTimeout(bt.OK,cn)):void Pe(4);Ze(5)}},[gt,Be]),[Qe,kt]}(E,L,oe,Wt,qt),mt=Tt[0],pt=Tt[1],ot=pt.W,on=pt.FIT,ur=innerWidth/2,ln=innerHeight/2,_t=mt<3||mt>4;return[_t?ot?pt.L:ur:Ht+(ur-Ge*Le/2),_t?ot?pt.T:ln:ft+(ln-_e*Le/2),Xt,_t&&on?Xt*(pt.H/ot):an,mt===0?ht:_t?ot/(Ge*Le)||.01:ht,_t?on?1:0:1,mt,on]}(u,l,I,O,N,Ee,y,M,d,function(E){return q({pause:E})}),K=at[4],he=at[6],xe="transform "+d+"ms "+f,be={className:C,onMouseDown:xt?void 0:function(E){E.stopPropagation(),E.button===0&&Tn(E.clientX,E.clientY,0)},onTouchStart:xt?function(E){E.stopPropagation(),Tn.apply(void 0,aa(E))}:void 0,onWheel:function(E){if(!dt){var L=gr(M-E.deltaY/100/2,se/Ee);q({stopRaf:!0}),Xe(L,E.clientX,E.clientY)}},style:{width:at[2],height:at[3],opacity:at[5],objectFit:he===4?void 0:at[7],transform:H?"rotate("+H+"deg)":void 0,transition:he>2?xe+", opacity "+d+"ms ease, height "+(he<4?d/2:he>4?d:0)+"ms "+f:void 0}};return ne.createElement("div",{className:"PhotoView__PhotoWrap"+(p?" "+p:""),style:x,onMouseDown:!xt&&A?cr:void 0,onTouchStart:xt&&A?function(E){return cr(E.touches[0])}:void 0},ne.createElement("div",{className:"PhotoView__PhotoBox",style:{transform:"matrix("+K+", 0, 0, "+K+", "+at[0]+", "+at[1]+")",transition:D||ge?void 0:xe,willChange:A?"transform":void 0}},n?ne.createElement(Kd,Me({src:n,loaded:I,broken:P},be,{onPhotoLoad:function(E){q(Me({},E,E.loaded&&di(E.naturalWidth||0,E.naturalHeight||0,H)))},loadingElement:h,brokenElement:g})):r&&r({attrs:be,scale:K,rotate:H})))}var la={x:0,touched:!1,pause:!1,lastCX:void 0,lastCY:void 0,bg:void 0,lastBg:void 0,overlay:!0,minimal:!0,scale:1,rotate:0};function Jd(e){var t=e.loop,n=t===void 0?3:t,r=e.speed,i=e.easing,a=e.photoClosable,c=e.maskClosable,o=c===void 0||c,l=e.maskOpacity,u=l===void 0?1:l,d=e.pullClosable,f=d===void 0||d,p=e.bannerVisible,C=p===void 0||p,x=e.overlayRender,h=e.toolbarRender,g=e.className,w=e.maskClassName,v=e.photoClassName,b=e.photoWrapClassName,T=e.loadingElement,j=e.brokenElement,A=e.images,F=e.index,fe=F===void 0?0:F,k=e.onIndexChange,q=e.visible,B=e.onClose,ce=e.afterClose,ue=e.portalContainer,se=Ei(la),ae=se[0],me=se[1],je=S.useState(0),Ee=je[0],St=je[1],y=ae.x,m=ae.touched,I=ae.pause,P=ae.lastCX,O=ae.lastCY,N=ae.bg,D=N===void 0?u:N,R=ae.lastBg,V=ae.overlay,H=ae.minimal,M=ae.scale,$=ae.rotate,Q=ae.onScale,ie=ae.onRotate,X=e.hasOwnProperty("index"),Y=X?fe:Ee,ke=X?k:St,pe=S.useRef(Y),Te=A.length,Ue=A[Y],ge=typeof n=="boolean"?n:Te>n,dt=function(K,he){var xe=S.useReducer(function(oe){return!oe},!1)[1],be=S.useRef(0),E=function(oe,Ht){var ft=S.useRef(oe);function Ge(_e){ft.current=_e}return S.useMemo(function(){(function(_e){K?(_e(K),be.current=1):be.current=2})(Ge)},[oe]),[ft.current,Ge]}(K),L=E[1];return[E[0],be.current,function(){xe(),be.current===2&&(L(!1),he&&he()),be.current=0}]}(q,ce),Ut=dt[0],Xe=dt[1],$t=dt[2];_i(function(){if(Ut)return me({pause:!0,x:Y*-(innerWidth+20)}),void(pe.current=Y);me(la)},[Ut]);var Bt=jr({close:function(K){ie&&ie(0),me({overlay:!0,lastBg:D}),B(K)},changeIndex:function(K,he){he===void 0&&(he=!1);var xe=ge?pe.current+(K-Y):K,be=Te-1,E=Ti(xe,0,be),L=ge?xe:E,oe=innerWidth+20;me({touched:!1,lastCX:void 0,lastCY:void 0,x:-oe*L,pause:he}),pe.current=L,ke&&ke(ge?K<0?be:K>be?0:K:E)}}),Ye=Bt.close,$e=Bt.changeIndex;function st(K){return K?Ye():me({overlay:!V})}function jt(){me({x:-(innerWidth+20)*Y,lastCX:void 0,lastCY:void 0,pause:!0}),pe.current=Y}function zt(K,he,xe,be){K==="x"?function(E){if(P!==void 0){var L=E-P,oe=L;!ge&&(Y===0&&L>0||Y===Te-1&&L<0)&&(oe=L/2),me({touched:!0,lastCX:P,x:-(innerWidth+20)*pe.current+oe,pause:!1})}else me({touched:!0,lastCX:E,x:y,pause:!1})}(he):K==="y"&&function(E,L){if(O!==void 0){var oe=u===null?null:Ti(u,.01,u-Math.abs(E-O)/100/4);me({touched:!0,lastCY:O,bg:L===1?oe:u,minimal:L===1})}else me({touched:!0,lastCY:E,bg:D,minimal:!0})}(xe,be)}function Et(K,he){var xe=K-(P??K),be=he-(O??he),E=!1;if(xe<-40)$e(Y+1);else if(xe>40)$e(Y-1);else{var L=-(innerWidth+20)*pe.current;Math.abs(be)>100&&H&&f&&(E=!0,Ye()),me({touched:!1,x:L,lastCX:void 0,lastCY:void 0,bg:u,overlay:!!E||V})}}hn("keydown",function(K){if(q)switch(K.key){case"ArrowLeft":$e(Y-1,!0);break;case"ArrowRight":$e(Y+1,!0);break;case"Escape":Ye()}});var nn=function(K,he,xe){return S.useMemo(function(){var be=K.length;return xe?K.concat(K).concat(K).slice(be+he-1,be+he+2):K.slice(Math.max(he-1,0),Math.min(he+2,be+1))},[K,he,xe])}(A,Y,ge);if(!Ut)return null;var Ie=V&&!Xe,lr=q?D:R,rn=Q&&ie&&{images:A,index:Y,visible:q,onClose:Ye,onIndexChange:$e,overlayVisible:Ie,overlay:Ue&&Ue.overlay,scale:M,rotate:$,onScale:Q,onRotate:ie},sn=r?r(Xe):400,Tn=i?i(Xe):"cubic-bezier(0.25, 0.8, 0.25, 1)",cr=r?r(3):600,at=i?i(3):"cubic-bezier(0.25, 0.8, 0.25, 1)";return ne.createElement(Ud,{className:"PhotoView-Portal"+(Ie?"":" PhotoView-Slider__clean")+(q?"":" PhotoView-Slider__willClose")+(g?" "+g:""),role:"dialog",onClick:function(K){return K.stopPropagation()},container:ue},q&&ne.createElement(Hd,null),ne.createElement("div",{className:"PhotoView-Slider__Backdrop"+(w?" "+w:"")+(Xe===1?" PhotoView-Slider__fadeIn":Xe===2?" PhotoView-Slider__fadeOut":""),style:{background:lr?"rgba(0, 0, 0, "+lr+")":void 0,transitionTimingFunction:Tn,transitionDuration:(m?0:sn)+"ms",animationDuration:sn+"ms"},onAnimationEnd:$t}),C&&ne.createElement("div",{className:"PhotoView-Slider__BannerWrap"},ne.createElement("div",{className:"PhotoView-Slider__Counter"},Y+1," / ",Te),ne.createElement("div",{className:"PhotoView-Slider__BannerRight"},h&&rn&&h(rn),ne.createElement($d,{className:"PhotoView-Slider__toolbarIcon",onClick:Ye}))),nn.map(function(K,he){var xe=ge||Y!==0?pe.current-1+he:Y+he;return ne.createElement(Zd,{key:ge?K.key+"/"+K.src+"/"+xe:K.key,item:K,speed:sn,easing:Tn,visible:q,onReachMove:zt,onReachUp:Et,onPhotoTap:function(){return st(a)},onMaskTap:function(){return st(o)},wrapClassName:b,className:v,style:{left:(innerWidth+20)*xe+"px",transform:"translate3d("+y+"px, 0px, 0)",transition:m||I?void 0:"transform "+cr+"ms "+at},loadingElement:T,brokenElement:j,onPhotoResize:jt,isActive:pe.current===xe,expose:me})}),!xt&&C&&ne.createElement(ne.Fragment,null,(ge||Y!==0)&&ne.createElement("div",{className:"PhotoView-Slider__ArrowLeft",onClick:function(){return $e(Y-1,!0)}},ne.createElement(Bd,null)),(ge||Y+1<Te)&&ne.createElement("div",{className:"PhotoView-Slider__ArrowRight",onClick:function(){return $e(Y+1,!0)}},ne.createElement(zd,null))),x&&rn&&ne.createElement("div",{className:"PhotoView-Slider__Overlay"},x(rn)))}const ef=e=>{const n=new DOMParser().parseFromString(e,"text/html").querySelectorAll("img");return Array.from(n).map(r=>r.getAttribute("src"))},tf=({info:e,handleEntryClick:t,getEntries:n,entryListRef:r,entryDetailRef:i})=>{const{activeContent:a}=Sn(),{handleFetchContent:c,handleToggleStarred:o,handleToggleStatus:l}=ls(),{handleLeftKey:u,handleRightKey:d,handleEscapeKey:f}=So(e,t,n);if(!a)return null;const p=a.status==="unread",C=a.starred;return s.jsxs(ve.Group,{className:"action-buttons",children:[s.jsx(ve,{icon:s.jsx(fc,{}),onClick:()=>f(r,i),shape:"round",type:"primary"}),s.jsx(ve,{icon:p?s.jsx(qa,{}):s.jsx(Xa,{}),onClick:()=>l(a),type:"primary"}),s.jsx(ve,{onClick:()=>o(a),type:"primary",icon:C?s.jsx(Wi,{style:{color:"#ffcd00"}}):s.jsx(zi,{})}),s.jsx(ve,{icon:s.jsx(hc,{}),onClick:u,type:"primary"}),s.jsx(ve,{icon:s.jsx(mc,{}),onClick:d,type:"primary"}),s.jsx(ve,{icon:s.jsx(pc,{}),onClick:c,shape:"round",type:"primary"})]})},nf=({url:e,text:t})=>{const[n,r]=S.useState(!1),i=()=>r(!0),a=()=>r(!1);return s.jsx(vc,{to:e,style:{color:"inherit",textDecoration:n?"underline":"none"},onMouseEnter:i,onMouseLeave:a,children:t})},rf=({node:e,index:t,togglePhotoSlider:n})=>{const[r,i]=S.useState(!1),{isMobileView:a}=er();return s.jsx("div",{style:{textAlign:"center",position:"relative"},children:s.jsxs("div",{style:{display:"inline-block",position:"relative"},onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:[s.jsx("img",{...e.attribs,alt:e.attribs.alt}),s.jsx(ve,{icon:s.jsx(yc,{}),style:{position:"absolute",top:30,right:10,backgroundColor:"rgba(0, 0, 0, 0.5)",opacity:a||r?1:0,transition:"opacity 0.3s"},onClick:c=>{c.preventDefault(),n(t)}})]})})},sf=(e,t)=>({replace:n=>{if(n.type==="tag"&&n.name==="img"){const r=e.findIndex(i=>i===n.attribs.src);return s.jsx(rf,{node:n,index:r,togglePhotoSlider:t})}return n}}),af=S.forwardRef(({info:e,handleEntryClick:t,getEntries:n,entryListRef:r},i)=>{const a=bn(),{activeContent:c}=Sn(),o=W(we),{articleWidth:l,fontSize:u}=o,d=te(Co),[f,p]=S.useState(!1),[C,x]=S.useState(0),h=j=>{x(j),p(A=>!A)};if(!c)return s.jsxs("div",{ref:i,className:"content-empty",children:[s.jsx(gc,{style:{fontSize:"64px"}}),s.jsx(U.Title,{heading:6,style:{color:"var(--color-text-3)",marginTop:"10px"},children:"ReactFlux"})]});const g=ef(c.content),w=sf(g,h),v=Ld(c.content,w),b=c.feed.category.id,T=c.feed.category.title;return s.jsxs("div",{className:"article-content",onBlur:()=>d(!1),onFocus:()=>d(!0),ref:i,children:[s.jsxs("div",{className:"scroll-container",children:[s.jsxs("div",{className:"article-header",style:{width:`${l}%`},children:[s.jsx(U.Title,{className:"article-title",heading:5,children:s.jsx("a",{href:c.url,target:"_blank",rel:"noopener noreferrer",children:c.title})}),s.jsxs("div",{className:"article-meta",children:[s.jsx(U.Text,{children:s.jsx(nf,{url:`/feed/${c.feed.id}`,text:c.feed.title})}),s.jsx(U.Text,{children:` - ${c.author}`}),s.jsx(U.Text,{children:s.jsx(Bn,{size:"small",onClick:()=>{a(`/category/${b}`)},style:{marginLeft:"10px",cursor:"pointer"},children:T})})]}),s.jsx(U.Text,{className:"article-date",children:Nt(c.published_at).format("dddd, MMMM D, YYYY [at] h:mm A")}),s.jsx(et,{})]}),s.jsxs("div",{className:"article-body",style:{fontSize:`${u}rem`,width:`${l}%`},children:[v,s.jsx(Jd,{images:g.map(j=>({src:j,key:j})),visible:f,onClose:()=>{p(!1),d(!0)},index:C,onIndexChange:x})]},c.id)]}),s.jsx(tf,{info:e,handleEntryClick:t,getEntries:n,entryListRef:r,entryDetailRef:i})]})});var of=Object.defineProperty,lf=(e,t)=>{for(var n in t)of(e,n,{get:t[n],enumerable:!0})},rt={};lf(rt,{assign:()=>df,colors:()=>Ft,createStringInterpolator:()=>ks,skipAnimation:()=>dl,to:()=>ul,willAdvance:()=>Ms});var Ss=ar(),z=e=>sr(e,Ss),js=ar();z.write=e=>sr(e,js);var Zr=ar();z.onStart=e=>sr(e,Zr);var Es=ar();z.onFrame=e=>sr(e,Es);var Ts=ar();z.onFinish=e=>sr(e,Ts);var pn=[];z.setTimeout=(e,t)=>{const n=z.now()+t,r=()=>{const a=pn.findIndex(c=>c.cancel==r);~a&&pn.splice(a,1),Rt-=~a?1:0},i={time:n,handler:e,cancel:r};return pn.splice(sl(n),0,i),Rt+=1,al(),i};var sl=e=>~(~pn.findIndex(t=>t.time>e)||~pn.length);z.cancel=e=>{Zr.delete(e),Es.delete(e),Ts.delete(e),Ss.delete(e),js.delete(e)};z.sync=e=>{ki=!0,z.batchedUpdates(e),ki=!1};z.throttle=e=>{let t;function n(){try{e(...t)}finally{t=null}}function r(...i){t=i,z.onStart(n)}return r.handler=e,r.cancel=()=>{Zr.delete(n),t=null},r};var _s=typeof window<"u"?window.requestAnimationFrame:()=>{};z.use=e=>_s=e;z.now=typeof performance<"u"?()=>performance.now():Date.now;z.batchedUpdates=e=>e();z.catch=console.error;z.frameLoop="always";z.advance=()=>{z.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):ll()};var Ot=-1,Rt=0,ki=!1;function sr(e,t){ki?(t.delete(e),e(0)):(t.add(e),al())}function al(){Ot<0&&(Ot=0,z.frameLoop!=="demand"&&_s(ol))}function cf(){Ot=-1}function ol(){~Ot&&(_s(ol),z.batchedUpdates(ll))}function ll(){const e=Ot;Ot=z.now();const t=sl(Ot);if(t&&(cl(pn.splice(0,t),n=>n.handler()),Rt-=t),!Rt){cf();return}Zr.flush(),Ss.flush(e?Math.min(64,Ot-e):16.667),Es.flush(),js.flush(),Ts.flush()}function ar(){let e=new Set,t=e;return{add(n){Rt+=t==e&&!e.has(n)?1:0,e.add(n)},delete(n){return Rt-=t==e&&e.has(n)?1:0,e.delete(n)},flush(n){t.size&&(e=new Set,Rt-=t.size,cl(t,r=>r(n)&&e.add(r)),Rt+=e.size,t=e)}}}function cl(e,t){e.forEach(n=>{try{t(n)}catch(r){z.catch(r)}})}function Mi(){}var uf=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),_={arr:Array.isArray,obj:e=>!!e&&e.constructor.name==="Object",fun:e=>typeof e=="function",str:e=>typeof e=="string",num:e=>typeof e=="number",und:e=>e===void 0};function wt(e,t){if(_.arr(e)){if(!_.arr(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}var re=(e,t)=>e.forEach(t);function ut(e,t,n){if(_.arr(e)){for(let r=0;r<e.length;r++)t.call(n,e[r],`${r}`);return}for(const r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r)}var Ve=e=>_.und(e)?[]:_.arr(e)?e:[e];function Dn(e,t){if(e.size){const n=Array.from(e);e.clear(),re(n,t)}}var On=(e,...t)=>Dn(e,n=>n(...t)),As=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),ks,ul,Ft=null,dl=!1,Ms=Mi,df=e=>{e.to&&(ul=e.to),e.now&&(z.now=e.now),e.colors!==void 0&&(Ft=e.colors),e.skipAnimation!=null&&(dl=e.skipAnimation),e.createStringInterpolator&&(ks=e.createStringInterpolator),e.requestAnimationFrame&&z.use(e.requestAnimationFrame),e.batchedUpdates&&(z.batchedUpdates=e.batchedUpdates),e.willAdvance&&(Ms=e.willAdvance),e.frameLoop&&(z.frameLoop=e.frameLoop)},Ln=new Set,qe=[],fi=[],Ir=0,Jr={get idle(){return!Ln.size&&!qe.length},start(e){Ir>e.priority?(Ln.add(e),z.onStart(ff)):(fl(e),z(Ii))},advance:Ii,sort(e){if(Ir)z.onFrame(()=>Jr.sort(e));else{const t=qe.indexOf(e);~t&&(qe.splice(t,1),hl(e))}},clear(){qe=[],Ln.clear()}};function ff(){Ln.forEach(fl),Ln.clear(),z(Ii)}function fl(e){qe.includes(e)||hl(e)}function hl(e){qe.splice(hf(qe,t=>t.priority>e.priority),0,e)}function Ii(e){const t=fi;for(let n=0;n<qe.length;n++){const r=qe[n];Ir=r.priority,r.idle||(Ms(r),r.advance(e),r.idle||t.push(r))}return Ir=0,fi=qe,fi.length=0,qe=t,qe.length>0}function hf(e,t){const n=e.findIndex(t);return n<0?e.length:n}var mf=(e,t,n)=>Math.min(Math.max(n,e),t),pf={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},nt="[-+]?\\d*\\.?\\d+",Pr=nt+"%";function ei(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}var gf=new RegExp("rgb"+ei(nt,nt,nt)),vf=new RegExp("rgba"+ei(nt,nt,nt,nt)),yf=new RegExp("hsl"+ei(nt,Pr,Pr)),bf=new RegExp("hsla"+ei(nt,Pr,Pr,nt)),xf=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,wf=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Cf=/^#([0-9a-fA-F]{6})$/,Sf=/^#([0-9a-fA-F]{8})$/;function jf(e){let t;return typeof e=="number"?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=Cf.exec(e))?parseInt(t[1]+"ff",16)>>>0:Ft&&Ft[e]!==void 0?Ft[e]:(t=gf.exec(e))?(fn(t[1])<<24|fn(t[2])<<16|fn(t[3])<<8|255)>>>0:(t=vf.exec(e))?(fn(t[1])<<24|fn(t[2])<<16|fn(t[3])<<8|da(t[4]))>>>0:(t=xf.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=Sf.exec(e))?parseInt(t[1],16)>>>0:(t=wf.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=yf.exec(e))?(ca(ua(t[1]),yr(t[2]),yr(t[3]))|255)>>>0:(t=bf.exec(e))?(ca(ua(t[1]),yr(t[2]),yr(t[3]))|da(t[4]))>>>0:null}function hi(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function ca(e,t,n){const r=n<.5?n*(1+t):n+t-n*t,i=2*n-r,a=hi(i,r,e+1/3),c=hi(i,r,e),o=hi(i,r,e-1/3);return Math.round(a*255)<<24|Math.round(c*255)<<16|Math.round(o*255)<<8}function fn(e){const t=parseInt(e,10);return t<0?0:t>255?255:t}function ua(e){return(parseFloat(e)%360+360)%360/360}function da(e){const t=parseFloat(e);return t<0?0:t>1?255:Math.round(t*255)}function yr(e){const t=parseFloat(e);return t<0?0:t>100?1:t/100}function fa(e){let t=jf(e);if(t===null)return e;t=t||0;const n=(t&4278190080)>>>24,r=(t&16711680)>>>16,i=(t&65280)>>>8,a=(t&255)/255;return`rgba(${n}, ${r}, ${i}, ${a})`}var Hn=(e,t,n)=>{if(_.fun(e))return e;if(_.arr(e))return Hn({range:e,output:t,extrapolate:n});if(_.str(e.output[0]))return ks(e);const r=e,i=r.output,a=r.range||[0,1],c=r.extrapolateLeft||r.extrapolate||"extend",o=r.extrapolateRight||r.extrapolate||"extend",l=r.easing||(u=>u);return u=>{const d=Tf(u,a);return Ef(u,a[d],a[d+1],i[d],i[d+1],l,c,o,r.map)}};function Ef(e,t,n,r,i,a,c,o,l){let u=l?l(e):e;if(u<t){if(c==="identity")return u;c==="clamp"&&(u=t)}if(u>n){if(o==="identity")return u;o==="clamp"&&(u=n)}return r===i?r:t===n?e<=t?r:i:(t===-1/0?u=-u:n===1/0?u=u-t:u=(u-t)/(n-t),u=a(u),r===-1/0?u=-u:i===1/0?u=u+r:u=u*(i-r)+r,u)}function Tf(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}var _f=(e,t="end")=>n=>{n=t==="end"?Math.min(n,.999):Math.max(n,.001);const r=n*e,i=t==="end"?Math.floor(r):Math.ceil(r);return mf(0,1,i/e)},Or=1.70158,br=Or*1.525,ha=Or+1,ma=2*Math.PI/3,pa=2*Math.PI/4.5,xr=e=>e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,Af={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>1-(1-e)*(1-e),easeInOutQuad:e=>e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2,easeInCubic:e=>e*e*e,easeOutCubic:e=>1-Math.pow(1-e,3),easeInOutCubic:e=>e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2,easeInQuart:e=>e*e*e*e,easeOutQuart:e=>1-Math.pow(1-e,4),easeInOutQuart:e=>e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2,easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>1-Math.pow(1-e,5),easeInOutQuint:e=>e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2,easeInSine:e=>1-Math.cos(e*Math.PI/2),easeOutSine:e=>Math.sin(e*Math.PI/2),easeInOutSine:e=>-(Math.cos(Math.PI*e)-1)/2,easeInExpo:e=>e===0?0:Math.pow(2,10*e-10),easeOutExpo:e=>e===1?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>e===0?0:e===1?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2,easeInCirc:e=>1-Math.sqrt(1-Math.pow(e,2)),easeOutCirc:e=>Math.sqrt(1-Math.pow(e-1,2)),easeInOutCirc:e=>e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2,easeInBack:e=>ha*e*e*e-Or*e*e,easeOutBack:e=>1+ha*Math.pow(e-1,3)+Or*Math.pow(e-1,2),easeInOutBack:e=>e<.5?Math.pow(2*e,2)*((br+1)*2*e-br)/2:(Math.pow(2*e-2,2)*((br+1)*(e*2-2)+br)+2)/2,easeInElastic:e=>e===0?0:e===1?1:-Math.pow(2,10*e-10)*Math.sin((e*10-10.75)*ma),easeOutElastic:e=>e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin((e*10-.75)*ma)+1,easeInOutElastic:e=>e===0?0:e===1?1:e<.5?-(Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*pa))/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*pa)/2+1,easeInBounce:e=>1-xr(1-e),easeOutBounce:xr,easeInOutBounce:e=>e<.5?(1-xr(1-2*e))/2:(1+xr(2*e-1))/2,steps:_f},Wn=Symbol.for("FluidValue.get"),yn=Symbol.for("FluidValue.observers"),We=e=>!!(e&&e[Wn]),Fe=e=>e&&e[Wn]?e[Wn]():e,ga=e=>e[yn]||null;function kf(e,t){e.eventObserved?e.eventObserved(t):e(t)}function qn(e,t){const n=e[yn];n&&n.forEach(r=>{kf(r,t)})}var ml=class{constructor(e){if(!e&&!(e=this.get))throw Error("Unknown getter");Mf(this,e)}},Mf=(e,t)=>pl(e,Wn,t);function jn(e,t){if(e[Wn]){let n=e[yn];n||pl(e,yn,n=new Set),n.has(t)||(n.add(t),e.observerAdded&&e.observerAdded(n.size,t))}return t}function Xn(e,t){const n=e[yn];if(n&&n.has(t)){const r=n.size-1;r?n.delete(t):e[yn]=null,e.observerRemoved&&e.observerRemoved(r,t)}}var pl=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),Er=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,If=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,va=new RegExp(`(${Er.source})(%|[a-z]+)`,"i"),Pf=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,ti=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,gl=e=>{const[t,n]=Of(e);if(!t||As())return e;const r=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(r)return r.trim();if(n&&n.startsWith("--")){const i=window.getComputedStyle(document.documentElement).getPropertyValue(n);return i||e}else{if(n&&ti.test(n))return gl(n);if(n)return n}return e},Of=e=>{const t=ti.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]},mi,Rf=(e,t,n,r,i)=>`rgba(${Math.round(t)}, ${Math.round(n)}, ${Math.round(r)}, ${i})`,vl=e=>{mi||(mi=Ft?new RegExp(`(${Object.keys(Ft).join("|")})(?!\\w)`,"g"):/^\b$/);const t=e.output.map(a=>Fe(a).replace(ti,gl).replace(If,fa).replace(mi,fa)),n=t.map(a=>a.match(Er).map(Number)),i=n[0].map((a,c)=>n.map(o=>{if(!(c in o))throw Error('The arity of each "output" value must be equal');return o[c]})).map(a=>Hn({...e,output:a}));return a=>{var l;const c=!va.test(t[0])&&((l=t.find(u=>va.test(u)))==null?void 0:l.replace(Er,""));let o=0;return t[0].replace(Er,()=>`${i[o++](a)}${c||""}`).replace(Pf,Rf)}},Is="react-spring: ",yl=e=>{const t=e;let n=!1;if(typeof t!="function")throw new TypeError(`${Is}once requires a function parameter`);return(...r)=>{n||(t(...r),n=!0)}},Ff=yl(console.warn);function Nf(){Ff(`${Is}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var Df=yl(console.warn);function Lf(){Df(`${Is}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function ni(e){return _.str(e)&&(e[0]=="#"||/\d/.test(e)||!As()&&ti.test(e)||e in(Ft||{}))}var Ps=As()?S.useEffect:S.useLayoutEffect,Vf=()=>{const e=S.useRef(!1);return Ps(()=>(e.current=!0,()=>{e.current=!1}),[]),e};function bl(){const e=S.useState()[1],t=Vf();return()=>{t.current&&e(Math.random())}}function Uf(e,t){const[n]=S.useState(()=>({inputs:t,result:e()})),r=S.useRef(),i=r.current;let a=i;return a?t&&a.inputs&&$f(t,a.inputs)||(a={inputs:t,result:e()}):a=n,S.useEffect(()=>{r.current=a,i==n&&(n.inputs=n.result=void 0)},[a]),a.result}function $f(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}var xl=e=>S.useEffect(e,Bf),Bf=[];function ya(e){const t=S.useRef();return S.useEffect(()=>{t.current=e}),t.current}var Yn=Symbol.for("Animated:node"),zf=e=>!!e&&e[Yn]===e,ct=e=>e&&e[Yn],Os=(e,t)=>uf(e,Yn,t),ri=e=>e&&e[Yn]&&e[Yn].getPayload(),wl=class{constructor(){Os(this,this)}getPayload(){return this.payload||[]}},or=class extends wl{constructor(e){super(),this._value=e,this.done=!0,this.durationProgress=0,_.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new or(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return _.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value===e?!1:(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,_.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}},Gn=class extends or{constructor(e){super(0),this._string=null,this._toString=Hn({output:[e,e]})}static create(e){return new Gn(e)}getValue(){const e=this._string;return e??(this._string=this._toString(this._value))}setValue(e){if(_.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else if(super.setValue(e))this._string=null;else return!1;return!0}reset(e){e&&(this._toString=Hn({output:[this.getValue(),e]})),this._value=0,super.reset()}},Rr={dependencies:null},ii=class extends wl{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const t={};return ut(this.source,(n,r)=>{zf(n)?t[r]=n.getValue(e):We(n)?t[r]=Fe(n):e||(t[r]=n)}),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&re(this.payload,e=>e.reset())}_makePayload(e){if(e){const t=new Set;return ut(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){Rr.dependencies&&We(e)&&Rr.dependencies.add(e);const t=ri(e);t&&re(t,n=>this.add(n))}},Cl=class extends ii{constructor(e){super(e)}static create(e){return new Cl(e)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){const t=this.getPayload();return e.length==t.length?t.map((n,r)=>n.setValue(e[r])).some(Boolean):(super.setValue(e.map(Hf)),!0)}};function Hf(e){return(ni(e)?Gn:or).create(e)}function Pi(e){const t=ct(e);return t?t.constructor:_.arr(e)?Cl:ni(e)?Gn:or}var ba=(e,t)=>{const n=!_.fun(e)||e.prototype&&e.prototype.isReactComponent;return S.forwardRef((r,i)=>{const a=S.useRef(null),c=n&&S.useCallback(x=>{a.current=Xf(i,x)},[i]),[o,l]=qf(r,t),u=bl(),d=()=>{const x=a.current;if(n&&!x)return;(x?t.applyAnimatedValues(x,o.getValue(!0)):!1)===!1&&u()},f=new Wf(d,l),p=S.useRef();Ps(()=>(p.current=f,re(l,x=>jn(x,f)),()=>{p.current&&(re(p.current.deps,x=>Xn(x,p.current)),z.cancel(p.current.update))})),S.useEffect(d,[]),xl(()=>()=>{const x=p.current;re(x.deps,h=>Xn(h,x))});const C=t.getComponentProps(o.getValue());return S.createElement(e,{...C,ref:c})})},Wf=class{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){e.type=="change"&&z.write(this.update)}};function qf(e,t){const n=new Set;return Rr.dependencies=n,e.style&&(e={...e,style:t.createAnimatedStyle(e.style)}),e=new ii(e),Rr.dependencies=null,[e,n]}function Xf(e,t){return e&&(_.fun(e)?e(t):e.current=t),t}var xa=Symbol.for("AnimatedComponent"),Yf=(e,{applyAnimatedValues:t=()=>!1,createAnimatedStyle:n=i=>new ii(i),getComponentProps:r=i=>i}={})=>{const i={applyAnimatedValues:t,createAnimatedStyle:n,getComponentProps:r},a=c=>{const o=wa(c)||"Anonymous";return _.str(c)?c=a[c]||(a[c]=ba(c,i)):c=c[xa]||(c[xa]=ba(c,i)),c.displayName=`Animated(${o})`,c};return ut(e,(c,o)=>{_.arr(e)&&(o=wa(c)),a[o]=a(c)}),{animated:a}},wa=e=>_.str(e)?e:e&&_.str(e.displayName)?e.displayName:_.fun(e)&&e.name||null;function Zt(e,...t){return _.fun(e)?e(...t):e}var Vn=(e,t)=>e===!0||!!(t&&e&&(_.fun(e)?e(t):Ve(e).includes(t))),Sl=(e,t)=>_.obj(e)?t&&e[t]:e,jl=(e,t)=>e.default===!0?e[t]:e.default?e.default[t]:void 0,Gf=e=>e,Rs=(e,t=Gf)=>{let n=Kf;e.default&&e.default!==!0&&(e=e.default,n=Object.keys(e));const r={};for(const i of n){const a=t(e[i],i);_.und(a)||(r[i]=a)}return r},Kf=["config","onProps","onStart","onChange","onPause","onResume","onRest"],Qf={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function Zf(e){const t={};let n=0;if(ut(e,(r,i)=>{Qf[i]||(t[i]=r,n++)}),n)return t}function El(e){const t=Zf(e);if(t){const n={to:t};return ut(e,(r,i)=>i in t||(n[i]=r)),n}return{...e}}function Kn(e){return e=Fe(e),_.arr(e)?e.map(Kn):ni(e)?rt.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function Jf(e){for(const t in e)return!0;return!1}function Oi(e){return _.fun(e)||_.arr(e)&&_.obj(e[0])}function eh(e,t){var n;(n=e.ref)==null||n.delete(e),t==null||t.delete(e)}function th(e,t){var n;t&&e.ref!==t&&((n=e.ref)==null||n.delete(e),t.add(e),e.ref=t)}var nh={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},Ri={...nh.default,mass:1,damping:1,easing:Af.linear,clamp:!1},rh=class{constructor(){this.velocity=0,Object.assign(this,Ri)}};function ih(e,t,n){n&&(n={...n},Ca(n,t),t={...n,...t}),Ca(e,t),Object.assign(e,t);for(const c in Ri)e[c]==null&&(e[c]=Ri[c]);let{frequency:r,damping:i}=e;const{mass:a}=e;return _.und(r)||(r<.01&&(r=.01),i<0&&(i=0),e.tension=Math.pow(2*Math.PI/r,2)*a,e.friction=4*Math.PI*i*a/r),e}function Ca(e,t){if(!_.und(t.decay))e.duration=void 0;else{const n=!_.und(t.tension)||!_.und(t.friction);(n||!_.und(t.frequency)||!_.und(t.damping)||!_.und(t.mass))&&(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}}var Sa=[],sh=class{constructor(){this.changed=!1,this.values=Sa,this.toValues=null,this.fromValues=Sa,this.config=new rh,this.immediate=!1}};function Tl(e,{key:t,props:n,defaultProps:r,state:i,actions:a}){return new Promise((c,o)=>{let l,u,d=Vn(n.cancel??(r==null?void 0:r.cancel),t);if(d)C();else{_.und(n.pause)||(i.paused=Vn(n.pause,t));let x=r==null?void 0:r.pause;x!==!0&&(x=i.paused||Vn(x,t)),l=Zt(n.delay||0,t),x?(i.resumeQueue.add(p),a.pause()):(a.resume(),p())}function f(){i.resumeQueue.add(p),i.timeouts.delete(u),u.cancel(),l=u.time-z.now()}function p(){l>0&&!rt.skipAnimation?(i.delayed=!0,u=z.setTimeout(C,l),i.pauseQueue.add(f),i.timeouts.add(u)):C()}function C(){i.delayed&&(i.delayed=!1),i.pauseQueue.delete(f),i.timeouts.delete(u),e<=(i.cancelId||0)&&(d=!0);try{a.start({...n,callId:e,cancel:d},c)}catch(x){o(x)}}})}var Fs=(e,t)=>t.length==1?t[0]:t.some(n=>n.cancelled)?gn(e.get()):t.every(n=>n.noop)?_l(e.get()):Je(e.get(),t.every(n=>n.finished)),_l=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),Je=(e,t,n=!1)=>({value:e,finished:t,cancelled:n}),gn=e=>({value:e,cancelled:!0,finished:!1});function Al(e,t,n,r){const{callId:i,parentId:a,onRest:c}=t,{asyncTo:o,promise:l}=n;return!a&&e===o&&!t.reset?l:n.promise=(async()=>{n.asyncId=i,n.asyncTo=e;const u=Rs(t,(g,w)=>w==="onRest"?void 0:g);let d,f;const p=new Promise((g,w)=>(d=g,f=w)),C=g=>{const w=i<=(n.cancelId||0)&&gn(r)||i!==n.asyncId&&Je(r,!1);if(w)throw g.result=w,f(g),g},x=(g,w)=>{const v=new ja,b=new Ea;return(async()=>{if(rt.skipAnimation)throw Qn(n),b.result=Je(r,!1),f(b),b;C(v);const T=_.obj(g)?{...g}:{...w,to:g};T.parentId=i,ut(u,(A,F)=>{_.und(T[F])&&(T[F]=A)});const j=await r.start(T);return C(v),n.paused&&await new Promise(A=>{n.resumeQueue.add(A)}),j})()};let h;if(rt.skipAnimation)return Qn(n),Je(r,!1);try{let g;_.arr(e)?g=(async w=>{for(const v of w)await x(v)})(e):g=Promise.resolve(e(x,r.stop.bind(r))),await Promise.all([g.then(d),p]),h=Je(r.get(),!0,!1)}catch(g){if(g instanceof ja)h=g.result;else if(g instanceof Ea)h=g.result;else throw g}finally{i==n.asyncId&&(n.asyncId=a,n.asyncTo=a?o:void 0,n.promise=a?l:void 0)}return _.fun(c)&&z.batchedUpdates(()=>{c(h,r,r.item)}),h})()}function Qn(e,t){Dn(e.timeouts,n=>n.cancel()),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var ja=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},Ea=class extends Error{constructor(){super("SkipAnimationSignal")}},Fi=e=>e instanceof Ns,ah=1,Ns=class extends ml{constructor(){super(...arguments),this.id=ah++,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=ct(this);return e&&e.getValue()}to(...e){return rt.to(this,e)}interpolate(...e){return Nf(),rt.to(this,e)}toJSON(){return this.get()}observerAdded(e){e==1&&this._attach()}observerRemoved(e){e==0&&this._detach()}_attach(){}_detach(){}_onChange(e,t=!1){qn(this,{type:"change",parent:this,value:e,idle:t})}_onPriorityChange(e){this.idle||Jr.sort(this),qn(this,{type:"priority",parent:this,priority:e})}},tn=Symbol.for("SpringPhase"),kl=1,Ni=2,Di=4,pi=e=>(e[tn]&kl)>0,Mt=e=>(e[tn]&Ni)>0,kn=e=>(e[tn]&Di)>0,Ta=(e,t)=>t?e[tn]|=Ni|kl:e[tn]&=~Ni,_a=(e,t)=>t?e[tn]|=Di:e[tn]&=~Di,oh=class extends Ns{constructor(e,t){if(super(),this.animation=new sh,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!_.und(e)||!_.und(t)){const n=_.obj(e)?{...e}:{...t,from:e};_.und(n.default)&&(n.default=!0),this.start(n)}}get idle(){return!(Mt(this)||this._state.asyncTo)||kn(this)}get goal(){return Fe(this.animation.to)}get velocity(){const e=ct(this);return e instanceof or?e.lastVelocity||0:e.getPayload().map(t=>t.lastVelocity||0)}get hasAnimated(){return pi(this)}get isAnimating(){return Mt(this)}get isPaused(){return kn(this)}get isDelayed(){return this._state.delayed}advance(e){let t=!0,n=!1;const r=this.animation;let{toValues:i}=r;const{config:a}=r,c=ri(r.to);!c&&We(r.to)&&(i=Ve(Fe(r.to))),r.values.forEach((u,d)=>{if(u.done)return;const f=u.constructor==Gn?1:c?c[d].lastPosition:i[d];let p=r.immediate,C=f;if(!p){if(C=u.lastPosition,a.tension<=0){u.done=!0;return}let x=u.elapsedTime+=e;const h=r.fromValues[d],g=u.v0!=null?u.v0:u.v0=_.arr(a.velocity)?a.velocity[d]:a.velocity;let w;const v=a.precision||(h==f?.005:Math.min(1,Math.abs(f-h)*.001));if(_.und(a.duration))if(a.decay){const b=a.decay===!0?.998:a.decay,T=Math.exp(-(1-b)*x);C=h+g/(1-b)*(1-T),p=Math.abs(u.lastPosition-C)<=v,w=g*T}else{w=u.lastVelocity==null?g:u.lastVelocity;const b=a.restVelocity||v/10,T=a.clamp?0:a.bounce,j=!_.und(T),A=h==f?u.v0>0:h<f;let F,fe=!1;const k=1,q=Math.ceil(e/k);for(let B=0;B<q&&(F=Math.abs(w)>b,!(!F&&(p=Math.abs(f-C)<=v,p)));++B){j&&(fe=C==f||C>f==A,fe&&(w=-w*T,C=f));const ce=-a.tension*1e-6*(C-f),ue=-a.friction*.001*w,se=(ce+ue)/a.mass;w=w+se*k,C=C+w*k}}else{let b=1;a.duration>0&&(this._memoizedDuration!==a.duration&&(this._memoizedDuration=a.duration,u.durationProgress>0&&(u.elapsedTime=a.duration*u.durationProgress,x=u.elapsedTime+=e)),b=(a.progress||0)+x/this._memoizedDuration,b=b>1?1:b<0?0:b,u.durationProgress=b),C=h+a.easing(b)*(f-h),w=(C-u.lastPosition)/e,p=b==1}u.lastVelocity=w,Number.isNaN(C)&&(console.warn("Got NaN while animating:",this),p=!0)}c&&!c[d].done&&(p=!1),p?u.done=!0:t=!1,u.setValue(C,a.round)&&(n=!0)});const o=ct(this),l=o.getValue();if(t){const u=Fe(r.to);(l!==u||n)&&!a.decay?(o.setValue(u),this._onChange(u)):n&&a.decay&&this._onChange(l),this._stop()}else n&&this._onChange(l)}set(e){return z.batchedUpdates(()=>{this._stop(),this._focus(e),this._set(e)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(Mt(this)){const{to:e,config:t}=this.animation;z.batchedUpdates(()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()})}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let n;return _.und(e)?(n=this.queue||[],this.queue=[]):n=[_.obj(e)?e:{...t,to:e}],Promise.all(n.map(r=>this._update(r))).then(r=>Fs(this,r))}stop(e){const{to:t}=this.animation;return this._focus(this.get()),Qn(this._state,e&&this._lastCallId),z.batchedUpdates(()=>this._stop(t,e)),this}reset(){this._update({reset:!0})}eventObserved(e){e.type=="change"?this._start():e.type=="priority"&&(this.priority=e.priority+1)}_prepareNode(e){const t=this.key||"";let{to:n,from:r}=e;n=_.obj(n)?n[t]:n,(n==null||Oi(n))&&(n=void 0),r=_.obj(r)?r[t]:r,r==null&&(r=void 0);const i={to:n,from:r};return pi(this)||(e.reverse&&([n,r]=[r,n]),r=Fe(r),_.und(r)?ct(this)||this._set(n):this._set(r)),i}_update({...e},t){const{key:n,defaultProps:r}=this;e.default&&Object.assign(r,Rs(e,(c,o)=>/^on/.test(o)?Sl(c,n):c)),ka(this,e,"onProps"),In(this,"onProps",e,this);const i=this._prepareNode(e);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const a=this._state;return Tl(++this._lastCallId,{key:n,props:e,defaultProps:r,state:a,actions:{pause:()=>{kn(this)||(_a(this,!0),On(a.pauseQueue),In(this,"onPause",Je(this,Mn(this,this.animation.to)),this))},resume:()=>{kn(this)&&(_a(this,!1),Mt(this)&&this._resume(),On(a.resumeQueue),In(this,"onResume",Je(this,Mn(this,this.animation.to)),this))},start:this._merge.bind(this,i)}}).then(c=>{if(e.loop&&c.finished&&!(t&&c.noop)){const o=Ml(e);if(o)return this._update(o,!0)}return c})}_merge(e,t,n){if(t.cancel)return this.stop(!0),n(gn(this));const r=!_.und(e.to),i=!_.und(e.from);if(r||i)if(t.callId>this._lastToId)this._lastToId=t.callId;else return n(gn(this));const{key:a,defaultProps:c,animation:o}=this,{to:l,from:u}=o;let{to:d=l,from:f=u}=e;i&&!r&&(!t.default||_.und(d))&&(d=f),t.reverse&&([d,f]=[f,d]);const p=!wt(f,u);p&&(o.from=f),f=Fe(f);const C=!wt(d,l);C&&this._focus(d);const x=Oi(t.to),{config:h}=o,{decay:g,velocity:w}=h;(r||i)&&(h.velocity=0),t.config&&!x&&ih(h,Zt(t.config,a),t.config!==c.config?Zt(c.config,a):void 0);let v=ct(this);if(!v||_.und(d))return n(Je(this,!0));const b=_.und(t.reset)?i&&!t.default:!_.und(f)&&Vn(t.reset,a),T=b?f:this.get(),j=Kn(d),A=_.num(j)||_.arr(j)||ni(j),F=!x&&(!A||Vn(c.immediate||t.immediate,a));if(C){const B=Pi(d);if(B!==v.constructor)if(F)v=this._set(j);else throw Error(`Cannot animate between ${v.constructor.name} and ${B.name}, as the "to" prop suggests`)}const fe=v.constructor;let k=We(d),q=!1;if(!k){const B=b||!pi(this)&&p;(C||B)&&(q=wt(Kn(T),j),k=!q),(!wt(o.immediate,F)&&!F||!wt(h.decay,g)||!wt(h.velocity,w))&&(k=!0)}if(q&&Mt(this)&&(o.changed&&!b?k=!0:k||this._stop(l)),!x&&((k||We(l))&&(o.values=v.getPayload(),o.toValues=We(d)?null:fe==Gn?[1]:Ve(j)),o.immediate!=F&&(o.immediate=F,!F&&!b&&this._set(l)),k)){const{onRest:B}=o;re(ch,ue=>ka(this,t,ue));const ce=Je(this,Mn(this,l));On(this._pendingCalls,ce),this._pendingCalls.add(n),o.changed&&z.batchedUpdates(()=>{var ue;o.changed=!b,B==null||B(ce,this),b?Zt(c.onRest,ce):(ue=o.onStart)==null||ue.call(o,ce,this)})}b&&this._set(T),x?n(Al(t.to,t,this._state,this)):k?this._start():Mt(this)&&!C?this._pendingCalls.add(n):n(_l(T))}_focus(e){const t=this.animation;e!==t.to&&(ga(this)&&this._detach(),t.to=e,ga(this)&&this._attach())}_attach(){let e=0;const{to:t}=this.animation;We(t)&&(jn(t,this),Fi(t)&&(e=t.priority+1)),this.priority=e}_detach(){const{to:e}=this.animation;We(e)&&Xn(e,this)}_set(e,t=!0){const n=Fe(e);if(!_.und(n)){const r=ct(this);if(!r||!wt(n,r.getValue())){const i=Pi(n);!r||r.constructor!=i?Os(this,i.create(n)):r.setValue(n),r&&z.batchedUpdates(()=>{this._onChange(n,t)})}}return ct(this)}_onStart(){const e=this.animation;e.changed||(e.changed=!0,In(this,"onStart",Je(this,Mn(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),Zt(this.animation.onChange,e,this)),Zt(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){const e=this.animation;ct(this).reset(Fe(e.to)),e.immediate||(e.fromValues=e.values.map(t=>t.lastPosition)),Mt(this)||(Ta(this,!0),kn(this)||this._resume())}_resume(){rt.skipAnimation?this.finish():Jr.start(this)}_stop(e,t){if(Mt(this)){Ta(this,!1);const n=this.animation;re(n.values,i=>{i.done=!0}),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),qn(this,{type:"idle",parent:this});const r=t?gn(this.get()):Je(this.get(),Mn(this,e??n.to));On(this._pendingCalls,r),n.changed&&(n.changed=!1,In(this,"onRest",r,this))}}};function Mn(e,t){const n=Kn(t),r=Kn(e.get());return wt(r,n)}function Ml(e,t=e.loop,n=e.to){const r=Zt(t);if(r){const i=r!==!0&&El(r),a=(i||e).reverse,c=!i||i.reset;return Zn({...e,loop:t,default:!1,pause:void 0,to:!a||Oi(n)?n:void 0,from:c?e.from:void 0,reset:c,...i})}}function Zn(e){const{to:t,from:n}=e=El(e),r=new Set;return _.obj(t)&&Aa(t,r),_.obj(n)&&Aa(n,r),e.keys=r.size?Array.from(r):null,e}function lh(e){const t=Zn(e);return _.und(t.default)&&(t.default=Rs(t)),t}function Aa(e,t){ut(e,(n,r)=>n!=null&&t.add(r))}var ch=["onStart","onRest","onChange","onPause","onResume"];function ka(e,t,n){e.animation[n]=t[n]!==jl(t,n)?Sl(t[n],e.key):void 0}function In(e,t,...n){var r,i,a,c;(i=(r=e.animation)[t])==null||i.call(r,...n),(c=(a=e.defaultProps)[t])==null||c.call(a,...n)}var uh=["onStart","onChange","onRest"],dh=1,fh=class{constructor(e,t){this.id=dh++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start({default:!0,...e})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle&&!e.isDelayed&&!e.isPaused)}get item(){return this._item}set item(e){this._item=e}get(){const e={};return this.each((t,n)=>e[n]=t.get()),e}set(e){for(const t in e){const n=e[t];_.und(n)||this.springs[t].set(n)}}update(e){return e&&this.queue.push(Zn(e)),this}start(e){let{queue:t}=this;return e?t=Ve(e).map(Zn):this.queue=[],this._flush?this._flush(this,t):(Fl(this,t),Li(this,t))}stop(e,t){if(e!==!!e&&(t=e),t){const n=this.springs;re(Ve(t),r=>n[r].stop(!!e))}else Qn(this._state,this._lastAsyncId),this.each(n=>n.stop(!!e));return this}pause(e){if(_.und(e))this.start({pause:!0});else{const t=this.springs;re(Ve(e),n=>t[n].pause())}return this}resume(e){if(_.und(e))this.start({pause:!1});else{const t=this.springs;re(Ve(e),n=>t[n].resume())}return this}each(e){ut(this.springs,e)}_onFrame(){const{onStart:e,onChange:t,onRest:n}=this._events,r=this._active.size>0,i=this._changed.size>0;(r&&!this._started||i&&!this._started)&&(this._started=!0,Dn(e,([o,l])=>{l.value=this.get(),o(l,this,this._item)}));const a=!r&&this._started,c=i||a&&n.size?this.get():null;i&&t.size&&Dn(t,([o,l])=>{l.value=c,o(l,this,this._item)}),a&&(this._started=!1,Dn(n,([o,l])=>{l.value=c,o(l,this,this._item)}))}eventObserved(e){if(e.type=="change")this._changed.add(e.parent),e.idle||this._active.add(e.parent);else if(e.type=="idle")this._active.delete(e.parent);else return;z.onFrame(this._onFrame)}};function Li(e,t){return Promise.all(t.map(n=>Il(e,n))).then(n=>Fs(e,n))}async function Il(e,t,n){const{keys:r,to:i,from:a,loop:c,onRest:o,onResolve:l}=t,u=_.obj(t.default)&&t.default;c&&(t.loop=!1),i===!1&&(t.to=null),a===!1&&(t.from=null);const d=_.arr(i)||_.fun(i)?i:void 0;d?(t.to=void 0,t.onRest=void 0,u&&(u.onRest=void 0)):re(uh,h=>{const g=t[h];if(_.fun(g)){const w=e._events[h];t[h]=({finished:v,cancelled:b})=>{const T=w.get(g);T?(v||(T.finished=!1),b&&(T.cancelled=!0)):w.set(g,{value:null,finished:v||!1,cancelled:b||!1})},u&&(u[h]=t[h])}});const f=e._state;t.pause===!f.paused?(f.paused=t.pause,On(t.pause?f.pauseQueue:f.resumeQueue)):f.paused&&(t.pause=!0);const p=(r||Object.keys(e.springs)).map(h=>e.springs[h].start(t)),C=t.cancel===!0||jl(t,"cancel")===!0;(d||C&&f.asyncId)&&p.push(Tl(++e._lastAsyncId,{props:t,state:f,actions:{pause:Mi,resume:Mi,start(h,g){C?(Qn(f,e._lastAsyncId),g(gn(e))):(h.onRest=o,g(Al(d,h,f,e)))}}})),f.paused&&await new Promise(h=>{f.resumeQueue.add(h)});const x=Fs(e,await Promise.all(p));if(c&&x.finished&&!(n&&x.noop)){const h=Ml(t,c,i);if(h)return Fl(e,[h]),Il(e,h,!0)}return l&&z.batchedUpdates(()=>l(x,e,e.item)),x}function Ma(e,t){const n={...e.springs};return t&&re(Ve(t),r=>{_.und(r.keys)&&(r=Zn(r)),_.obj(r.to)||(r={...r,to:void 0}),Rl(n,r,i=>Ol(i))}),Pl(e,n),n}function Pl(e,t){ut(t,(n,r)=>{e.springs[r]||(e.springs[r]=n,jn(n,e))})}function Ol(e,t){const n=new oh;return n.key=e,t&&jn(n,t),n}function Rl(e,t,n){t.keys&&re(t.keys,r=>{(e[r]||(e[r]=n(r)))._prepareNode(t)})}function Fl(e,t){re(t,n=>{Rl(e.springs,n,r=>Ol(r,e))})}var si=({children:e,...t})=>{const n=S.useContext(Fr),r=t.pause||!!n.pause,i=t.immediate||!!n.immediate;t=Uf(()=>({pause:r,immediate:i}),[r,i]);const{Provider:a}=Fr;return S.createElement(a,{value:t},e)},Fr=hh(si,{});si.Provider=Fr.Provider;si.Consumer=Fr.Consumer;function hh(e,t){return Object.assign(e,S.createContext(t)),e.Provider._context=e,e.Consumer._context=e,e}var mh=()=>{const e=[],t=function(r){Lf();const i=[];return re(e,(a,c)=>{if(_.und(r))i.push(a.start());else{const o=n(r,a,c);o&&i.push(a.start(o))}}),i};t.current=e,t.add=function(r){e.includes(r)||e.push(r)},t.delete=function(r){const i=e.indexOf(r);~i&&e.splice(i,1)},t.pause=function(){return re(e,r=>r.pause(...arguments)),this},t.resume=function(){return re(e,r=>r.resume(...arguments)),this},t.set=function(r){re(e,(i,a)=>{const c=_.fun(r)?r(a,i):r;c&&i.set(c)})},t.start=function(r){const i=[];return re(e,(a,c)=>{if(_.und(r))i.push(a.start());else{const o=this._getProps(r,a,c);o&&i.push(a.start(o))}}),i},t.stop=function(){return re(e,r=>r.stop(...arguments)),this},t.update=function(r){return re(e,(i,a)=>i.update(this._getProps(r,i,a))),this};const n=function(r,i,a){return _.fun(r)?r(a,i):r};return t._getProps=n,t};function ph(e,t,n){const r=_.fun(t)&&t;r&&!n&&(n=[]);const i=S.useMemo(()=>r||arguments.length==3?mh():void 0,[]),a=S.useRef(0),c=bl(),o=S.useMemo(()=>({ctrls:[],queue:[],flush(w,v){const b=Ma(w,v);return a.current>0&&!o.queue.length&&!Object.keys(b).some(j=>!w.springs[j])?Li(w,v):new Promise(j=>{Pl(w,b),o.queue.push(()=>{j(Li(w,v))}),c()})}}),[]),l=S.useRef([...o.ctrls]),u=[],d=ya(e)||0;S.useMemo(()=>{re(l.current.slice(e,d),w=>{eh(w,i),w.stop(!0)}),l.current.length=e,f(d,e)},[e]),S.useMemo(()=>{f(0,Math.min(d,e))},n);function f(w,v){for(let b=w;b<v;b++){const T=l.current[b]||(l.current[b]=new fh(null,o.flush)),j=r?r(b,T):t[b];j&&(u[b]=lh(j))}}const p=l.current.map((w,v)=>Ma(w,u[v])),C=S.useContext(si),x=ya(C),h=C!==x&&Jf(C);Ps(()=>{a.current++,o.ctrls=l.current;const{queue:w}=o;w.length&&(o.queue=[],re(w,v=>v())),re(l.current,(v,b)=>{i==null||i.add(v),h&&v.start({default:C});const T=u[b];T&&(th(v,T.ref),v.ref?v.queue.push(T):v.start(T))})}),xl(()=>()=>{re(o.ctrls,w=>w.stop(!0))});const g=p.map(w=>({...w}));return i?[g,i]:g}function gh(e,t){const n=_.fun(e),[[r],i]=ph(1,n?e:[e],n?t||[]:t);return n||arguments.length==2?[r,i]:r}var vh=class extends Ns{constructor(e,t){super(),this.source=e,this.idle=!0,this._active=new Set,this.calc=Hn(...t);const n=this._get(),r=Pi(n);Os(this,r.create(n))}advance(e){const t=this._get(),n=this.get();wt(t,n)||(ct(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&Ia(this._active)&&gi(this)}_get(){const e=_.arr(this.source)?this.source.map(Fe):Ve(Fe(this.source));return this.calc(...e)}_start(){this.idle&&!Ia(this._active)&&(this.idle=!1,re(ri(this),e=>{e.done=!1}),rt.skipAnimation?(z.batchedUpdates(()=>this.advance()),gi(this)):Jr.start(this))}_attach(){let e=1;re(Ve(this.source),t=>{We(t)&&jn(t,this),Fi(t)&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))}),this.priority=e,this._start()}_detach(){re(Ve(this.source),e=>{We(e)&&Xn(e,this)}),this._active.clear(),gi(this)}eventObserved(e){e.type=="change"?e.idle?this.advance():(this._active.add(e.parent),this._start()):e.type=="idle"?this._active.delete(e.parent):e.type=="priority"&&(this.priority=Ve(this.source).reduce((t,n)=>Math.max(t,(Fi(n)?n.priority:0)+1),0))}};function yh(e){return e.idle!==!1}function Ia(e){return!e.size||Array.from(e).every(yh)}function gi(e){e.idle||(e.idle=!0,re(ri(e),t=>{t.done=!0}),qn(e,{type:"idle",parent:e}))}rt.assign({createStringInterpolator:vl,to:(e,t)=>new vh(e,t)});var Nl=/^--/;function bh(e,t){return t==null||typeof t=="boolean"||t===""?"":typeof t=="number"&&t!==0&&!Nl.test(e)&&!(Un.hasOwnProperty(e)&&Un[e])?t+"px":(""+t).trim()}var Pa={};function xh(e,t){if(!e.nodeType||!e.setAttribute)return!1;const n=e.nodeName==="filter"||e.parentNode&&e.parentNode.nodeName==="filter",{style:r,children:i,scrollTop:a,scrollLeft:c,viewBox:o,...l}=t,u=Object.values(l),d=Object.keys(l).map(f=>n||e.hasAttribute(f)?f:Pa[f]||(Pa[f]=f.replace(/([A-Z])/g,p=>"-"+p.toLowerCase())));i!==void 0&&(e.textContent=i);for(const f in r)if(r.hasOwnProperty(f)){const p=bh(f,r[f]);Nl.test(f)?e.style.setProperty(f,p):e.style[f]=p}d.forEach((f,p)=>{e.setAttribute(f,u[p])}),a!==void 0&&(e.scrollTop=a),c!==void 0&&(e.scrollLeft=c),o!==void 0&&e.setAttribute("viewBox",o)}var Un={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wh=(e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1),Ch=["Webkit","Ms","Moz","O"];Un=Object.keys(Un).reduce((e,t)=>(Ch.forEach(n=>e[wh(n,t)]=e[t]),e),Un);var Sh=/^(matrix|translate|scale|rotate|skew)/,jh=/^(translate)/,Eh=/^(rotate|skew)/,vi=(e,t)=>_.num(e)&&e!==0?e+t:e,Tr=(e,t)=>_.arr(e)?e.every(n=>Tr(n,t)):_.num(e)?e===t:parseFloat(e)===t,Th=class extends ii{constructor({x:e,y:t,z:n,...r}){const i=[],a=[];(e||t||n)&&(i.push([e||0,t||0,n||0]),a.push(c=>[`translate3d(${c.map(o=>vi(o,"px")).join(",")})`,Tr(c,0)])),ut(r,(c,o)=>{if(o==="transform")i.push([c||""]),a.push(l=>[l,l===""]);else if(Sh.test(o)){if(delete r[o],_.und(c))return;const l=jh.test(o)?"px":Eh.test(o)?"deg":"";i.push(Ve(c)),a.push(o==="rotate3d"?([u,d,f,p])=>[`rotate3d(${u},${d},${f},${vi(p,l)})`,Tr(p,0)]:u=>[`${o}(${u.map(d=>vi(d,l)).join(",")})`,Tr(u,o.startsWith("scale")?1:0)])}}),i.length&&(r.transform=new _h(i,a)),super(r)}},_h=class extends ml{constructor(e,t){super(),this.inputs=e,this.transforms=t,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let e="",t=!0;return re(this.inputs,(n,r)=>{const i=Fe(n[0]),[a,c]=this.transforms[r](_.arr(i)?i:n.map(Fe));e+=" "+a,t=t&&c}),t?"none":e}observerAdded(e){e==1&&re(this.inputs,t=>re(t,n=>We(n)&&jn(n,this)))}observerRemoved(e){e==0&&re(this.inputs,t=>re(t,n=>We(n)&&Xn(n,this)))}eventObserved(e){e.type=="change"&&(this._value=null),qn(this,e)}},Ah=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];rt.assign({batchedUpdates:Wa.unstable_batchedUpdates,createStringInterpolator:vl,colors:pf});var kh=Yf(Ah,{applyAnimatedValues:xh,createAnimatedStyle:e=>new Th(e),getComponentProps:({scrollTop:e,scrollLeft:t,...n})=>n}),Mh=kh.animated,Vi=new Map,wr=new WeakMap,Oa=0,Ih=void 0;function Ph(e){return e?(wr.has(e)||(Oa+=1,wr.set(e,Oa.toString())),wr.get(e)):"0"}function Oh(e){return Object.keys(e).sort().filter(t=>e[t]!==void 0).map(t=>`${t}_${t==="root"?Ph(e.root):e[t]}`).toString()}function Rh(e){const t=Oh(e);let n=Vi.get(t);if(!n){const r=new Map;let i;const a=new IntersectionObserver(c=>{c.forEach(o=>{var l;const u=o.isIntersecting&&i.some(d=>o.intersectionRatio>=d);e.trackVisibility&&typeof o.isVisible>"u"&&(o.isVisible=u),(l=r.get(o.target))==null||l.forEach(d=>{d(u,o)})})},e);i=a.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:a,elements:r},Vi.set(t,n)}return n}function Fh(e,t,n={},r=Ih){if(typeof window.IntersectionObserver>"u"&&r!==void 0){const l=e.getBoundingClientRect();return t(r,{isIntersecting:r,target:e,intersectionRatio:typeof n.threshold=="number"?n.threshold:0,time:0,boundingClientRect:l,intersectionRect:l,rootBounds:l}),()=>{}}const{id:i,observer:a,elements:c}=Rh(n),o=c.get(e)||[];return c.has(e)||c.set(e,o),o.push(t),a.observe(e),function(){o.splice(o.indexOf(t),1),o.length===0&&(c.delete(e),a.unobserve(e)),c.size===0&&(a.disconnect(),Vi.delete(i))}}function Dl({threshold:e,delay:t,trackVisibility:n,rootMargin:r,root:i,triggerOnce:a,skip:c,initialInView:o,fallbackInView:l,onChange:u}={}){var d;const[f,p]=S.useState(null),C=S.useRef(),[x,h]=S.useState({inView:!!o,entry:void 0});C.current=u,S.useEffect(()=>{if(c||!f)return;let b;return b=Fh(f,(T,j)=>{h({inView:T,entry:j}),C.current&&C.current(T,j),j.isIntersecting&&a&&b&&(b(),b=void 0)},{root:i,rootMargin:r,threshold:e,trackVisibility:n,delay:t},l),()=>{b&&b()}},[Array.isArray(e)?e.toString():e,f,i,r,a,c,n,l,t]);const g=(d=x.entry)==null?void 0:d.target,w=S.useRef();!f&&g&&!a&&!c&&w.current!==g&&(w.current=g,h({inView:!!o,entry:void 0}));const v=[p,x.inView,x.entry];return v.ref=v[0],v.inView=v[1],v.entry=v[2],v}const Nh="Left",Dh="Right",Lh="Up",Vh="Down",mn={delta:10,preventScrollOnSwipe:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0,swipeDuration:1/0,touchEventOptions:{passive:!0}},Ui={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},Ra="mousemove",Fa="mouseup",Uh="touchend",$h="touchmove",Bh="touchstart";function zh(e,t,n,r){return e>t?n>0?Dh:Nh:r>0?Vh:Lh}function Na(e,t){if(t===0)return e;const n=Math.PI/180*t,r=e[0]*Math.cos(n)+e[1]*Math.sin(n),i=e[1]*Math.cos(n)-e[0]*Math.sin(n);return[r,i]}function Hh(e,t){const n=d=>{const f="touches"in d;f&&d.touches.length>1||e((p,C)=>{C.trackMouse&&!f&&(document.addEventListener(Ra,r),document.addEventListener(Fa,c));const{clientX:x,clientY:h}=f?d.touches[0]:d,g=Na([x,h],C.rotationAngle);return C.onTouchStartOrOnMouseDown&&C.onTouchStartOrOnMouseDown({event:d}),Object.assign(Object.assign(Object.assign({},p),Ui),{initial:g.slice(),xy:g,start:d.timeStamp||0})})},r=d=>{e((f,p)=>{const C="touches"in d;if(C&&d.touches.length>1)return f;if(d.timeStamp-f.start>p.swipeDuration)return f.swiping?Object.assign(Object.assign({},f),{swiping:!1}):f;const{clientX:x,clientY:h}=C?d.touches[0]:d,[g,w]=Na([x,h],p.rotationAngle),v=g-f.xy[0],b=w-f.xy[1],T=Math.abs(v),j=Math.abs(b),A=(d.timeStamp||0)-f.start,F=Math.sqrt(T*T+j*j)/(A||1),fe=[v/(A||1),b/(A||1)],k=zh(T,j,v,b),q=typeof p.delta=="number"?p.delta:p.delta[k.toLowerCase()]||mn.delta;if(T<q&&j<q&&!f.swiping)return f;const B={absX:T,absY:j,deltaX:v,deltaY:b,dir:k,event:d,first:f.first,initial:f.initial,velocity:F,vxvy:fe};B.first&&p.onSwipeStart&&p.onSwipeStart(B),p.onSwiping&&p.onSwiping(B);let ce=!1;return(p.onSwiping||p.onSwiped||p[`onSwiped${k}`])&&(ce=!0),ce&&p.preventScrollOnSwipe&&p.trackTouch&&d.cancelable&&d.preventDefault(),Object.assign(Object.assign({},f),{first:!1,eventData:B,swiping:!0})})},i=d=>{e((f,p)=>{let C;if(f.swiping&&f.eventData){if(d.timeStamp-f.start<p.swipeDuration){C=Object.assign(Object.assign({},f.eventData),{event:d}),p.onSwiped&&p.onSwiped(C);const x=p[`onSwiped${C.dir}`];x&&x(C)}}else p.onTap&&p.onTap({event:d});return p.onTouchEndOrOnMouseUp&&p.onTouchEndOrOnMouseUp({event:d}),Object.assign(Object.assign(Object.assign({},f),Ui),{eventData:C})})},a=()=>{document.removeEventListener(Ra,r),document.removeEventListener(Fa,c)},c=d=>{a(),i(d)},o=(d,f)=>{let p=()=>{};if(d&&d.addEventListener){const C=Object.assign(Object.assign({},mn.touchEventOptions),f.touchEventOptions),x=[[Bh,n,C],[$h,r,Object.assign(Object.assign({},C),f.preventScrollOnSwipe?{passive:!1}:{})],[Uh,i,C]];x.forEach(([h,g,w])=>d.addEventListener(h,g,w)),p=()=>x.forEach(([h,g])=>d.removeEventListener(h,g))}return p},u={ref:d=>{d!==null&&e((f,p)=>{if(f.el===d)return f;const C={};return f.el&&f.el!==d&&f.cleanUpTouch&&(f.cleanUpTouch(),C.cleanUpTouch=void 0),p.trackTouch&&d&&(C.cleanUpTouch=o(d,p)),Object.assign(Object.assign(Object.assign({},f),{el:d}),C)})}};return t.trackMouse&&(u.onMouseDown=n),[u,o]}function Wh(e,t,n,r){return!t.trackTouch||!e.el?(e.cleanUpTouch&&e.cleanUpTouch(),Object.assign(Object.assign({},e),{cleanUpTouch:void 0})):e.cleanUpTouch?t.preventScrollOnSwipe!==n.preventScrollOnSwipe||t.touchEventOptions.passive!==n.touchEventOptions.passive?(e.cleanUpTouch(),Object.assign(Object.assign({},e),{cleanUpTouch:r(e.el,t)})):e:Object.assign(Object.assign({},e),{cleanUpTouch:r(e.el,t)})}function qh(e){const{trackMouse:t}=e,n=S.useRef(Object.assign({},Ui)),r=S.useRef(Object.assign({},mn)),i=S.useRef(Object.assign({},r.current));i.current=Object.assign({},r.current),r.current=Object.assign(Object.assign({},mn),e);let a;for(a in mn)r.current[a]===void 0&&(r.current[a]=mn[a]);const[c,o]=S.useMemo(()=>Hh(l=>n.current=l(n.current,r.current),{trackMouse:t}),[t]);return n.current=Wh(n.current,r.current,i.current,o),c}const Xh=({alt:e,borderRadius:t,height:n,src:r,status:i,width:a})=>{const[c,o]=S.useState(!1),{ref:l,inView:u}=Dl();return S.useEffect(()=>{if(u&&!c){const d=new Image;d.onload=()=>o(!0),d.onerror=()=>{var p;const f=(p=l.current)==null?void 0:p.parentElement;f&&(f.style.display="none")},d.src=r}},[u,c,r]),s.jsx("div",{className:"image-container",ref:l,children:c?s.jsx("img",{className:i==="unread"?"":"read",src:r,alt:e,style:{width:a,height:n,objectFit:"cover",borderRadius:t}}):s.jsx("div",{className:"skeleton-container",children:s.jsx(Ar,{text:{rows:0},image:{style:{width:a,height:n,margin:"0",borderRadius:t}},animation:!0})})})},Yh=({feed:e,mini:t})=>{const n=Bi(e.site_url)?e.site_url:Qi(e.feed_url),{hostname:r}=new URL(n),i=`https://icons.duckduckgo.com/ip3/${r}.ico`;return s.jsx("img",{className:t?"feed-icon-mini":"feed-icon",src:i,alt:"Feed icon"})},Gh=({entry:e,isThumbnail:t})=>{const n={width:t?"100px":"100%",height:t?"100px":"160px"};return e.imgSrc?s.jsx("div",{className:t?"thumbnail":"cover-image",children:s.jsx(Xh,{alt:e.id,borderRadius:t?"4px":void 0,src:e.imgSrc,status:e.status,width:n.width,height:n.height})}):null},Kh=({entry:e,showFeedIcon:t,mini:n})=>{const r=Hi({"article-card-mini-content":n,"article-card-mini-content-padding":n&&t});return s.jsxs("div",{className:r,style:{width:"calc(100% - 32px)"},children:[s.jsx("div",{style:{padding:n?"0 8px 0 0":"0 0 8px 0"},children:s.jsx(Gh,{entry:e,isThumbnail:n})}),s.jsxs("div",{className:n?"article-card-mini-content-text":"",children:[s.jsx(U.Text,{className:e.status==="unread"?"title-unread":"title-read",children:e.title}),s.jsxs(U.Text,{className:"article-info",children:[s.jsx("br",{}),t&&s.jsx(Yh,{feed:e.feed,mini:n}),e.feed.title,s.jsx("br",{}),to(e.published_at)]}),e.starred&&s.jsx(Wi,{className:"icon-starred"})]})]})},Qh=({entry:e,handleEntryClick:t,mini:n})=>{const{activeContent:r}=Sn(),i=W(we),{markReadOnScroll:a,showFeedIcon:c}=i,o=r&&e.id===r.id,{handleToggleStarred:l,handleToggleStatus:u}=ls(),[d,f]=S.useState(0),p=100,C=.5,x=e.starred,h=e.status==="unread",g=qh({preventScrollOnSwipe:!0,delta:p/2,onSwiping:k=>{const q=Math.min(Math.abs(k.deltaX*C),p)*Math.sign(k.deltaX);f(q)},onSwiped:async k=>{try{k.deltaX>p?(await l(e),ee.success(x?"Unmarked as starred":"Marked as starred")):k.deltaX<-p&&(await u(e),ee.success(h?"Marked as read":"Marked as unread"))}catch{ee.error("Failed to update, please try again")}f(0)}}),[w,v]=S.useState(!1),[b,T]=S.useState(!1),j=()=>u(e),A=20,{ref:F}=Dl({skip:b,onChange:async(k,q)=>{if(!(!a||!h)){if(k)v(!0);else if(w){const{top:B}=q.boundingClientRect;B<A&&(await j(),T(!0))}}}}),fe=gh({x:d});return S.createElement("div",{...g,className:"article-card",key:e.id},s.jsxs("div",{ref:F,children:[s.jsx(Mh.div,{className:"swipe-card",style:fe,children:s.jsx(zn,{className:Hi("swipe-content","card-custom-style","card-custom-hover-style",{"card-custom-selected-style":o}),"data-entry-id":e.id,hoverable:!0,onClick:()=>t(e),bordered:!1,children:s.jsx(zn.Meta,{description:s.jsx(Kh,{entry:e,showFeedIcon:c,mini:n})})})}),s.jsxs("div",{className:"swipe-actions",children:[s.jsx("div",{className:"swipe-action left",children:x?s.jsx(Wi,{style:{color:"#ffcd00"}}):s.jsx(zi,{})}),s.jsx("div",{className:"swipe-action right",children:h?s.jsx(qa,{}):s.jsx(Xa,{})})]})]}))},Zh=({loading:e})=>{const t=W(we),{layout:n}=t,r=n==="large"?2:4,i=a=>s.jsx(zn,{className:"card-style",cover:n==="large"&&s.jsx("div",{className:"card-cover-style"}),children:s.jsx(zn.Meta,{description:s.jsx(Ar,{loading:e,animation:!0,text:{rows:3,width:150}})})},a);return e?Array.from({length:r},(a,c)=>i(c)):null},Jh=()=>{const{isMobileView:e}=er(),t=W(we),{updateConfig:n}=Dr(),{orderDirection:r}=t,[i,a]=Se(os),[c,o]=Se(as),l=()=>{n({orderDirection:r==="desc"?"asc":"desc"})};return s.jsxs("div",{className:"search-and-sort-bar",children:[s.jsx(tt.Search,{allowClear:!0,placeholder:"Search...",value:i,addBefore:s.jsxs(Ce,{placeholder:"Select type",onChange:o,style:{width:100},value:c,children:[s.jsx(Ce.Option,{value:"0",children:"Title"}),s.jsx(Ce.Option,{value:"1",children:"Content"})]}),onChange:a,style:{width:e?"100%":278,marginLeft:8}}),s.jsx($n,{mini:!0,position:"left",content:r==="desc"?"Newest first":"Oldest first",children:s.jsx(ve,{shape:"circle",size:"small",style:{margin:"0 8px",flexShrink:0},icon:r==="desc"?s.jsx(bc,{}):s.jsx(xc,{}),onClick:l})})]})},em=S.forwardRef(({info:e,loading:t,getEntries:n,handleEntryClick:r,cardsRef:i},a)=>{const c=W(bo),o=W(Cn),l=te(xo),u=W(wn),d=W(Br),f=W($r),{loadingMore:p,handleLoadMore:C}=cs(),x=W(we),{layout:h}=x,g=h==="small";return S.useEffect(()=>{l(w=>w+1)},[c]),s.jsxs(s.Fragment,{children:[s.jsx(Jh,{}),s.jsxs("div",{className:"entry-list",ref:a,children:[s.jsx(Zh,{loading:t}),t?null:s.jsx("div",{ref:i,children:o.map(w=>s.jsx(Qh,{entry:w,handleEntryClick:r,mini:g},w.id))}),!t&&(u==="all"?f:d)&&s.jsxs(ve,{className:"load-more-button",loading:p,long:!0,onClick:()=>C(e,n),children:[!p&&s.jsx(wc,{}),"Load more"]})]})]})}),tm=S.forwardRef(({info:e,refreshArticleList:t,markAllAsRead:n},r)=>{const[i,a]=Se(tr),[c,o]=Se(nr),l=W(wo),u=te(Cn),d=te(Ur),[f,p]=Se(wn),{fetchData:C}=is(),x=async()=>{try{await n(),ee.success("Marked all as read successfully"),C(),a(g=>g.map(w=>({...w,status:"read"}))),o([]),u(f==="all"?g=>g.map(w=>({...w,status:"read"})):[]),d(0)}catch{ee.error("Failed to mark all as read")}},h=g=>{r.current&&r.current.scrollTo(0,0),p(g),u(g==="all"?i:c)};return s.jsxs("div",{className:"entry-panel",children:[!["starred","history"].includes(e.from)&&s.jsx(yi,{focusLock:!0,title:"Mark All As Read?",onOk:x,children:s.jsx(ve,{icon:s.jsx(La,{}),shape:"circle"})}),s.jsx(Cc.Group,{disabled:e.from==="history",onChange:g=>h(g),options:[{label:"ALL",value:"all"},{label:"UNREAD",value:"unread"}],type:"button",value:f}),s.jsx(ve,{icon:s.jsx(bi,{}),loading:l,shape:"circle",onClick:t})]})}),En=({info:e,getEntries:t,markAllAsRead:n})=>{const{activeContent:r,setActiveContent:i}=Sn(),a=W(Zi),{fetchData:c}=is(),o=W(we),{orderBy:l,orderDirection:u}=o,[d,f]=Se(Co),[p,C]=Se(wo),x=te(tr),h=te(Br),g=te($r),w=te(vo),v=te(go),b=te(Ur),T=te(nr),j=te(yo),A=W(Cn),F=te(ss),{handleFetchContent:fe,handleToggleStarred:k,handleToggleStatus:q,handleEntryStatusUpdate:B}=ls(),{parseFirstImage:ce}=cs(),[ue,se]=S.useState(!1),ae=S.useRef(null),me=S.useRef(null),je=S.useRef(null);S.useEffect(()=>{!ue||e.from==="history"||H()},[l]),S.useEffect(()=>{F(e.from),H()},[e,u]);const Ee=async M=>{i(null),setTimeout(()=>{i({...M,status:"read"})},200),M.status==="unread"&&(setTimeout(()=>{B(M,"read")},200),Ki([M.id],"read").catch(()=>{ee.error("Failed to mark entry as read, please try again later"),B(M,"unread")})),je.current&&(je.current.setAttribute("tabIndex","-1"),je.current.focus(),je.current.scrollTo(0,0))},{handleBKey:St,handleDKey:y,handleEscapeKey:m,handleLeftKey:I,handleMKey:P,handleRightKey:O,handleSKey:N}=So(e,Ee,t);S.useEffect(()=>{const M={27:()=>m(ae,je),37:()=>I(),39:()=>O(e),66:()=>St(),68:()=>y(fe),77:()=>P(()=>q(r)),83:()=>N(()=>k(r))},$=Q=>{const ie=M[Q.keyCode];ie&&ie()};return d?document.addEventListener("keydown",$):document.removeEventListener("keydown",$),()=>{document.removeEventListener("keydown",$)}},[r,A,d]);const D=(M,$,Q,ie)=>{x(M),T($),v(Q.data.total),g(M.length<Q.data.total),b(ie.data.total),h($.length<ie.data.total)},R=(M,$)=>{var Q,ie;if((Q=M==null?void 0:M.data)!=null&&Q.entries&&((ie=$==null?void 0:$.data)==null?void 0:ie.total)>=0){const X=M.data.entries.map(ce),Y=$.data.entries.map(ce);D(X,Y,M,$)}},V=async()=>{C(!0);try{if(e.from==="history"){const M=await t();R(M,M)}else{const[M,$]=await Promise.all([t(),t(0,"unread")]);R(M,$)}}catch(M){console.error("Error fetching articles:",M)}finally{C(!1)}},H=async()=>{if(ae.current&&ae.current.scrollTo(0,0),w(0),j(0),!a){c();return}await V()};return S.useEffect(()=>{r&&i(null)},[]),S.useEffect(()=>{if(a)try{V(),se(!0),f(!0)}catch{ee.error("Failed to fetch articles, please try again later")}},[a]),s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"entry-col",children:[s.jsx(Bs,{in:!p,timeout:200,nodeRef:me,classNames:"fade",children:s.jsx(em,{info:e,cardsRef:me,loading:p,getEntries:t,handleEntryClick:Ee,ref:ae})}),s.jsx(tm,{info:e,refreshArticleList:H,markAllAsRead:n,ref:ae})]}),s.jsx(Bs,{in:r!=null,timeout:200,nodeRef:je,classNames:"fade",unmountOnExit:!0,children:s.jsx(af,{info:e,handleEntryClick:Ee,getEntries:t,entryListRef:ae,ref:je})})]})},nm=()=>{const e=async()=>{const t=await su();return de.put(`/v1/users/${t.data.id}/mark-all-as-read`)};return s.jsx(En,{info:{from:"all",id:""},getEntries:Qc,markAllAsRead:e})},rm=()=>{const{id:e}=Ya(),t=W(we),{orderBy:n,pageSize:r}=t,i=async(c=0,o=null)=>{const l={baseUrl:`/v1/categories/${e}/entries`,orderField:n,offset:c,limit:r,status:o},u=xn(l);return de.get(u)},a=async()=>de.put(`/v1/categories/${e}/mark-all-as-read`);return s.jsx(En,{info:{from:"category",id:e},getEntries:i,markAllAsRead:a})},im=()=>{const e=bn();return s.jsx("div",{id:"error-page",style:{top:"30%",position:"relative"},children:s.jsx("div",{children:s.jsx(Sc,{status:"404",subTitle:"Whoops, that page is gone. ",extra:[s.jsx(ve,{type:"primary",onClick:()=>e("/"),children:"Back to Home"},"back")]})})})},sm=()=>{const{id:e}=Ya(),t=W(we),{orderBy:n,pageSize:r}=t,i=async(c=0,o=null)=>{const l={baseUrl:`/v1/feeds/${e}/entries`,orderField:n,offset:c,limit:r,status:o},u=xn(l);return de.get(u)},a=async()=>de.put(`/v1/feeds/${e}/mark-all-as-read`);return s.jsx(En,{info:{from:"feed",id:e},getEntries:i,markAllAsRead:a})},am=()=>s.jsx(En,{info:{from:"history",id:""},getEntries:ro}),om=e=>{var r;const t=e.getFieldsValue();let n=!0;for(const i of Object.keys(t))if(i!=="password"){const a=(r=t[i])==null?void 0:r.trim();e.setFieldValue(i,a),a||(n=!1)}else t[i]||(n=!1);return n},Cr=(e,t)=>{e.key==="Enter"&&t.submit()},lm=()=>{const[e]=jc(),[t,n]=S.useState(!1),[r,i]=Se(Xi),[a,c]=S.useState("token"),o=bn();S.useEffect(()=>{Gi(r)&&o("/")},[r,o]);const l=async()=>{n(!0);try{(await $a({url:"/v1/me",method:"get",baseURL:e.getFieldsValue().server,headers:{"X-Auth-Token":e.getFieldsValue().token},auth:{username:e.getFieldsValue().username,password:e.getFieldsValue().password},timeout:5e3})).status===200&&(ee.success("Success"),i(e.getFieldsValue()),o("/"))}catch(d){console.error(d),ee.error(d.message)}n(!1)},u=async()=>{await l()};return s.jsx("div",{style:{backgroundColor:"var(--color-bg-1)",height:"100%"},children:s.jsx("div",{style:{backgroundColor:"var(--color-fill-1)",height:"100%"},children:s.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",overflowY:"auto"},children:[s.jsx(Ha,{style:{fontSize:48,color:"rgb(var(--primary-6))",marginTop:"20px"}}),s.jsx(U.Title,{heading:3,children:"Connect to your server"}),s.jsxs(zn,{style:{boxShadow:"0 4px 10px rgb(var(--color-bg-3))",padding:"20px",width:"380px",marginTop:"20px"},children:[s.jsxs(ye,{autoComplete:"off",form:e,layout:"vertical",onSubmit:async()=>{om(e)?await u():ee.error("Please fill in all required fields")},children:[s.jsx(ye.Item,{field:"server",label:"Server address",rules:[{required:!0}],onKeyDown:d=>{Cr(d,e)},children:s.jsx(tt,{disabled:t,placeholder:"Please input server address",prefix:s.jsx(Ec,{})})}),a==="token"&&s.jsx(ye.Item,{field:"token",label:"API Token",rules:[{required:!0}],onKeyDown:d=>{Cr(d,e)},children:s.jsx(tt,{disabled:t,placeholder:"Please input api token",prefix:s.jsx(zs,{})})}),a==="user"&&s.jsxs(s.Fragment,{children:[s.jsx(ye.Item,{field:"username",label:"Username",rules:[{required:!0}],onKeyDown:d=>{Cr(d,e)},children:s.jsx(tt,{disabled:t,prefix:s.jsx(Ua,{}),placeholder:"Please input username"})}),s.jsx(ye.Item,{field:"password",label:"Password",rules:[{required:!0}],onKeyDown:d=>{Cr(d,e)},children:s.jsx(tt.Password,{disabled:t,prefix:s.jsx(zs,{}),placeholder:"Please input password"})})]})]}),s.jsx(ve,{loading:t,type:"primary",long:!0,onClick:u,style:{marginTop:"20px"},children:"Connect"}),s.jsx(et,{orientation:"center",children:"Or connect with"}),s.jsx(ve,{type:"secondary",long:!0,onClick:()=>c(a==="token"?"user":"token"),style:{marginTop:"20px"},children:a==="token"?"Username and password":"API Token"})]}),s.jsxs("div",{style:{display:"flex",marginTop:"40px"},children:[s.jsx(U.Text,{disabled:!0,children:"Need more information?"}),s.jsx(Tc,{href:"https://miniflux.app/docs/api.html#authentication",style:{fontWeight:"500"},children:"Go to Miniflux official website"})]})]})})})},cm=({children:e})=>{const t=W(Xi);return Gi(t)?s.jsx(s.Fragment,{children:e}):s.jsx(Ga,{to:"/login"})},um=()=>s.jsx(En,{info:{from:"starred",id:""},getEntries:no}),dm=()=>{const e=async()=>{const t=await Sr(0,"unread"),n=t.data.entries.map(r=>r.id);if(t.data.total>n.length){const r=t.data.total-n.length,i=Math.ceil(r/100)*100,a=await Sr(n.length,"unread",i);n.push(...a.data.entries.map(c=>c.id))}return Ki(n,"read")};return s.jsx(En,{info:{from:"today",id:""},getEntries:Sr,markAllAsRead:e})},fm=Ct("homePage"),hm=[{path:"/all",element:s.jsx(nm,{})},{path:"/today",element:s.jsx(dm,{})},{path:"/starred",element:s.jsx(um,{})},{path:"/history",element:s.jsx(am,{})},{path:"/category/:id",element:s.jsx(rm,{})},{path:"/feed/:id",element:s.jsx(sm,{})}],Ll=_c([{path:"/",element:s.jsx(cm,{children:s.jsx(ku,{})}),errorElement:s.jsx(im,{}),children:[...hm,{index:!0,element:s.jsx(Ga,{to:`/${fm}`,replace:!0})}]},{path:"/login",element:s.jsx(lm,{})}]);Ac.createRoot(document.getElementById("root")).render(s.jsx(kc,{locale:Mc,children:s.jsx(Ic,{router:Ll})}))});export default mm();
