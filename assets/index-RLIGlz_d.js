var mo=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);import{r as x,g as Yr,e as Z,c as ne,d as nr,a as Da,M as re,u as Cr,j as i,B as ae,I as vo,S as Kr,T as Ue,b as In,f as go,h as yo,i as xo,D as ra,k as Mt,l as La,m as bo,n as wo,A as za,o as Ua,p as Co,q as So,s as Eo,t as $,R as vr,v as ut,w as ar,x as jo,F as me,y as rt,z as Ba,C as Zr,E as je,G as wr,H as To,J as $a,P as Va,K as ko,L as _o,N as er,O as Mo,Q as Fo,U as Io,V as Ao,W as Po,X as No,Y as Oo,Z as Ha,_ as $r,$ as Ro,a0 as Do,a1 as An,a2 as Lo,a3 as zo,a4 as Uo,a5 as Bo,a6 as Wa,a7 as Ga,a8 as Jr,a9 as qa,aa as Xa,ab as Ya,ac as $o,ad as Vo,ae as Ho,af as Wo,ag as Go,ah as qo,ai as Wt,aj as Xo,ak as Yo,al as Ko,am as na,an as Zo,ao as Jo,ap as Ka,aq as Qo,ar as es,as as aa,at as ts,au as Za,av as rs,aw as ns,ax as as,ay as is,az as os}from"./vendor-B3iePM5E.js";var fd=mo((vd,jr)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();var ss={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const ia=e=>{let t;const r=new Set,n=(d,f)=>{const v=typeof d=="function"?d(t):d;if(!Object.is(v,t)){const C=t;t=f??(typeof v!="object"||v===null)?v:Object.assign({},t,v),r.forEach(y=>y(t,C))}},a=()=>t,s={setState:n,getState:a,getInitialState:()=>u,subscribe:d=>(r.add(d),()=>r.delete(d)),destroy:()=>{(ss?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=t=e(n,a,s);return s},ls=e=>e?ia(e):ia;var Ja={exports:{}},Qa={},ei={exports:{}},ti={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ir=x;function cs(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var us=typeof Object.is=="function"?Object.is:cs,ds=ir.useState,hs=ir.useEffect,fs=ir.useLayoutEffect,ps=ir.useDebugValue;function ms(e,t){var r=t(),n=ds({inst:{value:r,getSnapshot:t}}),a=n[0].inst,o=n[1];return fs(function(){a.value=r,a.getSnapshot=t,un(a)&&o({inst:a})},[e,r,t]),hs(function(){return un(a)&&o({inst:a}),e(function(){un(a)&&o({inst:a})})},[e]),ps(r),r}function un(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!us(e,r)}catch{return!0}}function vs(e,t){return t()}var gs=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?vs:ms;ti.useSyncExternalStore=ir.useSyncExternalStore!==void 0?ir.useSyncExternalStore:gs;ei.exports=ti;var ys=ei.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qr=x,xs=ys;function bs(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ws=typeof Object.is=="function"?Object.is:bs,Cs=xs.useSyncExternalStore,Ss=Qr.useRef,Es=Qr.useEffect,js=Qr.useMemo,Ts=Qr.useDebugValue;Qa.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var o=Ss(null);if(o.current===null){var l={hasValue:!1,value:null};o.current=l}else l=o.current;o=js(function(){function s(C){if(!u){if(u=!0,d=C,C=n(C),a!==void 0&&l.hasValue){var y=l.value;if(a(y,C))return f=y}return f=C}if(y=f,ws(d,C))return y;var S=n(C);return a!==void 0&&a(y,S)?y:(d=C,f=S)}var u=!1,d,f,v=r===void 0?null:r;return[function(){return s(t())},v===null?void 0:function(){return s(v())}]},[t,r,n,a]);var c=Cs(e,o[0],o[1]);return Es(function(){l.hasValue=!0,l.value=c},[c]),Ts(c),c};Ja.exports=Qa;var ks=Ja.exports;const _s=Yr(ks);var ri={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{useDebugValue:Ms}=Z,{useSyncExternalStoreWithSelector:Fs}=_s;let oa=!1;const Is=e=>e;function As(e,t=Is,r){(ri?"production":void 0)!=="production"&&r&&!oa&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),oa=!0);const n=Fs(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return Ms(n),n}const sa=e=>{(ri?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?ls(e):e,r=(n,a)=>As(t,n,a);return Object.assign(r,t),r},Ps=e=>e?sa(e):sa,la={fontSize:1.05,homePage:"all",layout:"large",orderBy:"created_at",orderDirection:"desc",pageSize:100,showAllFeeds:!1,showFeedIcon:!0,showStatus:"all",theme:"light",themeColor:"Blue"},de=e=>{const t=JSON.parse(localStorage.getItem("config"))||{};return Object.hasOwn(t,e)?t[e]:Object.hasOwn(la,e)?la[e]:null},Be=(e,t)=>{const r=JSON.parse(localStorage.getItem("config"))||{};r[e]=t,localStorage.setItem("config",JSON.stringify(r))};var ni={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(ne,function(){return function(r,n,a){r=r||{};var o=n.prototype,l={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function c(u,d,f,v){return o.fromToBase(u,d,f,v)}a.en.relativeTime=l,o.fromToBase=function(u,d,f,v,C){for(var y,S,j,k=f.$locale().relativeTime||l,E=r.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],R=E.length,m=0;m<R;m+=1){var T=E[m];T.d&&(y=v?a(u).diff(f,T.d,!0):f.diff(u,T.d,!0));var w=(r.rounding||Math.round)(Math.abs(y));if(j=y>0,w<=T.r||!T.r){w<=1&&m>0&&(T=E[m-1]);var M=k[T.l];C&&(w=C(""+w)),S=typeof M=="string"?M.replace("%d",w):M(w,d,T.l,j);break}}if(d)return S;var F=j?k.future:k.past;return typeof F=="function"?F(S):F.replace("%s",S)},o.to=function(u,d){return c(u,d,this,!0)},o.from=function(u,d){return c(u,d,this)};var s=function(u){return u.$u?a.utc():a()};o.toNow=function(u){return this.to(s(this),u)},o.fromNow=function(u){return this.from(s(this),u)}}})})(ni);var Ns=ni.exports;const Os=Yr(Ns);nr.extend(Os);const Rs=e=>{const t=nr(e),r=nr();return t.isAfter(r.subtract(24,"hour"))},Ds=()=>nr().subtract(24,"hour").unix(),Pn=e=>nr(e).fromNow(),Vr=()=>{const e=JSON.parse(localStorage.getItem("auth"));return e||(console.log("No auth info found in localStorage"),null)},Ls=(e,t)=>{const r={method:e,secret:t};localStorage.setItem("auth",JSON.stringify(r))},oe=Da.create({timeout:3e3,retry:3,retryDelay:1e3});oe.interceptors.request.use(e=>{const t=Vr(),{server:r,token:n,username:a,password:o}=(t==null?void 0:t.secret)||{};return e.baseURL=r,n&&(e.headers["X-Auth-Token"]=n),a&&o&&(e.auth={username:a,password:o}),e},e=>Promise.reject(e));const zs=async e=>{const{config:t}=e;return e.code!=="ECONNABORTED"||!t||!t.retry||(t.__retryCount=t.__retryCount||0,t.__retryCount>=t.retry)?Promise.reject(e):(t.__retryCount+=1,await new Promise(n=>{setTimeout(()=>{n()},t.retryDelay||1e3)}),oe(t))},Us=e=>{var r,n,a;const t=((n=(r=e.response)==null?void 0:r.data)==null?void 0:n.error_message)||e.message;return re.error(t),((a=e.response)==null?void 0:a.status)===401&&(localStorage.removeItem("auth"),fo.navigate("/login")),Promise.reject(e)};oe.interceptors.response.use(e=>e,async e=>{try{return await zs(e)}catch(t){return Us(t)}});const ai=async(e,t)=>oe.put("/v1/entries",{entry_ids:e,status:t}),ii=async(e,t)=>ai([e],t),Bs=async e=>oe.put(`/v1/entries/${e}/bookmark`),$s=async e=>oe.get(`/v1/entries/${e}/fetch-content`),Vs=async()=>oe.get("/v1/me"),Hs=async()=>oe.get("/v1/feeds/counters"),Ws=async()=>oe.get("/v1/feeds"),Gs=async()=>oe.get("/v1/categories"),qs=async e=>oe.delete(`/v1/categories/${e}`),Xs=async e=>oe.post("/v1/categories",{title:e}),Ys=async(e,t,r=!1)=>{const n={title:t};return r&&(n.hide_globally="on"),oe.put(`/v1/categories/${e}`,n)},Ks=async(e,t,r,n,a,o=!1)=>oe.put(`/v1/feeds/${e}`,{feed_url:t,title:r,category_id:n,crawler:a,hide_globally:o}),Zs=async e=>oe.put(`/v1/feeds/${e}/refresh`),Js=async e=>oe.delete(`/v1/feeds/${e}`),Qs=async(e,t,r)=>oe.post("/v1/feeds",{feed_url:e,category_id:t,crawler:r}),sr=(e,t={})=>{const{baseUrl:r,orderField:n,direction:a,offset:o,limit:l,status:c}=e,s=new URLSearchParams({...t,order:n,direction:a,offset:o,limit:l});return c&&s.append("status",c),`${r}?${s.toString()}`},el=async(e=0,t=null)=>{const r=de("orderBy"),n=de("orderDirection"),a=de("pageSize"),l=sr({baseUrl:"/v1/entries",orderField:r,direction:n,offset:e,limit:a,status:t});return oe.get(l)},oi=async(e=0)=>{const t=de("orderDirection"),r=de("pageSize"),a=sr({baseUrl:"/v1/entries",orderField:"changed_at",direction:t,offset:e,limit:r,status:"read"});return oe.get(a)},si=async(e=0,t=null)=>{const r=de("orderDirection"),n=de("pageSize"),l=sr({baseUrl:"/v1/entries",orderField:"changed_at",direction:r,offset:e,limit:n,status:t},{starred:"true"});return oe.get(l)},zr=async(e=0,t=null,r=null)=>{const n=de("orderBy"),a=de("orderDirection"),o=r||de("pageSize"),l=Ds(),u=sr({baseUrl:"/v1/entries",orderField:n,direction:a,offset:e,limit:o,status:t},{published_after:l});return oe.get(u)},tl=(e,t)=>t==="read"?Math.max(0,e-1):e+1,ca=(e,t,r)=>e.map(n=>n.id===t?{...n,hide_globally:r}:n),ua=(e,t,r)=>r?[...e,t]:e.filter(n=>n!==t),da=(e,t,r)=>e.map(n=>{if(n.id===t){let a;return typeof r=="string"?a=tl(n.unreadCount,r):a=r,{...n,unreadCount:a}}return n}),g=Ps((e,t)=>({feeds:[],groups:[],unreadTotal:0,unreadToday:0,starredCount:0,readCount:0,hiddenFeedIds:[],hiddenGroupIds:[],showStatus:de("showStatus"),homePage:de("homePage"),orderBy:de("orderBy"),orderDirection:de("orderDirection"),pageSize:de("pageSize"),showAllFeeds:de("showAllFeeds"),loading:!0,visible:{settings:!1,addFeed:!1},theme:de("theme"),layout:de("layout"),fontSize:de("fontSize"),showFeedIcon:de("showFeedIcon"),collapsed:window.innerWidth<=992,activeContent:null,isSysDarkMode:window.matchMedia("(prefers-color-scheme: dark)").matches,themeColor:de("themeColor"),isInitCompleted:!1,setFeeds:r=>e({feeds:r}),setGroups:r=>e({groups:r}),setUnreadTotal:r=>e(n=>({unreadTotal:r(n.unreadTotal)})),setUnreadToday:r=>e(n=>({unreadToday:r(n.unreadToday)})),setStarredCount:r=>e(n=>({starredCount:r(n.starredCount)})),setReadCount:r=>e(n=>({readCount:r(n.readCount)})),setShowStatus:r=>e({showStatus:r}),setHomePage:r=>e({homePage:r}),setOrderBy:r=>e({orderBy:r}),toggleOrderDirection:()=>e(r=>({orderDirection:r.orderDirection==="desc"?"asc":"desc"})),setPageSize:r=>e({pageSize:r}),toggleShowAllFeeds:()=>e(r=>({showAllFeeds:!r.showAllFeeds})),setActiveContent:r=>{e({activeContent:r})},setIsSysDarkMode:r=>e({isSysDarkMode:r}),setThemeColor:r=>{e({themeColor:r})},setTheme:r=>{e({theme:r})},initData:async()=>{e({loading:!0});const[r,n,a,o,l,c]=await Promise.all([Ws(),Gs(),oi(),si(),zr(0,"unread"),Hs()]);if(r&&n&&a&&o&&l&&c){const s=r.data.filter(y=>y.hide_globally||y.category.hide_globally).map(y=>y.id),u=n.data.filter(y=>y.hide_globally).map(y=>y.id);e({hiddenFeedIds:s}),e({hiddenGroupIds:u});const d=c.data.unreads,f=Object.keys(d).reduce((y,S)=>t().showAllFeeds||!s.includes(Number.parseInt(S))?y+d[S]:y,0);e({unreadTotal:f});const v=r.data.map(y=>({...y,unreadCount:d[y.id]||0}));e({feeds:v.sort((y,S)=>y.title.localeCompare(S.title,"en"))});const C=n.data.map(y=>{let S=0,j=0;for(const k of v)k.category.id===y.id&&(S+=k.unreadCount,j+=1);return{...y,unreadCount:S,feedCount:j}});e({groups:C.sort((y,S)=>y.title.localeCompare(S.title,"en"))}),e({readCount:a.data.total}),e({starredCount:o.data.total}),e({unreadToday:l.data.total}),e({isInitCompleted:!0}),e({loading:!1})}},updateFeedHidden:(r,n)=>{e(a=>{let{unreadTotal:o}=a;if(!t().showAllFeeds){const l=a.feeds.find(c=>c.id===r);l&&(o+=n?-l.unreadCount:l.unreadCount,o=Math.max(0,o))}return{feeds:ca(a.feeds,r,n),hiddenFeedIds:ua(a.hiddenFeedIds,r,n),unreadTotal:o}})},updateGroupHidden:(r,n)=>{e(a=>{let{unreadTotal:o}=a,l=[...a.hiddenFeedIds];if(!t().showAllFeeds){const s=a.groups.find(u=>u.id===r);s&&(o+=n?-s.unreadCount:s.unreadCount,o=Math.max(0,o))}const c=a.feeds.filter(s=>s.category.id===r).map(s=>s.id);return l=n?[...l,...c]:l.filter(s=>!c.includes(s)),{groups:ca(a.groups,r,n),hiddenGroupIds:ua(a.hiddenGroupIds,r,n),hiddenFeedIds:l,unreadTotal:o}})},updateFeedUnreadCount:(r,n)=>{e(a=>({feeds:da(a.feeds,r,n)}))},updateGroupUnreadCount:(r,n)=>{e(a=>({groups:da(a.groups,r,n)}))},toggleLayout:()=>{const r=t().layout==="large"?"small":"large";e({layout:r})},setFontSize:r=>e({fontSize:r}),toggleShowFeedIcon:()=>e(r=>({showFeedIcon:!r.showFeedIcon})),setVisible:(r,n)=>{e(a=>({visible:{...a.visible,[r]:n}}))},toggleCollapsed:()=>e(r=>({collapsed:!r.collapsed}))}));var li={exports:{}},ci={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},ui={exports:{}},rl=function(t){return!t||typeof t=="string"?!1:t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&t.constructor.name!=="String")},nl=rl,al=Array.prototype.concat,il=Array.prototype.slice,ha=ui.exports=function(t){for(var r=[],n=0,a=t.length;n<a;n++){var o=t[n];nl(o)?r=al.call(r,il.call(o)):r.push(o)}return r};ha.wrap=function(e){return function(){return e(ha(arguments))}};var ol=ui.exports,gr=ci,Sr=ol,di=Object.hasOwnProperty,hi=Object.create(null);for(var dn in gr)di.call(gr,dn)&&(hi[gr[dn]]=dn);var Ge=li.exports={to:{},get:{}};Ge.get=function(e){var t=e.substring(0,3).toLowerCase(),r,n;switch(t){case"hsl":r=Ge.get.hsl(e),n="hsl";break;case"hwb":r=Ge.get.hwb(e),n="hwb";break;default:r=Ge.get.rgb(e),n="rgb";break}return r?{model:n,value:r}:null};Ge.get.rgb=function(e){if(!e)return null;var t=/^#([a-f0-9]{3,4})$/i,r=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,n=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,a=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,o=/^(\w+)$/,l=[0,0,0,1],c,s,u;if(c=e.match(r)){for(u=c[2],c=c[1],s=0;s<3;s++){var d=s*2;l[s]=parseInt(c.slice(d,d+2),16)}u&&(l[3]=parseInt(u,16)/255)}else if(c=e.match(t)){for(c=c[1],u=c[3],s=0;s<3;s++)l[s]=parseInt(c[s]+c[s],16);u&&(l[3]=parseInt(u+u,16)/255)}else if(c=e.match(n)){for(s=0;s<3;s++)l[s]=parseInt(c[s+1],0);c[4]&&(c[5]?l[3]=parseFloat(c[4])*.01:l[3]=parseFloat(c[4]))}else if(c=e.match(a)){for(s=0;s<3;s++)l[s]=Math.round(parseFloat(c[s+1])*2.55);c[4]&&(c[5]?l[3]=parseFloat(c[4])*.01:l[3]=parseFloat(c[4]))}else return(c=e.match(o))?c[1]==="transparent"?[0,0,0,0]:di.call(gr,c[1])?(l=gr[c[1]],l[3]=1,l):null:null;for(s=0;s<3;s++)l[s]=Ft(l[s],0,255);return l[3]=Ft(l[3],0,1),l};Ge.get.hsl=function(e){if(!e)return null;var t=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,r=e.match(t);if(r){var n=parseFloat(r[4]),a=(parseFloat(r[1])%360+360)%360,o=Ft(parseFloat(r[2]),0,100),l=Ft(parseFloat(r[3]),0,100),c=Ft(isNaN(n)?1:n,0,1);return[a,o,l,c]}return null};Ge.get.hwb=function(e){if(!e)return null;var t=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,r=e.match(t);if(r){var n=parseFloat(r[4]),a=(parseFloat(r[1])%360+360)%360,o=Ft(parseFloat(r[2]),0,100),l=Ft(parseFloat(r[3]),0,100),c=Ft(isNaN(n)?1:n,0,1);return[a,o,l,c]}return null};Ge.to.hex=function(){var e=Sr(arguments);return"#"+Fr(e[0])+Fr(e[1])+Fr(e[2])+(e[3]<1?Fr(Math.round(e[3]*255)):"")};Ge.to.rgb=function(){var e=Sr(arguments);return e.length<4||e[3]===1?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"};Ge.to.rgb.percent=function(){var e=Sr(arguments),t=Math.round(e[0]/255*100),r=Math.round(e[1]/255*100),n=Math.round(e[2]/255*100);return e.length<4||e[3]===1?"rgb("+t+"%, "+r+"%, "+n+"%)":"rgba("+t+"%, "+r+"%, "+n+"%, "+e[3]+")"};Ge.to.hsl=function(){var e=Sr(arguments);return e.length<4||e[3]===1?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"};Ge.to.hwb=function(){var e=Sr(arguments),t="";return e.length>=4&&e[3]!==1&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"};Ge.to.keyword=function(e){return hi[e.slice(0,3)]};function Ft(e,t,r){return Math.min(Math.max(t,e),r)}function Fr(e){var t=Math.round(e).toString(16).toUpperCase();return t.length<2?"0"+t:t}var sl=li.exports,fi={exports:{}},Ht=ci,pi={};for(var hn in Ht)Ht.hasOwnProperty(hn)&&(pi[Ht[hn]]=hn);var A=fi.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var ze in A)if(A.hasOwnProperty(ze)){if(!("channels"in A[ze]))throw new Error("missing channels property: "+ze);if(!("labels"in A[ze]))throw new Error("missing channel labels property: "+ze);if(A[ze].labels.length!==A[ze].channels)throw new Error("channel and label counts mismatch: "+ze);var ll=A[ze].channels,cl=A[ze].labels;delete A[ze].channels,delete A[ze].labels,Object.defineProperty(A[ze],"channels",{value:ll}),Object.defineProperty(A[ze],"labels",{value:cl})}A.rgb.hsl=function(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.min(t,r,n),o=Math.max(t,r,n),l=o-a,c,s,u;return o===a?c=0:t===o?c=(r-n)/l:r===o?c=2+(n-t)/l:n===o&&(c=4+(t-r)/l),c=Math.min(c*60,360),c<0&&(c+=360),u=(a+o)/2,o===a?s=0:u<=.5?s=l/(o+a):s=l/(2-o-a),[c,s*100,u*100]};A.rgb.hsv=function(e){var t,r,n,a,o,l=e[0]/255,c=e[1]/255,s=e[2]/255,u=Math.max(l,c,s),d=u-Math.min(l,c,s),f=function(v){return(u-v)/6/d+1/2};return d===0?a=o=0:(o=d/u,t=f(l),r=f(c),n=f(s),l===u?a=n-r:c===u?a=1/3+t-n:s===u&&(a=2/3+r-t),a<0?a+=1:a>1&&(a-=1)),[a*360,o*100,u*100]};A.rgb.hwb=function(e){var t=e[0],r=e[1],n=e[2],a=A.rgb.hsl(e)[0],o=1/255*Math.min(t,Math.min(r,n));return n=1-1/255*Math.max(t,Math.max(r,n)),[a,o*100,n*100]};A.rgb.cmyk=function(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a,o,l,c;return c=Math.min(1-t,1-r,1-n),a=(1-t-c)/(1-c)||0,o=(1-r-c)/(1-c)||0,l=(1-n-c)/(1-c)||0,[a*100,o*100,l*100,c*100]};function ul(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)+Math.pow(e[2]-t[2],2)}A.rgb.keyword=function(e){var t=pi[e];if(t)return t;var r=1/0,n;for(var a in Ht)if(Ht.hasOwnProperty(a)){var o=Ht[a],l=ul(e,o);l<r&&(r=l,n=a)}return n};A.keyword.rgb=function(e){return Ht[e]};A.rgb.xyz=function(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255;t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92,r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92,n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92;var a=t*.4124+r*.3576+n*.1805,o=t*.2126+r*.7152+n*.0722,l=t*.0193+r*.1192+n*.9505;return[a*100,o*100,l*100]};A.rgb.lab=function(e){var t=A.rgb.xyz(e),r=t[0],n=t[1],a=t[2],o,l,c;return r/=95.047,n/=100,a/=108.883,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,n=n>.008856?Math.pow(n,1/3):7.787*n+16/116,a=a>.008856?Math.pow(a,1/3):7.787*a+16/116,o=116*n-16,l=500*(r-n),c=200*(n-a),[o,l,c]};A.hsl.rgb=function(e){var t=e[0]/360,r=e[1]/100,n=e[2]/100,a,o,l,c,s;if(r===0)return s=n*255,[s,s,s];n<.5?o=n*(1+r):o=n+r-n*r,a=2*n-o,c=[0,0,0];for(var u=0;u<3;u++)l=t+1/3*-(u-1),l<0&&l++,l>1&&l--,6*l<1?s=a+(o-a)*6*l:2*l<1?s=o:3*l<2?s=a+(o-a)*(2/3-l)*6:s=a,c[u]=s*255;return c};A.hsl.hsv=function(e){var t=e[0],r=e[1]/100,n=e[2]/100,a=r,o=Math.max(n,.01),l,c;return n*=2,r*=n<=1?n:2-n,a*=o<=1?o:2-o,c=(n+r)/2,l=n===0?2*a/(o+a):2*r/(n+r),[t,l*100,c*100]};A.hsv.rgb=function(e){var t=e[0]/60,r=e[1]/100,n=e[2]/100,a=Math.floor(t)%6,o=t-Math.floor(t),l=255*n*(1-r),c=255*n*(1-r*o),s=255*n*(1-r*(1-o));switch(n*=255,a){case 0:return[n,s,l];case 1:return[c,n,l];case 2:return[l,n,s];case 3:return[l,c,n];case 4:return[s,l,n];case 5:return[n,l,c]}};A.hsv.hsl=function(e){var t=e[0],r=e[1]/100,n=e[2]/100,a=Math.max(n,.01),o,l,c;return c=(2-r)*n,o=(2-r)*a,l=r*a,l/=o<=1?o:2-o,l=l||0,c/=2,[t,l*100,c*100]};A.hwb.rgb=function(e){var t=e[0]/360,r=e[1]/100,n=e[2]/100,a=r+n,o,l,c,s;a>1&&(r/=a,n/=a),o=Math.floor(6*t),l=1-n,c=6*t-o,o&1&&(c=1-c),s=r+c*(l-r);var u,d,f;switch(o){default:case 6:case 0:u=l,d=s,f=r;break;case 1:u=s,d=l,f=r;break;case 2:u=r,d=l,f=s;break;case 3:u=r,d=s,f=l;break;case 4:u=s,d=r,f=l;break;case 5:u=l,d=r,f=s;break}return[u*255,d*255,f*255]};A.cmyk.rgb=function(e){var t=e[0]/100,r=e[1]/100,n=e[2]/100,a=e[3]/100,o,l,c;return o=1-Math.min(1,t*(1-a)+a),l=1-Math.min(1,r*(1-a)+a),c=1-Math.min(1,n*(1-a)+a),[o*255,l*255,c*255]};A.xyz.rgb=function(e){var t=e[0]/100,r=e[1]/100,n=e[2]/100,a,o,l;return a=t*3.2406+r*-1.5372+n*-.4986,o=t*-.9689+r*1.8758+n*.0415,l=t*.0557+r*-.204+n*1.057,a=a>.0031308?1.055*Math.pow(a,1/2.4)-.055:a*12.92,o=o>.0031308?1.055*Math.pow(o,1/2.4)-.055:o*12.92,l=l>.0031308?1.055*Math.pow(l,1/2.4)-.055:l*12.92,a=Math.min(Math.max(0,a),1),o=Math.min(Math.max(0,o),1),l=Math.min(Math.max(0,l),1),[a*255,o*255,l*255]};A.xyz.lab=function(e){var t=e[0],r=e[1],n=e[2],a,o,l;return t/=95.047,r/=100,n/=108.883,t=t>.008856?Math.pow(t,1/3):7.787*t+16/116,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,n=n>.008856?Math.pow(n,1/3):7.787*n+16/116,a=116*r-16,o=500*(t-r),l=200*(r-n),[a,o,l]};A.lab.xyz=function(e){var t=e[0],r=e[1],n=e[2],a,o,l;o=(t+16)/116,a=r/500+o,l=o-n/200;var c=Math.pow(o,3),s=Math.pow(a,3),u=Math.pow(l,3);return o=c>.008856?c:(o-16/116)/7.787,a=s>.008856?s:(a-16/116)/7.787,l=u>.008856?u:(l-16/116)/7.787,a*=95.047,o*=100,l*=108.883,[a,o,l]};A.lab.lch=function(e){var t=e[0],r=e[1],n=e[2],a,o,l;return a=Math.atan2(n,r),o=a*360/2/Math.PI,o<0&&(o+=360),l=Math.sqrt(r*r+n*n),[t,l,o]};A.lch.lab=function(e){var t=e[0],r=e[1],n=e[2],a,o,l;return l=n/360*2*Math.PI,a=r*Math.cos(l),o=r*Math.sin(l),[t,a,o]};A.rgb.ansi16=function(e){var t=e[0],r=e[1],n=e[2],a=1 in arguments?arguments[1]:A.rgb.hsv(e)[2];if(a=Math.round(a/50),a===0)return 30;var o=30+(Math.round(n/255)<<2|Math.round(r/255)<<1|Math.round(t/255));return a===2&&(o+=60),o};A.hsv.ansi16=function(e){return A.rgb.ansi16(A.hsv.rgb(e),e[2])};A.rgb.ansi256=function(e){var t=e[0],r=e[1],n=e[2];if(t===r&&r===n)return t<8?16:t>248?231:Math.round((t-8)/247*24)+232;var a=16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5);return a};A.ansi16.rgb=function(e){var t=e%10;if(t===0||t===7)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];var r=(~~(e>50)+1)*.5,n=(t&1)*r*255,a=(t>>1&1)*r*255,o=(t>>2&1)*r*255;return[n,a,o]};A.ansi256.rgb=function(e){if(e>=232){var t=(e-232)*10+8;return[t,t,t]}e-=16;var r,n=Math.floor(e/36)/5*255,a=Math.floor((r=e%36)/6)/5*255,o=r%6/5*255;return[n,a,o]};A.rgb.hex=function(e){var t=((Math.round(e[0])&255)<<16)+((Math.round(e[1])&255)<<8)+(Math.round(e[2])&255),r=t.toString(16).toUpperCase();return"000000".substring(r.length)+r};A.hex.rgb=function(e){var t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];var r=t[0];t[0].length===3&&(r=r.split("").map(function(c){return c+c}).join(""));var n=parseInt(r,16),a=n>>16&255,o=n>>8&255,l=n&255;return[a,o,l]};A.rgb.hcg=function(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(Math.max(t,r),n),o=Math.min(Math.min(t,r),n),l=a-o,c,s;return l<1?c=o/(1-l):c=0,l<=0?s=0:a===t?s=(r-n)/l%6:a===r?s=2+(n-t)/l:s=4+(t-r)/l+4,s/=6,s%=1,[s*360,l*100,c*100]};A.hsl.hcg=function(e){var t=e[1]/100,r=e[2]/100,n=1,a=0;return r<.5?n=2*t*r:n=2*t*(1-r),n<1&&(a=(r-.5*n)/(1-n)),[e[0],n*100,a*100]};A.hsv.hcg=function(e){var t=e[1]/100,r=e[2]/100,n=t*r,a=0;return n<1&&(a=(r-n)/(1-n)),[e[0],n*100,a*100]};A.hcg.rgb=function(e){var t=e[0]/360,r=e[1]/100,n=e[2]/100;if(r===0)return[n*255,n*255,n*255];var a=[0,0,0],o=t%1*6,l=o%1,c=1-l,s=0;switch(Math.floor(o)){case 0:a[0]=1,a[1]=l,a[2]=0;break;case 1:a[0]=c,a[1]=1,a[2]=0;break;case 2:a[0]=0,a[1]=1,a[2]=l;break;case 3:a[0]=0,a[1]=c,a[2]=1;break;case 4:a[0]=l,a[1]=0,a[2]=1;break;default:a[0]=1,a[1]=0,a[2]=c}return s=(1-r)*n,[(r*a[0]+s)*255,(r*a[1]+s)*255,(r*a[2]+s)*255]};A.hcg.hsv=function(e){var t=e[1]/100,r=e[2]/100,n=t+r*(1-t),a=0;return n>0&&(a=t/n),[e[0],a*100,n*100]};A.hcg.hsl=function(e){var t=e[1]/100,r=e[2]/100,n=r*(1-t)+.5*t,a=0;return n>0&&n<.5?a=t/(2*n):n>=.5&&n<1&&(a=t/(2*(1-n))),[e[0],a*100,n*100]};A.hcg.hwb=function(e){var t=e[1]/100,r=e[2]/100,n=t+r*(1-t);return[e[0],(n-t)*100,(1-n)*100]};A.hwb.hcg=function(e){var t=e[1]/100,r=e[2]/100,n=1-r,a=n-t,o=0;return a<1&&(o=(n-a)/(1-a)),[e[0],a*100,o*100]};A.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]};A.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]};A.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]};A.gray.hsl=A.gray.hsv=function(e){return[0,0,e[0]]};A.gray.hwb=function(e){return[0,100,e[0]]};A.gray.cmyk=function(e){return[0,0,0,e[0]]};A.gray.lab=function(e){return[e[0],0,0]};A.gray.hex=function(e){var t=Math.round(e[0]/100*255)&255,r=(t<<16)+(t<<8)+t,n=r.toString(16).toUpperCase();return"000000".substring(n.length)+n};A.rgb.gray=function(e){var t=(e[0]+e[1]+e[2])/3;return[t/255*100]};var mi=fi.exports,Hr=mi;function dl(){for(var e={},t=Object.keys(Hr),r=t.length,n=0;n<r;n++)e[t[n]]={distance:-1,parent:null};return e}function hl(e){var t=dl(),r=[e];for(t[e].distance=0;r.length;)for(var n=r.pop(),a=Object.keys(Hr[n]),o=a.length,l=0;l<o;l++){var c=a[l],s=t[c];s.distance===-1&&(s.distance=t[n].distance+1,s.parent=n,r.unshift(c))}return t}function fl(e,t){return function(r){return t(e(r))}}function pl(e,t){for(var r=[t[e].parent,e],n=Hr[t[e].parent][e],a=t[e].parent;t[a].parent;)r.unshift(t[a].parent),n=fl(Hr[t[a].parent][a],n),a=t[a].parent;return n.conversion=r,n}var ml=function(e){for(var t=hl(e),r={},n=Object.keys(t),a=n.length,o=0;o<a;o++){var l=n[o],c=t[l];c.parent!==null&&(r[l]=pl(l,t))}return r},xn=mi,vl=ml,tr={},gl=Object.keys(xn);function yl(e){var t=function(r){return r==null?r:(arguments.length>1&&(r=Array.prototype.slice.call(arguments)),e(r))};return"conversion"in e&&(t.conversion=e.conversion),t}function xl(e){var t=function(r){if(r==null)return r;arguments.length>1&&(r=Array.prototype.slice.call(arguments));var n=e(r);if(typeof n=="object")for(var a=n.length,o=0;o<a;o++)n[o]=Math.round(n[o]);return n};return"conversion"in e&&(t.conversion=e.conversion),t}gl.forEach(function(e){tr[e]={},Object.defineProperty(tr[e],"channels",{value:xn[e].channels}),Object.defineProperty(tr[e],"labels",{value:xn[e].labels});var t=vl(e),r=Object.keys(t);r.forEach(function(n){var a=t[n];tr[e][n]=xl(a),tr[e][n].raw=yl(a)})});var bl=tr,pr=sl,We=bl,Nn=[].slice,vi=["keyword","gray","hex"],bn={};Object.keys(We).forEach(function(e){bn[Nn.call(We[e].labels).sort().join("")]=e});var Wr={};function ke(e,t){if(!(this instanceof ke))return new ke(e,t);if(t&&t in vi&&(t=null),t&&!(t in We))throw new Error("Unknown model: "+t);var r,n;if(e==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(e instanceof ke)this.model=e.model,this.color=e.color.slice(),this.valpha=e.valpha;else if(typeof e=="string"){var a=pr.get(e);if(a===null)throw new Error("Unable to parse color from string: "+e);this.model=a.model,n=We[this.model].channels,this.color=a.value.slice(0,n),this.valpha=typeof a.value[n]=="number"?a.value[n]:1}else if(e.length){this.model=t||"rgb",n=We[this.model].channels;var o=Nn.call(e,0,n);this.color=wn(o,n),this.valpha=typeof e[n]=="number"?e[n]:1}else if(typeof e=="number")e&=16777215,this.model="rgb",this.color=[e>>16&255,e>>8&255,e&255],this.valpha=1;else{this.valpha=1;var l=Object.keys(e);"alpha"in e&&(l.splice(l.indexOf("alpha"),1),this.valpha=typeof e.alpha=="number"?e.alpha:0);var c=l.sort().join("");if(!(c in bn))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=bn[c];var s=We[this.model].labels,u=[];for(r=0;r<s.length;r++)u.push(e[s[r]]);this.color=wn(u)}if(Wr[this.model])for(n=We[this.model].channels,r=0;r<n;r++){var d=Wr[this.model][r];d&&(this.color[r]=d(this.color[r]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}ke.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(e){var t=this.model in pr.to?this:this.rgb();t=t.round(typeof e=="number"?e:1);var r=t.valpha===1?t.color:t.color.concat(this.valpha);return pr.to[t.model](r)},percentString:function(e){var t=this.rgb().round(typeof e=="number"?e:1),r=t.valpha===1?t.color:t.color.concat(this.valpha);return pr.to.rgb.percent(r)},array:function(){return this.valpha===1?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var e={},t=We[this.model].channels,r=We[this.model].labels,n=0;n<t;n++)e[r[n]]=this.color[n];return this.valpha!==1&&(e.alpha=this.valpha),e},unitArray:function(){var e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,this.valpha!==1&&e.push(this.valpha),e},unitObject:function(){var e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,this.valpha!==1&&(e.alpha=this.valpha),e},round:function(e){return e=Math.max(e||0,0),new ke(this.color.map(Cl(e)).concat(this.valpha),this.model)},alpha:function(e){return arguments.length?new ke(this.color.concat(Math.max(0,Math.min(1,e))),this.model):this.valpha},red:fe("rgb",0,Ce(255)),green:fe("rgb",1,Ce(255)),blue:fe("rgb",2,Ce(255)),hue:fe(["hsl","hsv","hsl","hwb","hcg"],0,function(e){return(e%360+360)%360}),saturationl:fe("hsl",1,Ce(100)),lightness:fe("hsl",2,Ce(100)),saturationv:fe("hsv",1,Ce(100)),value:fe("hsv",2,Ce(100)),chroma:fe("hcg",1,Ce(100)),gray:fe("hcg",2,Ce(100)),white:fe("hwb",1,Ce(100)),wblack:fe("hwb",2,Ce(100)),cyan:fe("cmyk",0,Ce(100)),magenta:fe("cmyk",1,Ce(100)),yellow:fe("cmyk",2,Ce(100)),black:fe("cmyk",3,Ce(100)),x:fe("xyz",0,Ce(100)),y:fe("xyz",1,Ce(100)),z:fe("xyz",2,Ce(100)),l:fe("lab",0,Ce(100)),a:fe("lab",1),b:fe("lab",2),keyword:function(e){return arguments.length?new ke(e):We[this.model].keyword(this.color)},hex:function(e){return arguments.length?new ke(e):pr.to.hex(this.rgb().round().color)},rgbNumber:function(){var e=this.rgb().color;return(e[0]&255)<<16|(e[1]&255)<<8|e[2]&255},luminosity:function(){for(var e=this.rgb().color,t=[],r=0;r<e.length;r++){var n=e[r]/255;t[r]=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4)}return .2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(e){var t=this.luminosity(),r=e.luminosity();return t>r?(t+.05)/(r+.05):(r+.05)/(t+.05)},level:function(e){var t=this.contrast(e);return t>=7.1?"AAA":t>=4.5?"AA":""},isDark:function(){var e=this.rgb().color,t=(e[0]*299+e[1]*587+e[2]*114)/1e3;return t<128},isLight:function(){return!this.isDark()},negate:function(){for(var e=this.rgb(),t=0;t<3;t++)e.color[t]=255-e.color[t];return e},lighten:function(e){var t=this.hsl();return t.color[2]+=t.color[2]*e,t},darken:function(e){var t=this.hsl();return t.color[2]-=t.color[2]*e,t},saturate:function(e){var t=this.hsl();return t.color[1]+=t.color[1]*e,t},desaturate:function(e){var t=this.hsl();return t.color[1]-=t.color[1]*e,t},whiten:function(e){var t=this.hwb();return t.color[1]+=t.color[1]*e,t},blacken:function(e){var t=this.hwb();return t.color[2]+=t.color[2]*e,t},grayscale:function(){var e=this.rgb().color,t=e[0]*.3+e[1]*.59+e[2]*.11;return ke.rgb(t,t,t)},fade:function(e){return this.alpha(this.valpha-this.valpha*e)},opaquer:function(e){return this.alpha(this.valpha+this.valpha*e)},rotate:function(e){var t=this.hsl(),r=t.color[0];return r=(r+e)%360,r=r<0?360+r:r,t.color[0]=r,t},mix:function(e,t){if(!e||!e.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof e);var r=e.rgb(),n=this.rgb(),a=t===void 0?.5:t,o=2*a-1,l=r.alpha()-n.alpha(),c=((o*l===-1?o:(o+l)/(1+o*l))+1)/2,s=1-c;return ke.rgb(c*r.red()+s*n.red(),c*r.green()+s*n.green(),c*r.blue()+s*n.blue(),r.alpha()*a+n.alpha()*(1-a))}};Object.keys(We).forEach(function(e){if(vi.indexOf(e)===-1){var t=We[e].channels;ke.prototype[e]=function(){if(this.model===e)return new ke(this);if(arguments.length)return new ke(arguments,e);var r=typeof arguments[t]=="number"?t:this.valpha;return new ke(Sl(We[this.model][e].raw(this.color)).concat(r),e)},ke[e]=function(r){return typeof r=="number"&&(r=wn(Nn.call(arguments),t)),new ke(r,e)}}});function wl(e,t){return Number(e.toFixed(t))}function Cl(e){return function(t){return wl(t,e)}}function fe(e,t,r){return e=Array.isArray(e)?e:[e],e.forEach(function(n){(Wr[n]||(Wr[n]=[]))[t]=r}),e=e[0],function(n){var a;return arguments.length?(r&&(n=r(n)),a=this[e](),a.color[t]=n,a):(a=this[e]().color[t],r&&(a=r(a)),a)}}function Ce(e){return function(t){return Math.max(0,Math.min(e,t))}}function Sl(e){return Array.isArray(e)?e:[e]}function wn(e,t){for(var r=0;r<t;r++)typeof e[r]!="number"&&(e[r]=0);return e}var On=ke,Er={};const El=On;Er.getRgbStr=function(e){return El(e).rgb().round().color.join(",")};const jl=["hex","rgb","hsl"];function Tl(e){return!e||jl.indexOf(e)<0?"hex":e}Er.getColorString=function(e,t){const r=Tl(t);return r==="hex"?e[r]():e[r]().round().string()};const fa=On,{getColorString:kl}=Er;function _l(e,t,r){const n=fa(e),a=n.hue(),o=n.saturationv(),l=n.value(),c=2,s=100,u=9,d=100,f=30;function v(E,R){let m;return a>=60&&a<=240?m=E?a-c*R:a+c*R:m=E?a+c*R:a-c*R,m<0?m+=360:m>=360&&(m-=360),Math.round(m)}function C(E,R){let m;return E?m=o<=u?o:o-(o-u)/5*R:m=o+(s-o)/4*R,m}function y(E,R){return E?l+(d-l)/5*R:l<=f?l:l-(l-f)/4*R}const S=t<6,j=S?6-t:t-6,k=t===6?n:fa({h:v(S,j),s:C(S,j),v:y(S,j)});return kl(k,r)}var gi=_l;const Ir=On,Ml=gi,{getColorString:Fl}=Er;function Il(e,t,r){const n=Ir(Ml(e,10-t+1)),a=Ir(e),o=a.hue(),l=a.saturationv(),s=Ir({h:a.hue(),s:f(6),v:a.value()}).saturationv(),u=Math.ceil((s-9)/4),d=Math.ceil((100-s)/5);function f(C){if(C<6)return s+(6-C)*d;if(C===6){if(o>=0&&o<50)return l-15;if(o>=50&&o<191)return l-20;if(o>=191&&o<=360)return l-15}return s-u*(C-6)}const v=Ir({h:n.hue(),s:f(t),v:n.value()});return Fl(v,r)}var Al=Il;const pa=gi,ma=Al;function Pl(e,t={}){const{dark:r,list:n,index:a=6,format:o="hex"}=t;if(n){const l=[],c=r?ma:pa;for(let s=1;s<=10;s++)l.push(c(e,s,o));return l}return r?ma(e,a,o):pa(e,a,o)}var Nl=Pl;const Ol=Nl,{getRgbStr:Rl}=Er;var Dl=Ol,Ll=Rl;const yi=[{name:"Red",valueLight:"#F53F3F",valueDark:"#F76965"},{name:"Orange",valueLight:"#F77234",valueDark:"#F9925A"},{name:"Green",valueLight:"#00B42A",valueDark:"#27C346"},{name:"Blue",valueLight:"#165DFF",valueDark:"#3C7EFF"},{name:"Purple",valueLight:"#722ED1",valueDark:"#8E51DA"}],Cn=e=>{const t=yi.find(o=>o.name===e),r=window.matchMedia("(prefers-color-scheme: dark)").matches,n=de("theme"),a=n==="system"?r:n==="dark";return t?a?t.valueDark:t.valueLight:"#165DFF"},xi=e=>{Dl(Cn(e),{list:!0}).map(r=>Ll(r)).forEach((r,n)=>{document.body.style.setProperty(`--primary-${n+1}`,r)})},zl=()=>{const e=Cr(),t=g(v=>v.setVisible),r=g(v=>v.theme),n=g(v=>v.setTheme),a=g(v=>v.toggleCollapsed),o=g(v=>v.showAllFeeds),l=g(v=>v.toggleShowAllFeeds),c=g(v=>v.feeds),s=g(v=>v.hiddenFeedIds),u=g(v=>v.setUnreadTotal),d=()=>{localStorage.clear(),document.body.removeAttribute("arco-theme"),xi("Blue"),e("/login"),re.success("logout")};let f;switch(r){case"dark":f=i.jsx(Eo,{});break;case"system":f=i.jsx(So,{});break;default:f=i.jsx(Co,{})}return i.jsxs("div",{className:"header",children:[i.jsx("div",{className:"brand",children:i.jsx(ae,{className:"trigger",onClick:a,shape:"circle",size:"small",children:i.jsx(vo,{})})}),i.jsx("div",{className:"button-group",children:i.jsxs(Kr,{size:16,children:[i.jsx(Ue,{content:"Add a feed",mini:!0,children:i.jsx(ae,{shape:"circle",size:"small",type:"primary",icon:i.jsx(In,{}),onClick:()=>t("addFeed",!0)})}),i.jsx(Ue,{content:o?"Hide some feeds":"Show all feeds",mini:!0,children:i.jsx(ae,{shape:"circle",size:"small",icon:o?i.jsx(go,{}):i.jsx(yo,{}),onClick:()=>{if(l(),Be("showAllFeeds",o),!o&&s){const v=c.filter(C=>!s.includes(C.id)).reduce((C,y)=>C+y.unreadCount,0);u(()=>v)}else u(()=>c.reduce((v,C)=>v+C.unreadCount,0))}})}),i.jsx(ae,{shape:"circle",size:"small",icon:i.jsx(xo,{}),onClick:()=>window.open("https://github.com/electh/ReactFlux","_blank")}),i.jsx(ra,{droplist:i.jsx(Mt,{defaultSelectedKeys:[r],className:"theme-menu",children:["light","dark","system"].map(v=>i.jsxs(Mt.Item,{className:"theme-menu-item",onClick:()=>{n(v),Be("theme",v)},children:[v.charAt(0).toUpperCase()+v.slice(1),r===v&&i.jsx(La,{style:{marginLeft:8}})]},v))}),trigger:"hover",position:"bottom",children:i.jsx(ae,{icon:f,shape:"circle",size:"small",onClick:()=>{switch(r){case"light":n("dark"),Be("theme","dark");break;case"dark":n("light"),Be("theme","light");break}}})}),i.jsx(ra,{droplist:i.jsxs(Mt,{children:[i.jsxs(Mt.Item,{onClick:()=>t("settings",!0),children:[i.jsx(bo,{className:"icon-right"}),"Settings"]},"0"),i.jsxs(Mt.Item,{onClick:d,children:[i.jsx(wo,{className:"icon-right"}),"Logout"]},"1")]}),trigger:"click",position:"br",children:i.jsx(za,{size:28,style:{cursor:"pointer"},children:i.jsx(Ua,{})})})]})})]})},Vt=(e,t)=>e.toLowerCase().includes(t.toLowerCase()),bi=(e,t,r,n)=>t==="0"?r==="all"?e.filter(a=>Vt(a.title,n)):e.filter(a=>Vt(a.title,n)&&a.status===r):r==="all"?e.filter(a=>Vt(a.content,n)):e.filter(a=>Vt(a.content,n)&&a.status===r),Gr=(e,t,r,n)=>{const a=o=>r||!n.includes(o.feed.id);return["all","today","group"].includes(t.from)?e.filter(a):e},Sn=(e=768)=>window.innerWidth<=e,wi="/assets/dark-E0XitTFg.png",Ci="/assets/light-CsqESGYr.png",Si="/assets/system-BwMbv8Ny.png",Ul=()=>{const e=g(d=>d.theme),t=g(d=>d.setTheme),r=g(d=>d.toggleLayout),n=g(d=>d.layout),a=g(d=>d.fontSize),o=g(d=>d.setFontSize),l=g(d=>d.showFeedIcon),c=g(d=>d.toggleShowFeedIcon),s=g(d=>d.themeColor),u=g(d=>d.setThemeColor);return i.jsxs(i.Fragment,{children:[i.jsx($.Title,{heading:6,style:{marginTop:0},children:"Theme"}),i.jsx($.Text,{type:"secondary",children:"Customize your UI theme"}),i.jsx("div",{children:i.jsx(vr.Group,{className:"theme-selector",defaultValue:e,name:"card-radio-group",onChange:d=>{t(d),Be("theme",d)},children:["light","dark","system"].map(d=>i.jsx(Ue,{content:d.charAt(0).toUpperCase()+d.slice(1),children:i.jsx(vr,{value:d,children:({checked:f})=>{const v={light:Ci,dark:wi,system:Si}[d];return i.jsx("div",{className:`custom-radio-card ${f?"custom-radio-card-checked":""}`,children:i.jsx("img",{className:"theme-preview",src:v,alt:d})})}})},d))})}),i.jsx(ut,{}),i.jsxs("div",{className:"setting-row",children:[i.jsxs("div",{children:[i.jsx($.Title,{heading:6,style:{marginTop:0},children:"Accent color"}),i.jsx($.Text,{type:"secondary",children:"Choose your accent color"})]}),i.jsx("div",{style:{display:"flex"},children:yi.map(d=>i.jsx(Ue,{content:d.name,children:i.jsx("button",{type:"button",className:"accent-color-button",style:{backgroundColor:Cn(d.name),outline:d.name===s?`1px solid ${Cn(d.name)}`:"none"},onClick:()=>{u(d.name),Be("themeColor",d.name),xi(d.name)},onKeyDown:f=>{(f.key==="Enter"||f.key===" ")&&u(d.name)}})},d.name))})]}),i.jsx(ut,{}),i.jsxs("div",{className:"setting-row",children:[i.jsxs("div",{children:[i.jsx($.Title,{heading:6,style:{marginTop:0},children:"Compact article list"}),i.jsx($.Text,{type:"secondary",children:"Use small thumbnail in article list"})]}),i.jsx("div",{children:i.jsx(ar,{checked:n==="small",onChange:d=>{r(),Be("layout",d?"small":"large")}})})]}),i.jsx(ut,{}),i.jsxs("div",{className:"setting-row",children:[i.jsxs("div",{children:[i.jsx($.Title,{heading:6,style:{marginTop:0},children:"Show feed icon"}),i.jsx($.Text,{type:"secondary",children:"Show feed icon in feed list and article list"})]}),i.jsx("div",{children:i.jsx(ar,{checked:l,onChange:d=>{c(),Be("showFeedIcon",d)}})})]}),i.jsx(ut,{}),i.jsxs("div",{className:"setting-row",children:[i.jsxs("div",{children:[i.jsx($.Title,{heading:6,style:{marginTop:0},children:"Font size"}),i.jsx($.Text,{type:"secondary",children:"Adjust article text size"})]}),i.jsx("div",{children:i.jsxs(Kr,{children:[i.jsx($.Text,{style:{fontSize:"0.75rem"},children:"A"}),i.jsx(jo,{className:"font-size-slider",formatTooltip:d=>`${d}rem`,max:1.25,min:.75,showTicks:!0,step:.05,value:a,onChange:d=>{o(d),Be("fontSize",d)}}),i.jsx($.Text,{style:{fontSize:"1.25rem"},children:"A"})]})})]})]})},fn=e=>e.slice().sort((t,r)=>t.parsing_error_count>0&&r.parsing_error_count===0?-1:t.parsing_error_count===0&&r.parsing_error_count>0?1:0),Bl=()=>{const[e,t]=x.useState(!1),[r]=me.useForm(),[n,a]=x.useState({}),[o,l]=x.useState(window.innerWidth),c=g(m=>m.feeds),s=g(m=>m.setFeeds),[u,d]=x.useState(fn(c)),f=g(m=>m.groups),v=g(m=>m.updateFeedHidden),C=u.map(m=>({category:m.category,checked_at:m.checked_at,crawler:m.crawler,feed_url:m.feed_url,key:m.id,parsing_error_count:m.parsing_error_count,title:m.title,hidden:m.hide_globally}));x.useEffect(()=>{const m=()=>l(window.innerWidth);return window.addEventListener("resize",m),()=>window.removeEventListener("resize",m)},[]),x.useEffect(()=>{d(fn(c))},[c]);const y=m=>{a(m),t(!0),r.setFieldsValue({crawler:m.crawler,group:m.category.id,title:m.title,url:m.feed_url,hidden:m.hidden})},S=async m=>{Zs(m.key).then(()=>{re.success("Refreshed"),m.parsing_error_count=0}).catch(()=>{re.error("Failed to refresh"),m.parsing_error_count++}).finally(()=>{s(c.map(T=>T.id===m.key?{...T,parsing_error_count:m.parsing_error_count}:T))})},j=async m=>{Js(m.key).then(()=>{re.success("Unfollowed"),s(c.filter(T=>T.id!==m.key))}).catch(()=>{re.error("Failed to unfollow")})},k=o<=768,E=[{title:"Title",dataIndex:"title",sorter:(m,T)=>m.title.localeCompare(T.title,"en"),render:(m,T)=>{const w=T.parsing_error_count,M=w?`⚠️ ${m}`:m,F=i.jsxs("div",{children:[m,w>0&&i.jsxs(i.Fragment,{children:[i.jsx("br",{}),"⚠️ Parsing error count: ",w]})]});return i.jsx($.Ellipsis,{expandable:!1,children:i.jsx(Ue,{mini:!0,content:F,children:M})})}},!k&&{title:"Url",dataIndex:"feed_url",sorter:(m,T)=>m.feed_url.localeCompare(T.feed_url,"en"),render:m=>i.jsx($.Ellipsis,{expandable:!1,showTooltip:!0,children:m})},{title:"Group",dataIndex:"category.title",sorter:(m,T)=>m.category.title.localeCompare(T.category.title,"en"),render:m=>i.jsx($.Ellipsis,{expandable:!1,showTooltip:!0,children:i.jsx(wr,{children:m})})},!k&&{title:"Checked at",dataIndex:"checked_at",sorter:(m,T)=>m.checked_at.localeCompare(T.checked_at,"en"),render:m=>i.jsx($.Ellipsis,{expandable:!1,children:Pn(m)})},{title:"Actions",dataIndex:"op",fixed:"right",width:100,render:(m,T)=>i.jsxs(Kr,{children:[i.jsx("button",{"aria-label":"Edit this feed",className:"list-item-action",onClick:()=>y(T),type:"button",children:i.jsx(To,{})}),i.jsx("button",{"aria-label":"Refresh this feed",className:"list-item-action",onClick:()=>S(T),type:"button",children:i.jsx($a,{})}),i.jsx(Va,{position:"left",focusLock:!0,title:"Unfollow？",onOk:async()=>{await j(T)},children:i.jsx("span",{className:"list-item-action",children:i.jsx(ko,{})})})]})}].filter(Boolean),R=async(m,T,w,M,F,B)=>{Ks(m,T,w,M,F,B).then(H=>{s(c.map(Se=>Se.id===m?{...Se,...H.data}:Se)),re.success("Feed updated successfully"),t(!1),r.resetFields()}).catch(()=>{re.error("Failed to update feed")})};return i.jsxs(i.Fragment,{children:[i.jsx("div",{style:{display:"flex",justifyContent:"center"},children:i.jsx(rt.Search,{className:"search-input",placeholder:"Search feed title or url",searchButton:!0,onChange:m=>d(fn(c).filter(T=>Vt(T.title,m)||Vt(T.feed_url,m)))})}),i.jsx(Ba,{borderCell:!0,className:"feed-table",columns:E,data:C,pagePosition:"bottomCenter",scroll:{x:!0},size:"small"}),n&&i.jsx(Zr,{className:"edit-modal",onOk:r.submit,title:"Edit Feed",unmountOnExit:!0,visible:e,onCancel:()=>{t(!1),r.resetFields()},children:i.jsxs(me,{form:r,labelCol:{span:7},layout:"vertical",wrapperCol:{span:17},onSubmit:m=>{m.url.trim()?R(n.key,m.url,m.title,m.group,m.crawler,m.hidden).then(()=>{n.hidden!==m.hidden&&v(n.key,m.hidden)}):re.error("Feed URL cannot be empty")},children:[i.jsx(me.Item,{label:"Feed URL",field:"url",rules:[{required:!0}],children:i.jsx(rt,{placeholder:"Please input feed URL"})}),i.jsx(me.Item,{label:"Title",field:"title",rules:[{required:!0}],children:i.jsx(rt,{placeholder:"Please input feed title"})}),i.jsx(me.Item,{label:"Group",required:!0,field:"group",rules:[{required:!0}],children:i.jsx(je,{placeholder:"Please select",children:f.map(m=>i.jsx(je.Option,{value:m.id,children:m.title},m.id))})}),i.jsx(me.Item,{label:"Hidden",field:"hidden",initialValue:n.hide_globally,triggerPropName:"checked",rules:[{type:"boolean"}],children:i.jsx(ar,{})}),i.jsx(me.Item,{label:"Fetch original content",field:"crawler",tooltip:i.jsx("div",{children:"Only affects newly retrieved articles"}),style:{marginBottom:0},triggerPropName:"checked",rules:[{type:"boolean"}],children:i.jsx(ar,{})})]})})]})},$l=()=>{const e=g(s=>s.showStatus),t=g(s=>s.setShowStatus),r=g(s=>s.homePage),n=g(s=>s.setHomePage),a=g(s=>s.orderBy),o=g(s=>s.pageSize),l=g(s=>s.setOrderBy),c=g(s=>s.setPageSize);return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"setting-row",children:[i.jsxs("div",{children:[i.jsx($.Title,{heading:6,style:{marginTop:0},children:"Default show status"}),i.jsx($.Text,{type:"secondary",children:"Which status to show by default:"})]}),i.jsx("div",{children:i.jsxs(je,{className:"select-style",placeholder:"Select status",value:e,onChange:s=>{t(s),Be("showStatus",s)},children:[i.jsx(je.Option,{value:"all",children:"All"}),i.jsx(je.Option,{value:"unread",children:"Unread"})]})})]}),i.jsx(ut,{}),i.jsxs("div",{className:"setting-row",children:[i.jsxs("div",{children:[i.jsx($.Title,{heading:6,style:{marginTop:0},children:"Default home page"}),i.jsx($.Text,{type:"secondary",children:"Which page to show by default:"})]}),i.jsx("div",{children:i.jsxs(je,{onChange:s=>{n(s),Be("homePage",s)},placeholder:"Select page",style:{width:128,marginLeft:16},value:r,children:[i.jsx(je.Option,{value:"all",children:"All"}),i.jsx(je.Option,{value:"today",children:"Today"}),i.jsx(je.Option,{value:"starred",children:"Starred"}),i.jsx(je.Option,{value:"history",children:"History"})]})})]}),i.jsx(ut,{}),i.jsxs("div",{className:"setting-row",children:[i.jsxs("div",{children:[i.jsx($.Title,{heading:6,style:{marginTop:0},children:"Entries order"}),i.jsx($.Text,{type:"secondary",children:"What order to show entries:"})]}),i.jsx("div",{children:i.jsxs(je,{onChange:s=>{l(s),Be("orderBy",s)},placeholder:"Select order",style:{width:128,marginLeft:16},value:a,children:[i.jsx(je.Option,{value:"published_at",children:"Published at"}),i.jsx(je.Option,{value:"created_at",children:"Created at"})]})})]}),i.jsx(ut,{}),i.jsxs("div",{className:"setting-row",children:[i.jsxs("div",{children:[i.jsx($.Title,{heading:6,style:{marginTop:0},children:"Entries per page"}),i.jsx($.Text,{type:"secondary",children:"Show how many entries per page:"})]}),i.jsx("div",{children:i.jsx(_o,{defaultValue:o,min:1,mode:"button",onChange:s=>{c(s),Be("pageSize",s)},size:"small",style:{width:128,marginLeft:16}})})]})]})},Vl=()=>{const e=g(k=>k.feeds),t=g(k=>k.setFeeds),r=g(k=>k.groups),n=g(k=>k.setGroups),a=g(k=>k.updateGroupHidden),[o,l]=x.useState(!1),[c,s]=x.useState(""),[u,d]=x.useState(!1),[f]=me.useForm(),[v,C]=x.useState({}),y=async()=>{c&&Xs(c).then(k=>{n(E=>[...E,{...k.data,feedCount:0}]),s(""),re.success("Group added successfully")}).catch(()=>{re.error("Failed to add group")}),s(""),l(!1)},S=async(k,E,R)=>{Ys(k,E,R).then(m=>{t(e.map(T=>T.category.id===k?{...T,category:{...T.category,title:E}}:T)),n(r.map(T=>T.id===k?{...T,...m.data}:T)),re.success("Group updated successfully"),d(!1),f.resetFields()}).catch(()=>{re.error("Failed to update group")})},j=async k=>{qs(k).then(E=>{E.status===204?(n(r.filter(R=>R.id!==k)),re.success("Group deleted successfully")):re.error("Failed to delete group")}).catch(()=>{re.error("Failed to delete group")})};return i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[r.map(k=>i.jsx(wr,{className:"tag-style",closable:k.feedCount===0,size:"medium",onClick:()=>{C(k),d(!0),f.setFieldsValue({title:k.title})},onClose:async E=>{E.stopPropagation(),await j(k.id)},children:k.title},k.id)),o?i.jsx(rt,{autoFocus:!0,className:"input-style",onBlur:y,onChange:s,onPressEnter:y,size:"small",value:c}):i.jsx(wr,{className:"add-group-tag",icon:i.jsx(In,{}),onClick:()=>l(!0),size:"medium",tabIndex:0,children:"Add"})]}),v&&i.jsx(Zr,{className:"modal-style",onOk:f.submit,title:"Edit Group",unmountOnExit:!0,visible:u,onCancel:()=>{d(!1),f.resetFields()},children:i.jsxs(me,{form:f,layout:"vertical",onSubmit:k=>{S(v.id,k.title,k.hidden).then(()=>{v.hide_globally!==k.hidden&&a(v.id,k.hidden)})},labelCol:{style:{flexBasis:90}},wrapperCol:{style:{flexBasis:"calc(100% - 90px)"}},children:[i.jsx(me.Item,{label:"Title",field:"title",rules:[{required:!0}],children:i.jsx(rt,{placeholder:"Please input group title"})}),i.jsx(me.Item,{label:"Hidden",field:"hidden",initialValue:v.hide_globally,triggerPropName:"checked",rules:[{type:"boolean"}],children:i.jsx(ar,{})})]})})]})},Hl=[{title:"Key",dataIndex:"keyName",render:e=>i.jsx(wr,{children:e})},{title:"Function",dataIndex:"description"}],Wl=[{key:"1",keyName:"Esc",description:"Dismiss article"},{key:"2",keyName:"←",description:"Previous article"},{key:"3",keyName:"→",description:"Next article"},{key:"4",keyName:"B",description:"Open link externally"},{key:"5",keyName:"D",description:"Fetch original article"},{key:"6",keyName:"M",description:"Mark as read / unread"},{key:"7",keyName:"S",description:"Star / Unstar"}],Gl=()=>i.jsx(Ba,{borderCell:!0,columns:Hl,data:Wl,pagination:!1,size:"small",style:{margin:"0 auto",width:"80%"}}),ql=()=>{const e=()=>{const t=[wi,Ci,Si];for(const r of t){const n=new Image;n.src=r}};return x.useEffect(()=>{e()},[]),i.jsxs(er,{className:"custom-tabs",defaultActiveTab:"1",tabPosition:"top",children:[i.jsx(er.TabPane,{title:i.jsxs("span",{children:[i.jsx(Mo,{style:{marginRight:6}}),"Feeds"]}),children:i.jsx(Bl,{})},"1"),i.jsx(er.TabPane,{title:i.jsxs("span",{children:[i.jsx(Fo,{style:{marginRight:6}}),"Groups"]}),children:i.jsx(Vl,{})},"2"),i.jsx(er.TabPane,{title:i.jsxs("span",{children:[i.jsx(Io,{style:{marginRight:6}}),"General"]}),children:i.jsx($l,{})},"3"),i.jsx(er.TabPane,{title:i.jsxs("span",{children:[i.jsx(Ao,{style:{marginRight:6}}),"Appearance"]}),children:i.jsx(Ul,{})},"4"),i.jsx(er.TabPane,{title:i.jsxs("span",{children:[i.jsx(Po,{style:{marginRight:6}}),"Hotkeys"]}),children:i.jsx(Gl,{})},"5")]})},Xl=[{required:!0}],Yl=[{required:!0}],Kl=[{type:"boolean"}],Zl=()=>{const e=g(s=>s.activeContent),t=g(s=>s.setActiveContent),r=g(s=>s.setVisible),n=g(s=>s.visible),[a,o]=x.useState("720px"),[l,c]=x.useState("10%");return x.useEffect(()=>{const s=()=>{const u=Sn()?"100%":"720px",d=Sn()?"5%":"10%";o(u),c(d)};return window.addEventListener("resize",s),s(),()=>{window.removeEventListener("resize",s)}},[]),i.jsx(Zr,{visible:n.settings,alignCenter:!1,title:"Settings",footer:null,unmountOnExit:!0,style:{width:a,top:l},onFocus:()=>{e&&t(null)},onCancel:()=>r("settings",!1),autoFocus:!1,focusLock:!0,children:i.jsx(ql,{})})},Jl=()=>{const e=g(d=>d.activeContent),t=g(d=>d.groups),r=g(d=>d.initData),n=g(d=>d.setActiveContent),a=g(d=>d.setVisible),o=g(d=>d.visible),[l,c]=x.useState(!1),[s]=me.useForm(),u=async(d,f,v)=>{c(!0),Qs(d,f,v).then(()=>{r(),re.success("Added a feed successfully"),a("addFeed",!1),s.resetFields()}).catch(()=>{re.error("Failed to add a feed")}),c(!1)};return i.jsx(Zr,{title:"Add Feed",visible:o.addFeed,unmountOnExit:!0,style:{width:"400px"},onFocus:()=>{e&&n(null)},onOk:s.submit,confirmLoading:l,onCancel:()=>{a("addFeed",!1),s.resetFields()},children:i.jsxs(me,{form:s,labelCol:{span:7},layout:"vertical",wrapperCol:{span:17},onSubmit:d=>{d.url.trim()?u(d.url.trim(),d.group,d.crawler):re.error("Feed URL cannot be empty")},children:[i.jsx(me.Item,{label:"Feed URL",field:"url",rules:Xl,children:i.jsx(rt,{placeholder:"Please input a feed URL"})}),i.jsx(me.Item,{label:"Group",required:!0,field:"group",rules:Yl,children:i.jsx(je,{placeholder:"Please select a category",showSearch:!0,filterOption:(d,f)=>Vt(f.props.children,d),children:t.map(d=>i.jsx(je.Option,{value:d.id,children:d.title},d.id))})}),i.jsx(me.Item,{label:"Fetch original content",initialValue:!1,field:"crawler",style:{marginBottom:0},triggerPropName:"checked",rules:Kl,children:i.jsx(ar,{})})]})})},Ql=()=>{const[e,t]=x.useState(0);return x.useEffect(()=>{const r=()=>{const n=document.querySelector(".entry-panel"),a=n?n.offsetHeight:49,o=window.innerHeight;t(o-a)};return window.addEventListener("resize",r),r(),()=>window.removeEventListener("resize",r)},[]),i.jsxs("div",{className:"main",style:{height:`${e}px`},children:[i.jsx(No,{}),i.jsx(Zl,{}),i.jsx(Jl,{})]})};function Ur(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ur=function(r){return typeof r}:Ur=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ur(e)}function Rn(e){var t=typeof e=="string"||e instanceof String;if(!t){var r=Ur(e);throw e===null?r="null":r==="object"&&(r=e.constructor.name),new TypeError("Expected a string but received a ".concat(r))}}function Ei(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;for(var r in t)typeof e[r]>"u"&&(e[r]=t[r]);return e}var ec={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_numeric_tld:!1,allow_wildcard:!1,ignore_max_length:!1};function tc(e,t){Rn(e),t=Ei(t,ec),t.allow_trailing_dot&&e[e.length-1]==="."&&(e=e.substring(0,e.length-1)),t.allow_wildcard===!0&&e.indexOf("*.")===0&&(e=e.substring(2));var r=e.split("."),n=r[r.length-1];return t.require_tld&&(r.length<2||!t.allow_numeric_tld&&!/^([a-z\u00A1-\u00A8\u00AA-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}|xn[a-z0-9-]{2,})$/i.test(n)||/\s/.test(n))||!t.allow_numeric_tld&&/^\d+$/.test(n)?!1:r.every(function(a){return!(a.length>63&&!t.ignore_max_length||!/^[a-z_\u00a1-\uffff0-9-]+$/i.test(a)||/[\uff01-\uff5e]/.test(a)||/^-|-$/.test(a)||!t.allow_underscores&&/_/.test(a))})}var va="(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",kt="(".concat(va,"[.]){3}").concat(va),rc=new RegExp("^".concat(kt,"$")),ge="(?:[0-9a-fA-F]{1,4})",nc=new RegExp("^("+"(?:".concat(ge,":){7}(?:").concat(ge,"|:)|")+"(?:".concat(ge,":){6}(?:").concat(kt,"|:").concat(ge,"|:)|")+"(?:".concat(ge,":){5}(?::").concat(kt,"|(:").concat(ge,"){1,2}|:)|")+"(?:".concat(ge,":){4}(?:(:").concat(ge,"){0,1}:").concat(kt,"|(:").concat(ge,"){1,3}|:)|")+"(?:".concat(ge,":){3}(?:(:").concat(ge,"){0,2}:").concat(kt,"|(:").concat(ge,"){1,4}|:)|")+"(?:".concat(ge,":){2}(?:(:").concat(ge,"){0,3}:").concat(kt,"|(:").concat(ge,"){1,5}|:)|")+"(?:".concat(ge,":){1}(?:(:").concat(ge,"){0,4}:").concat(kt,"|(:").concat(ge,"){1,6}|:)|")+"(?::((?::".concat(ge,"){0,5}:").concat(kt,"|(?::").concat(ge,"){1,7}|:))")+")(%[0-9a-zA-Z-.:]{1,})?$");function qr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return Rn(e),t=String(t),t?t==="4"?rc.test(e):t==="6"?nc.test(e):!1:qr(e,4)||qr(e,6)}function ac(e,t){return lc(e)||sc(e,t)||oc(e,t)||ic()}function ic(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oc(e,t){if(e){if(typeof e=="string")return ga(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ga(e,t)}}function ga(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sc(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,o=void 0;try{for(var l=e[Symbol.iterator](),c;!(n=(c=l.next()).done)&&(r.push(c.value),!(t&&r.length===t));n=!0);}catch(s){a=!0,o=s}finally{try{!n&&l.return!=null&&l.return()}finally{if(a)throw o}}return r}}function lc(e){if(Array.isArray(e))return e}var cc={protocols:["http","https","ftp"],require_tld:!0,require_protocol:!1,require_host:!0,require_port:!1,require_valid_protocol:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_protocol_relative_urls:!1,allow_fragments:!0,allow_query_components:!0,validate_length:!0},uc=/^\[([^\]]+)\](?::([0-9]+))?$/;function dc(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function ya(e,t){for(var r=0;r<t.length;r++){var n=t[r];if(e===n||dc(n)&&n.test(e))return!0}return!1}function ji(e,t){if(Rn(e),!e||/[\s<>]/.test(e)||e.indexOf("mailto:")===0||(t=Ei(t,cc),t.validate_length&&e.length>=2083)||!t.allow_fragments&&e.includes("#")||!t.allow_query_components&&(e.includes("?")||e.includes("&")))return!1;var r,n,a,o,l,c,s,u;if(s=e.split("#"),e=s.shift(),s=e.split("?"),e=s.shift(),s=e.split("://"),s.length>1){if(r=s.shift().toLowerCase(),t.require_valid_protocol&&t.protocols.indexOf(r)===-1)return!1}else{if(t.require_protocol)return!1;if(e.slice(0,2)==="//"){if(!t.allow_protocol_relative_urls)return!1;s[0]=e.slice(2)}}if(e=s.join("://"),e==="")return!1;if(s=e.split("/"),e=s.shift(),e===""&&!t.require_host)return!0;if(s=e.split("@"),s.length>1){if(t.disallow_auth||s[0]===""||(n=s.shift(),n.indexOf(":")>=0&&n.split(":").length>2))return!1;var d=n.split(":"),f=ac(d,2),v=f[0],C=f[1];if(v===""&&C==="")return!1}o=s.join("@"),c=null,u=null;var y=o.match(uc);if(y?(a="",u=y[1],c=y[2]||null):(s=o.split(":"),a=s.shift(),s.length&&(c=s.join(":"))),c!==null&&c.length>0){if(l=parseInt(c,10),!/^[0-9]+$/.test(c)||l<=0||l>65535)return!1}else if(t.require_port)return!1;return t.host_whitelist?ya(a,t.host_whitelist):a===""&&!t.require_host?!0:!(!qr(a)&&!tc(a,t)&&(!u||!qr(u,6))||(a=a||u,t.host_blacklist&&ya(a,t.host_blacklist)))}const Ti=e=>{const t=new URL(e);return`${t.protocol}//${t.hostname}`},fr=Mt.Item,{Sider:hc}=zo,fc=({group:e,isOpen:t,feedsGroupedById:r})=>{const n=g(l=>l.showAllFeeds),a=g(l=>l.hiddenFeedIds);let{unreadCount:o}=e;return!n&&a&&(o=r[e.id].filter(l=>!a.includes(l.id)).reduce((l,c)=>l+c.unreadCount,0)),i.jsxs("div",{className:"group-title",children:[i.jsxs($.Ellipsis,{expandable:!1,showTooltip:!0,style:{width:o?"80%":"100%"},children:[t?i.jsx(Uo,{}):i.jsx(Bo,{}),e.title]}),o>0&&i.jsx($.Ellipsis,{className:"unread-count",expandable:!1,children:o})]})},pc=()=>{const e=Oo(),t=Cr(),r=g(w=>w.collapsed),n=g(w=>w.feeds),a=g(w=>w.groups),o=g(w=>w.loading),l=g(w=>w.unreadTotal),c=g(w=>w.unreadToday),s=g(w=>w.starredCount),u=g(w=>w.readCount),d=g(w=>w.showFeedIcon),f=g(w=>w.toggleCollapsed),v=g(w=>w.hiddenFeedIds),C=g(w=>w.hiddenGroupIds),y=g(w=>w.showAllFeeds),[S,j]=x.useState([]),[k,E]=x.useState([]),R=e.pathname,m=(w,M)=>{E(M)},T=n.reduce((w,M)=>{if(!y&&v.includes(M.id))return w;ji(M.site_url)||(M.site_url=Ti(M.feed_url));const{id:F}=M.category;return w[F]=w[F]||[],w[F].push(M),w},{});return x.useEffect(()=>{j([R]),r||window.innerWidth<=992&&f(!0)},[R]),x.useEffect(()=>{o||E([])},[o]),i.jsx(hc,{breakpoint:"lg",className:"sidebar",collapsed:r,collapsedWidth:0,collapsible:!0,onCollapse:f,trigger:null,width:240,style:{borderRight:r?"none":"1px solid var(--color-border-2)"},children:i.jsxs(Mt,{autoScrollIntoView:!0,collapse:r,defaultSelectedKeys:[R],hasCollapseButton:!0,onClickSubMenu:m,onCollapseChange:f,selectedKeys:S,style:{width:"240px",height:"100%"},children:[i.jsxs("div",{className:"menu-header",style:{visibility:r?"hidden":"visible"},children:[i.jsx(za,{className:"avatar",size:32,children:i.jsx(Ha,{style:{color:"var(--color-bg-1)"}})}),i.jsx($.Title,{heading:6,style:{margin:"0"},children:"ReactFlux"})]}),i.jsx(ut,{className:"divider"}),i.jsx($.Title,{className:"section-title",heading:6,children:"Articles"}),i.jsx($r,{loading:o,animation:!0,text:{rows:3}}),o?null:i.jsxs("div",{children:[i.jsx(fr,{onClick:()=>t("/all"),children:i.jsxs("div",{className:"custom-menu-item",children:[i.jsxs("span",{children:[i.jsx(Ro,{}),"All"]}),i.jsx($.Ellipsis,{className:"item-count",expandable:!1,children:l||""})]})},"/all"),i.jsx(fr,{onClick:()=>t("/today"),children:i.jsxs("div",{className:"custom-menu-item",children:[i.jsxs("span",{children:[i.jsx(Do,{}),"Today"]}),i.jsx($.Ellipsis,{className:"item-count",expandable:!1,children:c||""})]})},"/today"),i.jsx(fr,{onClick:()=>t("/starred"),children:i.jsxs("div",{className:"custom-menu-item",children:[i.jsxs("span",{children:[i.jsx(An,{}),"Starred"]}),i.jsx($.Ellipsis,{className:"item-count",expandable:!1,children:s||""})]})},"/starred"),i.jsx(fr,{onClick:()=>t("/history"),children:i.jsxs("div",{className:"custom-menu-item",children:[i.jsxs("span",{children:[i.jsx(Lo,{}),"History"]}),i.jsx($.Ellipsis,{className:"item-count",expandable:!1,children:u||""})]})},"/history")]}),i.jsx($.Title,{className:"section-title",heading:6,children:"Feeds"}),i.jsx($r,{loading:o,animation:!0,text:{rows:6}}),o?null:a.filter(w=>y||!C.includes(w.id)).map(w=>{var M;return i.jsx(Mt.SubMenu,{selectable:!0,title:i.jsx(fc,{group:w,isOpen:k.includes(`/group/${w.id}`),feedsGroupedById:T}),onClick:F=>{j([`/group/${w.id}`]),!(F.target.tagName==="svg"||F.target.tagName==="path")&&R!==`/group/${w.id}`&&t(`/group/${w.id}`)},children:(M=T[w.id])==null?void 0:M.map(F=>i.jsx(fr,{onClick:B=>{B.stopPropagation(),j([`/group/${w.id}`]),t(`/feed/${F.id}`)},children:i.jsxs("div",{className:"custom-menu-item",children:[i.jsxs($.Ellipsis,{expandable:!1,showTooltip:!0,style:{width:F.unreadCount!==0?"80%":"100%"},children:[d&&i.jsx("img",{src:`https://icons.duckduckgo.com/ip3/${new URL(F.site_url).hostname}.ico`,alt:"Icon",style:{marginRight:"8px",width:"16px",height:"16px",verticalAlign:"-2px"}}),F.title]}),F.unreadCount!==0&&i.jsx($.Ellipsis,{className:"item-count",expandable:!1,children:F.unreadCount})]})},`/feed/${F.id}`))},`/group/${w.id}`)})]})})},mc=()=>{const e=g(a=>a.initData),t=g(a=>a.theme),r=g(a=>a.isSysDarkMode),n=g(a=>a.setIsSysDarkMode);return x.useEffect(()=>{e();const a=l=>{n(l.matches)},o=window.matchMedia("(prefers-color-scheme: dark)");return o.addEventListener("change",a),()=>{o.removeEventListener("change",a)}},[]),x.useEffect(()=>{(o=>{document.body.setAttribute("arco-theme",o?"dark":"light"),document.body.style.colorScheme=o?"dark":"light"})(t==="system"?r:t==="dark")},[r,t]),i.jsxs("div",{className:"app",children:[i.jsx(zl,{}),i.jsx(pc,{}),i.jsx(Ql,{})]})};var jr={};(function e(t,r,n,a){var o=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),l=typeof Path2D=="function"&&typeof DOMMatrix=="function",c=function(){if(!t.OffscreenCanvas)return!1;var p=new OffscreenCanvas(1,1),h=p.getContext("2d");h.fillRect(0,0,1,1);var I=p.transferToImageBitmap();try{h.createPattern(I,"no-repeat")}catch{return!1}return!0}();function s(){}function u(p){var h=r.exports.Promise,I=h!==void 0?h:t.Promise;return typeof I=="function"?new I(p):(p(s,s),null)}var d=function(p,h){return{transform:function(I){if(p)return I;if(h.has(I))return h.get(I);var P=new OffscreenCanvas(I.width,I.height),N=P.getContext("2d");return N.drawImage(I,0,0),h.set(I,P),P},clear:function(){h.clear()}}}(c,new Map),f=function(){var p=Math.floor(16.666666666666668),h,I,P={},N=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(h=function(D){var L=Math.random();return P[L]=requestAnimationFrame(function O(U){N===U||N+p-1<U?(N=U,delete P[L],D()):P[L]=requestAnimationFrame(O)}),L},I=function(D){P[D]&&cancelAnimationFrame(P[D])}):(h=function(D){return setTimeout(D,p)},I=function(D){return clearTimeout(D)}),{frame:h,cancel:I}}(),v=function(){var p,h,I={};function P(N){function D(L,O){N.postMessage({options:L||{},callback:O})}N.init=function(O){var U=O.transferControlToOffscreen();N.postMessage({canvas:U},[U])},N.fire=function(O,U,q){if(h)return D(O,null),h;var V=Math.random().toString(36).slice(2);return h=u(function(Q){function J(ie){ie.data.callback===V&&(delete I[V],N.removeEventListener("message",J),h=null,d.clear(),q(),Q())}N.addEventListener("message",J),D(O,V),I[V]=J.bind(null,{data:{callback:V}})}),h},N.reset=function(){N.postMessage({reset:!0});for(var O in I)I[O](),delete I[O]}}return function(){if(p)return p;if(!n&&o){var N=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{p=new Worker(URL.createObjectURL(new Blob([N])))}catch(D){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("🎊 Could not load worker",D),null}P(p)}return p}}(),C={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function y(p,h){return h?h(p):p}function S(p){return p!=null}function j(p,h,I){return y(p&&S(p[h])?p[h]:C[h],I)}function k(p){return p<0?0:Math.floor(p)}function E(p,h){return Math.floor(Math.random()*(h-p))+p}function R(p){return parseInt(p,16)}function m(p){return p.map(T)}function T(p){var h=String(p).replace(/[^0-9a-f]/gi,"");return h.length<6&&(h=h[0]+h[0]+h[1]+h[1]+h[2]+h[2]),{r:R(h.substring(0,2)),g:R(h.substring(2,4)),b:R(h.substring(4,6))}}function w(p){var h=j(p,"origin",Object);return h.x=j(h,"x",Number),h.y=j(h,"y",Number),h}function M(p){p.width=document.documentElement.clientWidth,p.height=document.documentElement.clientHeight}function F(p){var h=p.getBoundingClientRect();p.width=h.width,p.height=h.height}function B(p){var h=document.createElement("canvas");return h.style.position="fixed",h.style.top="0px",h.style.left="0px",h.style.pointerEvents="none",h.style.zIndex=p,h}function H(p,h,I,P,N,D,L,O,U){p.save(),p.translate(h,I),p.rotate(D),p.scale(P,N),p.arc(0,0,1,L,O,U),p.restore()}function Se(p){var h=p.angle*(Math.PI/180),I=p.spread*(Math.PI/180);return{x:p.x,y:p.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:p.startVelocity*.5+Math.random()*p.startVelocity,angle2D:-h+(.5*I-Math.random()*I),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:p.color,shape:p.shape,tick:0,totalTicks:p.ticks,decay:p.decay,drift:p.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:p.gravity*3,ovalScalar:.6,scalar:p.scalar,flat:p.flat}}function ye(p,h){h.x+=Math.cos(h.angle2D)*h.velocity+h.drift,h.y+=Math.sin(h.angle2D)*h.velocity+h.gravity,h.velocity*=h.decay,h.flat?(h.wobble=0,h.wobbleX=h.x+10*h.scalar,h.wobbleY=h.y+10*h.scalar,h.tiltSin=0,h.tiltCos=0,h.random=1):(h.wobble+=h.wobbleSpeed,h.wobbleX=h.x+10*h.scalar*Math.cos(h.wobble),h.wobbleY=h.y+10*h.scalar*Math.sin(h.wobble),h.tiltAngle+=.1,h.tiltSin=Math.sin(h.tiltAngle),h.tiltCos=Math.cos(h.tiltAngle),h.random=Math.random()+2);var I=h.tick++/h.totalTicks,P=h.x+h.random*h.tiltCos,N=h.y+h.random*h.tiltSin,D=h.wobbleX+h.random*h.tiltCos,L=h.wobbleY+h.random*h.tiltSin;if(p.fillStyle="rgba("+h.color.r+", "+h.color.g+", "+h.color.b+", "+(1-I)+")",p.beginPath(),l&&h.shape.type==="path"&&typeof h.shape.path=="string"&&Array.isArray(h.shape.matrix))p.fill(De(h.shape.path,h.shape.matrix,h.x,h.y,Math.abs(D-P)*.1,Math.abs(L-N)*.1,Math.PI/10*h.wobble));else if(h.shape.type==="bitmap"){var O=Math.PI/10*h.wobble,U=Math.abs(D-P)*.1,q=Math.abs(L-N)*.1,V=h.shape.bitmap.width*h.scalar,Q=h.shape.bitmap.height*h.scalar,J=new DOMMatrix([Math.cos(O)*U,Math.sin(O)*U,-Math.sin(O)*q,Math.cos(O)*q,h.x,h.y]);J.multiplySelf(new DOMMatrix(h.shape.matrix));var ie=p.createPattern(d.transform(h.shape.bitmap),"no-repeat");ie.setTransform(J),p.globalAlpha=1-I,p.fillStyle=ie,p.fillRect(h.x-V/2,h.y-Q/2,V,Q),p.globalAlpha=1}else if(h.shape==="circle")p.ellipse?p.ellipse(h.x,h.y,Math.abs(D-P)*h.ovalScalar,Math.abs(L-N)*h.ovalScalar,Math.PI/10*h.wobble,0,2*Math.PI):H(p,h.x,h.y,Math.abs(D-P)*h.ovalScalar,Math.abs(L-N)*h.ovalScalar,Math.PI/10*h.wobble,0,2*Math.PI);else if(h.shape==="star")for(var W=Math.PI/2*3,G=4*h.scalar,Ee=8*h.scalar,ce=h.x,xe=h.y,Le=5,ue=Math.PI/Le;Le--;)ce=h.x+Math.cos(W)*Ee,xe=h.y+Math.sin(W)*Ee,p.lineTo(ce,xe),W+=ue,ce=h.x+Math.cos(W)*G,xe=h.y+Math.sin(W)*G,p.lineTo(ce,xe),W+=ue;else p.moveTo(Math.floor(h.x),Math.floor(h.y)),p.lineTo(Math.floor(h.wobbleX),Math.floor(N)),p.lineTo(Math.floor(D),Math.floor(L)),p.lineTo(Math.floor(P),Math.floor(h.wobbleY));return p.closePath(),p.fill(),h.tick<h.totalTicks}function at(p,h,I,P,N){var D=h.slice(),L=p.getContext("2d"),O,U,q=u(function(V){function Q(){O=U=null,L.clearRect(0,0,P.width,P.height),d.clear(),N(),V()}function J(){n&&!(P.width===a.width&&P.height===a.height)&&(P.width=p.width=a.width,P.height=p.height=a.height),!P.width&&!P.height&&(I(p),P.width=p.width,P.height=p.height),L.clearRect(0,0,P.width,P.height),D=D.filter(function(ie){return ye(L,ie)}),D.length?O=f.frame(J):Q()}O=f.frame(J),U=Q});return{addFettis:function(V){return D=D.concat(V),q},canvas:p,promise:q,reset:function(){O&&f.cancel(O),U&&U()}}}function Me(p,h){var I=!p,P=!!j(h||{},"resize"),N=!1,D=j(h,"disableForReducedMotion",Boolean),L=o&&!!j(h||{},"useWorker"),O=L?v():null,U=I?M:F,q=p&&O?!!p.__confetti_initialized:!1,V=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Q;function J(W,G,Ee){for(var ce=j(W,"particleCount",k),xe=j(W,"angle",Number),Le=j(W,"spread",Number),ue=j(W,"startVelocity",Number),qe=j(W,"decay",Number),it=j(W,"gravity",Number),Ae=j(W,"drift",Number),_=j(W,"colors",m),se=j(W,"ticks",Number),be=j(W,"shapes"),pe=j(W,"scalar"),Xe=!!j(W,"flat"),ot=w(W),Nt=ce,Ct=[],Gt=p.width*ot.x,Pe=p.height*ot.y;Nt--;)Ct.push(Se({x:Gt,y:Pe,angle:xe,spread:Le,startVelocity:ue,color:_[Nt%_.length],shape:be[E(0,be.length)],ticks:se,decay:qe,gravity:it,drift:Ae,scalar:pe,flat:Xe}));return Q?Q.addFettis(Ct):(Q=at(p,Ct,U,G,Ee),Q.promise)}function ie(W){var G=D||j(W,"disableForReducedMotion",Boolean),Ee=j(W,"zIndex",Number);if(G&&V)return u(function(ue){ue()});I&&Q?p=Q.canvas:I&&!p&&(p=B(Ee),document.body.appendChild(p)),P&&!q&&U(p);var ce={width:p.width,height:p.height};O&&!q&&O.init(p),q=!0,O&&(p.__confetti_initialized=!0);function xe(){if(O){var ue={getBoundingClientRect:function(){if(!I)return p.getBoundingClientRect()}};U(ue),O.postMessage({resize:{width:ue.width,height:ue.height}});return}ce.width=ce.height=null}function Le(){Q=null,P&&(N=!1,t.removeEventListener("resize",xe)),I&&p&&(document.body.removeChild(p),p=null,q=!1)}return P&&!N&&(N=!0,t.addEventListener("resize",xe,!1)),O?O.fire(W,ce,Le):J(W,ce,Le)}return ie.reset=function(){O&&O.reset(),Q&&Q.reset()},ie}var te;function he(){return te||(te=Me(null,{useWorker:!0,resize:!0})),te}function De(p,h,I,P,N,D,L){var O=new Path2D(p),U=new Path2D;U.addPath(O,new DOMMatrix(h));var q=new Path2D;return q.addPath(U,new DOMMatrix([Math.cos(L)*N,Math.sin(L)*N,-Math.sin(L)*D,Math.cos(L)*D,I,P])),q}function Fe(p){if(!l)throw new Error("path confetti are not supported in this browser");var h,I;typeof p=="string"?h=p:(h=p.path,I=p.matrix);var P=new Path2D(h),N=document.createElement("canvas"),D=N.getContext("2d");if(!I){for(var L=1e3,O=L,U=L,q=0,V=0,Q,J,ie=0;ie<L;ie+=2)for(var W=0;W<L;W+=2)D.isPointInPath(P,ie,W,"nonzero")&&(O=Math.min(O,ie),U=Math.min(U,W),q=Math.max(q,ie),V=Math.max(V,W));Q=q-O,J=V-U;var G=10,Ee=Math.min(G/Q,G/J);I=[Ee,0,0,Ee,-Math.round(Q/2+O)*Ee,-Math.round(J/2+U)*Ee]}return{type:"path",path:h,matrix:I}}function wt(p){var h,I=1,P="#000000",N='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof p=="string"?h=p:(h=p.text,I="scalar"in p?p.scalar:I,N="fontFamily"in p?p.fontFamily:N,P="color"in p?p.color:P);var D=10*I,L=""+D+"px "+N,O=new OffscreenCanvas(D,D),U=O.getContext("2d");U.font=L;var q=U.measureText(h),V=Math.ceil(q.actualBoundingBoxRight+q.actualBoundingBoxLeft),Q=Math.ceil(q.actualBoundingBoxAscent+q.actualBoundingBoxDescent),J=2,ie=q.actualBoundingBoxLeft+J,W=q.actualBoundingBoxAscent+J;V+=J+J,Q+=J+J,O=new OffscreenCanvas(V,Q),U=O.getContext("2d"),U.font=L,U.fillStyle=P,U.fillText(h,ie,W);var G=1/I;return{type:"bitmap",bitmap:O.transferToImageBitmap(),matrix:[G,0,0,G,-V*G/2,-Q*G/2]}}r.exports=function(){return he().apply(this,arguments)},r.exports.reset=function(){he().reset()},r.exports.create=Me,r.exports.shapeFromPath=Fe,r.exports.shapeFromText=wt})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),jr,!1);const vc=jr.exports;jr.exports.create;const bt=x.createContext(null),lr=({children:e})=>{const[t,r]=x.useState(0),[n,a]=x.useState(0),[o,l]=x.useState(0),[c,s]=x.useState(0),[u,d]=x.useState(!1),[f,v]=x.useState(!1),[C,y]=x.useState([]),[S,j]=x.useState([]),[k,E]=x.useState([]),[R,m]=x.useState(de("showStatus")),[T,w]=x.useState("0"),[M,F]=x.useState(""),[B,H]=x.useState(!0),Se=x.useRef(null),ye={entries:C,entryDetailRef:Se,filteredEntries:k,filterStatus:R,filterString:M,filterType:T,loading:B,loadMoreUnreadVisible:f,loadMoreVisible:u,offset:o,setEntries:y,setFilteredEntries:E,setFilterStatus:m,setFilterString:F,setFilterType:w,setLoading:H,setLoadMoreUnreadVisible:v,setLoadMoreVisible:d,setOffset:l,setTotal:r,setUnreadCount:a,setUnreadEntries:j,setUnreadOffset:s,total:t,unreadCount:n,unreadEntries:S,unreadOffset:c};return i.jsx(bt.Provider,{value:ye,children:e})},Dn=()=>{const e=g(E=>E.setUnreadTotal),t=g(E=>E.setUnreadToday),r=g(E=>E.setReadCount),n=g(E=>E.setStarredCount),a=g(E=>E.activeContent),o=g(E=>E.setActiveContent),l=g(E=>E.updateFeedUnreadCount),c=g(E=>E.updateGroupUnreadCount),{setEntries:s,setFilteredEntries:u,setUnreadCount:d,setUnreadEntries:f}=x.useContext(bt),v=(E,R)=>E.map(m=>m.id===R.id?R:m),C=(E,R)=>{const{id:m,category:{id:T}}=E.feed,w=Rs(E.published_at);l(m,R),c(T,R),R==="read"?(e(F=>Math.max(0,F-1)),d(F=>Math.max(0,F-1)),r(F=>F+1),w&&t(F=>Math.max(0,F-1))):(e(F=>F+1),d(F=>F+1),r(F=>Math.max(0,F-1)),w&&t(F=>F+1));const M={...E,status:R};o(M),s(F=>v(F,M)),f(F=>v(F,M)),u(F=>v(F,M))},y=(E,R)=>{R?(n(T=>T+1),vc({particleCount:100,angle:120,spread:70,origin:{x:1,y:1}})):n(T=>Math.max(0,T-1));const m={...E,starred:R};o(m),s(T=>v(T,m)),f(T=>v(T,m)),u(T=>v(T,m))};return{handleEntryStatusUpdate:C,handleFetchContent:async()=>{$s(a.id).then(E=>{re.success("Fetched content successfully"),o({...a,content:E.data.content})}).catch(()=>{re.error("Failed to fetch content, please try again later")})},handleToggleStarred:async()=>{const E=!a.starred;y(a,E),Bs(a.id).catch(()=>{re.error(`Failed to ${E?"star":"unstar"} entry, please try again later`),y(a,!E)})},handleToggleStatus:async()=>{const E=a.status,R=E==="read"?"unread":"read";C(a,R),ii(a.id,R).catch(()=>{re.error(`Failed to mark entry as ${R}, please try again later`),C(a,E)})}}},xa=(e,t="start")=>{const r=document.querySelector(e);r&&r.scrollIntoView({behavior:"smooth",block:t})},Ln=()=>{const e=g(M=>M.pageSize),t=g(M=>M.showAllFeeds),r=g(M=>M.hiddenFeedIds),{entries:n,filterStatus:a,filterString:o,filterType:l,offset:c,setEntries:s,setFilteredEntries:u,setLoadMoreUnreadVisible:d,setLoadMoreVisible:f,setOffset:v,setUnreadEntries:C,setUnreadOffset:y,total:S,unreadCount:j,unreadEntries:k,unreadOffset:E}=x.useContext(bt),[R,m]=x.useState(!1),T=M=>{const H=new DOMParser().parseFromString(M.content,"text/html").querySelector("img");return H&&(M.imgSrc=H.getAttribute("src")),M};return{getFirstImage:T,handleLoadMore:async(M,F)=>{var B;m(!0);try{let H;if(a==="all"?H=await F(c+e):H=await F(E+e,a),(B=H==null?void 0:H.data)!=null&&B.entries){a==="all"?v(te=>te+e):y(te=>te+e);const Se=H.data.entries.map(T),ye=[...new Map([...a==="all"?n:k,...Se].map(te=>[te.id,te])).values()];a==="all"?s(ye):C(ye);const at=o?bi(ye,l,a,o):ye,Me=Gr(at,M,t,r);u(Me),a==="all"?f(ye.length<S):d(ye.length<j)}}catch(H){console.error("Error fetching more articles:",H)}m(!1)},loadingMore:R}},zn=(e,t,r)=>{const{entryDetailRef:n,filteredEntries:a,filterStatus:o,loadMoreUnreadVisible:l,loadMoreVisible:c}=x.useContext(bt),s=g(w=>w.activeContent),u=g(w=>w.setActiveContent),{handleLoadMore:d}=Ln(),[f,v]=x.useState(!1),[C,y]=x.useState(!1);x.useEffect(()=>{const w=document.querySelector(".entry-list");!w||!Sn()||(s?w.style.visibility="hidden":w.style.visibility="visible")},[s]),x.useEffect(()=>{C&&!f&&(k(e),y(!1))},[f,C]);const S=w=>{s&&(u(null),w.current&&(w.current.setAttribute("tabIndex","-1"),w.current.focus()),n.current&&n.current.scrollTo(0,0))},j=()=>{const w=a.findIndex(M=>M.id===(s==null?void 0:s.id));if(w>0){const M=a[w-1];t(M),xa(".card-custom-selected-style","end")}},k=w=>{if(f)return;const M=a.findIndex(B=>B.id===(s==null?void 0:s.id));if(M===a.length-1&&(o==="all"&&c||l)){v(!0),d(w,r).then(()=>y(!0)).finally(()=>v(!1));return}if(M===-1){const B=document.querySelector(".entry-list");B&&B.scrollTo(0,0)}if(M<a.length-1){const B=a[M+1];t(B),y(!1),xa(".card-custom-selected-style")}};return{handleEscapeKey:S,handleLeftKey:j,handleRightKey:k,handleBKey:()=>{s&&window.open(s.url,"_blank")},handleDKey:w=>{s&&w()},handleMKey:w=>{s&&w()},handleSKey:w=>{s&&w()}}},gc=({info:e,handleEntryClick:t,getEntries:r})=>{const n=g(f=>f.activeContent),{handleFetchContent:a,handleToggleStarred:o,handleToggleStatus:l}=Dn(),{handleLeftKey:c,handleRightKey:s}=zn(e,t,r);if(!n)return null;const u=n.status==="unread",d=n.starred;return i.jsx("div",{className:"action-buttons",children:i.jsxs(Kr,{size:0,direction:"vertical",children:[i.jsx(Ue,{mini:!0,position:"left",content:u?"Mark as read":"Mark as unread",children:i.jsx(ae,{className:"button-read-unread",onClick:l,size:"mini",type:"primary",icon:u?i.jsx(Wa,{}):i.jsx(Ga,{})})}),i.jsx(Ue,{mini:!0,position:"left",content:d?"Unstar":"Star",children:i.jsx(ae,{className:"button-star",onClick:o,size:"mini",type:"primary",icon:d?i.jsx(Jr,{style:{color:"#ffcd00"}}):i.jsx(An,{})})}),i.jsx(Ue,{mini:!0,position:"left",content:"Fetch original article",children:i.jsx(ae,{className:"button-action",icon:i.jsx(qa,{}),onClick:a,size:"mini",type:"primary"})}),i.jsx(Ue,{mini:!0,position:"left",content:"Previous article",children:i.jsx(ae,{className:"button-action",icon:i.jsx(Xa,{}),onClick:c,size:"mini",type:"primary"})}),i.jsx(Ue,{mini:!0,position:"left",content:"Next article",children:i.jsx(ae,{className:"button-next",icon:i.jsx(Ya,{}),onClick:s,size:"mini",type:"primary"})})]})})},yc=({info:e,handleEntryClick:t,getEntries:r})=>{const n=g(v=>v.activeContent),{handleFetchContent:a,handleToggleStarred:o,handleToggleStatus:l}=Dn(),{handleLeftKey:c,handleRightKey:s,handleEscapeKey:u}=zn(e,t,r);if(!n)return null;const d=n.status==="unread",f=n.starred;return i.jsxs(ae.Group,{className:"action-buttons-mobile",children:[i.jsx(ae,{icon:i.jsx($o,{}),onClick:u,shape:"round",type:"primary"}),i.jsx(ae,{icon:d?i.jsx(Wa,{}):i.jsx(Ga,{}),onClick:l,type:"primary"}),i.jsx(ae,{onClick:o,type:"primary",icon:f?i.jsx(Jr,{style:{color:"#ffcd00"}}):i.jsx(An,{})}),i.jsx(ae,{icon:i.jsx(qa,{}),onClick:a,type:"primary"}),i.jsx(ae,{icon:i.jsx(Xa,{}),onClick:c,type:"primary"}),i.jsx(ae,{icon:i.jsx(Ya,{}),onClick:s,shape:"round",type:"primary"})]})};var ki={},Un={},Bn={};Object.defineProperty(Bn,"__esModule",{value:!0});var ba="html",wa="head",Ar="body",xc=/<([a-zA-Z]+[0-9]?)/,Ca=/<head[^]*>/i,Sa=/<body[^]*>/i,Xr=function(e,t){throw new Error("This browser does not support `document.implementation.createHTMLDocument`")},En=function(e,t){throw new Error("This browser does not support `DOMParser.prototype.parseFromString`")},Ea=typeof window=="object"&&window.DOMParser;if(typeof Ea=="function"){var bc=new Ea,wc="text/html";En=function(e,t){return t&&(e="<".concat(t,">").concat(e,"</").concat(t,">")),bc.parseFromString(e,wc)},Xr=En}if(typeof document=="object"&&document.implementation){var Pr=document.implementation.createHTMLDocument();Xr=function(e,t){if(t){var r=Pr.documentElement.querySelector(t);return r&&(r.innerHTML=e),Pr}return Pr.documentElement.innerHTML=e,Pr}}var Nr=typeof document=="object"&&document.createElement("template"),jn;Nr&&Nr.content&&(jn=function(e){return Nr.innerHTML=e,Nr.content.childNodes});function Cc(e){var t,r,n=e.match(xc),a=n&&n[1]?n[1].toLowerCase():"";switch(a){case ba:{var o=En(e);if(!Ca.test(e)){var l=o.querySelector(wa);(t=l==null?void 0:l.parentNode)===null||t===void 0||t.removeChild(l)}if(!Sa.test(e)){var l=o.querySelector(Ar);(r=l==null?void 0:l.parentNode)===null||r===void 0||r.removeChild(l)}return o.querySelectorAll(ba)}case wa:case Ar:{var c=Xr(e).querySelectorAll(a);return Sa.test(e)&&Ca.test(e)?c[0].parentNode.childNodes:c}default:{if(jn)return jn(e);var l=Xr(e,Ar).querySelector(Ar);return l.childNodes}}}Bn.default=Cc;var or={},_i={},Tr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Doctype=e.CDATA=e.Tag=e.Style=e.Script=e.Comment=e.Directive=e.Text=e.Root=e.isTag=e.ElementType=void 0;var t;(function(n){n.Root="root",n.Text="text",n.Directive="directive",n.Comment="comment",n.Script="script",n.Style="style",n.Tag="tag",n.CDATA="cdata",n.Doctype="doctype"})(t=e.ElementType||(e.ElementType={}));function r(n){return n.type===t.Tag||n.type===t.Script||n.type===t.Style}e.isTag=r,e.Root=t.Root,e.Text=t.Text,e.Directive=t.Directive,e.Comment=t.Comment,e.Script=t.Script,e.Style=t.Style,e.Tag=t.Tag,e.CDATA=t.CDATA,e.Doctype=t.Doctype})(Tr);var Y={},It=ne&&ne.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),yr=ne&&ne.__assign||function(){return yr=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},yr.apply(this,arguments)};Object.defineProperty(Y,"__esModule",{value:!0});Y.cloneNode=Y.hasChildren=Y.isDocument=Y.isDirective=Y.isComment=Y.isText=Y.isCDATA=Y.isTag=Y.Element=Y.Document=Y.CDATA=Y.NodeWithChildren=Y.ProcessingInstruction=Y.Comment=Y.Text=Y.DataNode=Y.Node=void 0;var $e=Tr,$n=function(){function e(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent},set:function(t){this.parent=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return this.prev},set:function(t){this.prev=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return this.next},set:function(t){this.next=t},enumerable:!1,configurable:!0}),e.prototype.cloneNode=function(t){return t===void 0&&(t=!1),Vn(this,t)},e}();Y.Node=$n;var en=function(e){It(t,e);function t(r){var n=e.call(this)||this;return n.data=r,n}return Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.data},set:function(r){this.data=r},enumerable:!1,configurable:!0}),t}($n);Y.DataNode=en;var Mi=function(e){It(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=$e.ElementType.Text,r}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),t}(en);Y.Text=Mi;var Fi=function(e){It(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=$e.ElementType.Comment,r}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),t}(en);Y.Comment=Fi;var Ii=function(e){It(t,e);function t(r,n){var a=e.call(this,n)||this;return a.name=r,a.type=$e.ElementType.Directive,a}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),t}(en);Y.ProcessingInstruction=Ii;var tn=function(e){It(t,e);function t(r){var n=e.call(this)||this;return n.children=r,n}return Object.defineProperty(t.prototype,"firstChild",{get:function(){var r;return(r=this.children[0])!==null&&r!==void 0?r:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.children},set:function(r){this.children=r},enumerable:!1,configurable:!0}),t}($n);Y.NodeWithChildren=tn;var Ai=function(e){It(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=$e.ElementType.CDATA,r}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),t}(tn);Y.CDATA=Ai;var Pi=function(e){It(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=$e.ElementType.Root,r}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),t}(tn);Y.Document=Pi;var Ni=function(e){It(t,e);function t(r,n,a,o){a===void 0&&(a=[]),o===void 0&&(o=r==="script"?$e.ElementType.Script:r==="style"?$e.ElementType.Style:$e.ElementType.Tag);var l=e.call(this,a)||this;return l.name=r,l.attribs=n,l.type=o,l}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tagName",{get:function(){return this.name},set:function(r){this.name=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){var r=this;return Object.keys(this.attribs).map(function(n){var a,o;return{name:n,value:r.attribs[n],namespace:(a=r["x-attribsNamespace"])===null||a===void 0?void 0:a[n],prefix:(o=r["x-attribsPrefix"])===null||o===void 0?void 0:o[n]}})},enumerable:!1,configurable:!0}),t}(tn);Y.Element=Ni;function Oi(e){return(0,$e.isTag)(e)}Y.isTag=Oi;function Ri(e){return e.type===$e.ElementType.CDATA}Y.isCDATA=Ri;function Di(e){return e.type===$e.ElementType.Text}Y.isText=Di;function Li(e){return e.type===$e.ElementType.Comment}Y.isComment=Li;function zi(e){return e.type===$e.ElementType.Directive}Y.isDirective=zi;function Ui(e){return e.type===$e.ElementType.Root}Y.isDocument=Ui;function Sc(e){return Object.prototype.hasOwnProperty.call(e,"children")}Y.hasChildren=Sc;function Vn(e,t){t===void 0&&(t=!1);var r;if(Di(e))r=new Mi(e.data);else if(Li(e))r=new Fi(e.data);else if(Oi(e)){var n=t?pn(e.children):[],a=new Ni(e.name,yr({},e.attribs),n);n.forEach(function(s){return s.parent=a}),e.namespace!=null&&(a.namespace=e.namespace),e["x-attribsNamespace"]&&(a["x-attribsNamespace"]=yr({},e["x-attribsNamespace"])),e["x-attribsPrefix"]&&(a["x-attribsPrefix"]=yr({},e["x-attribsPrefix"])),r=a}else if(Ri(e)){var n=t?pn(e.children):[],o=new Ai(n);n.forEach(function(u){return u.parent=o}),r=o}else if(Ui(e)){var n=t?pn(e.children):[],l=new Pi(n);n.forEach(function(u){return u.parent=l}),e["x-mode"]&&(l["x-mode"]=e["x-mode"]),r=l}else if(zi(e)){var c=new Ii(e.name,e.data);e["x-name"]!=null&&(c["x-name"]=e["x-name"],c["x-publicId"]=e["x-publicId"],c["x-systemId"]=e["x-systemId"]),r=c}else throw new Error("Not implemented yet: ".concat(e.type));return r.startIndex=e.startIndex,r.endIndex=e.endIndex,e.sourceCodeLocation!=null&&(r.sourceCodeLocation=e.sourceCodeLocation),r}Y.cloneNode=Vn;function pn(e){for(var t=e.map(function(n){return Vn(n,!0)}),r=1;r<t.length;r++)t[r].prev=t[r-1],t[r-1].next=t[r];return t}(function(e){var t=ne&&ne.__createBinding||(Object.create?function(c,s,u,d){d===void 0&&(d=u);var f=Object.getOwnPropertyDescriptor(s,u);(!f||("get"in f?!s.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return s[u]}}),Object.defineProperty(c,d,f)}:function(c,s,u,d){d===void 0&&(d=u),c[d]=s[u]}),r=ne&&ne.__exportStar||function(c,s){for(var u in c)u!=="default"&&!Object.prototype.hasOwnProperty.call(s,u)&&t(s,c,u)};Object.defineProperty(e,"__esModule",{value:!0}),e.DomHandler=void 0;var n=Tr,a=Y;r(Y,e);var o={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},l=function(){function c(s,u,d){this.dom=[],this.root=new a.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof u=="function"&&(d=u,u=o),typeof s=="object"&&(u=s,s=void 0),this.callback=s??null,this.options=u??o,this.elementCB=d??null}return c.prototype.onparserinit=function(s){this.parser=s},c.prototype.onreset=function(){this.dom=[],this.root=new a.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},c.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},c.prototype.onerror=function(s){this.handleCallback(s)},c.prototype.onclosetag=function(){this.lastNode=null;var s=this.tagStack.pop();this.options.withEndIndices&&(s.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(s)},c.prototype.onopentag=function(s,u){var d=this.options.xmlMode?n.ElementType.Tag:void 0,f=new a.Element(s,u,void 0,d);this.addNode(f),this.tagStack.push(f)},c.prototype.ontext=function(s){var u=this.lastNode;if(u&&u.type===n.ElementType.Text)u.data+=s,this.options.withEndIndices&&(u.endIndex=this.parser.endIndex);else{var d=new a.Text(s);this.addNode(d),this.lastNode=d}},c.prototype.oncomment=function(s){if(this.lastNode&&this.lastNode.type===n.ElementType.Comment){this.lastNode.data+=s;return}var u=new a.Comment(s);this.addNode(u),this.lastNode=u},c.prototype.oncommentend=function(){this.lastNode=null},c.prototype.oncdatastart=function(){var s=new a.Text(""),u=new a.CDATA([s]);this.addNode(u),s.parent=u,this.lastNode=s},c.prototype.oncdataend=function(){this.lastNode=null},c.prototype.onprocessinginstruction=function(s,u){var d=new a.ProcessingInstruction(s,u);this.addNode(d)},c.prototype.handleCallback=function(s){if(typeof this.callback=="function")this.callback(s,this.dom);else if(s)throw s},c.prototype.addNode=function(s){var u=this.tagStack[this.tagStack.length-1],d=u.children[u.children.length-1];this.options.withStartIndices&&(s.startIndex=this.parser.startIndex),this.options.withEndIndices&&(s.endIndex=this.parser.endIndex),u.children.push(s),d&&(s.prev=d,d.next=s),s.parent=u,this.lastNode=null},c}();e.DomHandler=l,e.default=l})(_i);var Bi={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CASE_SENSITIVE_TAG_NAMES_MAP=e.CASE_SENSITIVE_TAG_NAMES=void 0,e.CASE_SENSITIVE_TAG_NAMES=["animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","linearGradient","radialGradient","textPath"],e.CASE_SENSITIVE_TAG_NAMES_MAP=e.CASE_SENSITIVE_TAG_NAMES.reduce(function(t,r){return t[r.toLowerCase()]=r,t},{})})(Bi);Object.defineProperty(or,"__esModule",{value:!0});or.formatDOM=or.formatAttributes=void 0;var Or=_i,Ec=Bi;function jc(e){return Ec.CASE_SENSITIVE_TAG_NAMES_MAP[e]}function $i(e){for(var t={},r=0,n=e.length;r<n;r++){var a=e[r];t[a.name]=a.value}return t}or.formatAttributes=$i;function Tc(e){e=e.toLowerCase();var t=jc(e);return t||e}function Vi(e,t,r){t===void 0&&(t=null);for(var n=[],a,o=0,l=e.length;o<l;o++){var c=e[o];switch(c.nodeType){case 1:{var s=Tc(c.nodeName);a=new Or.Element(s,$i(c.attributes)),a.children=Vi(s==="template"?c.content.childNodes:c.childNodes,a);break}case 3:a=new Or.Text(c.nodeValue);break;case 8:a=new Or.Comment(c.nodeValue);break;default:continue}var u=n[o-1]||null;u&&(u.next=a),a.parent=t,a.prev=u,a.next=null,n.push(a)}return r&&(a=new Or.ProcessingInstruction(r.substring(0,r.indexOf(" ")).toLowerCase(),r),a.next=n[0]||null,a.parent=t,n.unshift(a),n[1]&&(n[1].prev=n[0])),n}or.formatDOM=Vi;var kc=ne&&ne.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Un,"__esModule",{value:!0});var _c=kc(Bn),Mc=or,Fc=/<(![a-zA-Z\s]+)>/;function Ic(e){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];var t=e.match(Fc),r=t?t[1]:void 0;return(0,Mc.formatDOM)((0,_c.default)(e),null,r)}Un.default=Ic;var rn={},nt={},nn={},Ac=0;nn.SAME=Ac;var Pc=1;nn.CAMELCASE=Pc;nn.possibleStandardNames={accept:0,acceptCharset:1,"accept-charset":"acceptCharset",accessKey:1,action:0,allowFullScreen:1,alt:0,as:0,async:0,autoCapitalize:1,autoComplete:1,autoCorrect:1,autoFocus:1,autoPlay:1,autoSave:1,capture:0,cellPadding:1,cellSpacing:1,challenge:0,charSet:1,checked:0,children:0,cite:0,class:"className",classID:1,className:1,cols:0,colSpan:1,content:0,contentEditable:1,contextMenu:1,controls:0,controlsList:1,coords:0,crossOrigin:1,dangerouslySetInnerHTML:1,data:0,dateTime:1,default:0,defaultChecked:1,defaultValue:1,defer:0,dir:0,disabled:0,disablePictureInPicture:1,disableRemotePlayback:1,download:0,draggable:0,encType:1,enterKeyHint:1,for:"htmlFor",form:0,formMethod:1,formAction:1,formEncType:1,formNoValidate:1,formTarget:1,frameBorder:1,headers:0,height:0,hidden:0,high:0,href:0,hrefLang:1,htmlFor:1,httpEquiv:1,"http-equiv":"httpEquiv",icon:0,id:0,innerHTML:1,inputMode:1,integrity:0,is:0,itemID:1,itemProp:1,itemRef:1,itemScope:1,itemType:1,keyParams:1,keyType:1,kind:0,label:0,lang:0,list:0,loop:0,low:0,manifest:0,marginWidth:1,marginHeight:1,max:0,maxLength:1,media:0,mediaGroup:1,method:0,min:0,minLength:1,multiple:0,muted:0,name:0,noModule:1,nonce:0,noValidate:1,open:0,optimum:0,pattern:0,placeholder:0,playsInline:1,poster:0,preload:0,profile:0,radioGroup:1,readOnly:1,referrerPolicy:1,rel:0,required:0,reversed:0,role:0,rows:0,rowSpan:1,sandbox:0,scope:0,scoped:0,scrolling:0,seamless:0,selected:0,shape:0,size:0,sizes:0,span:0,spellCheck:1,src:0,srcDoc:1,srcLang:1,srcSet:1,start:0,step:0,style:0,summary:0,tabIndex:1,target:0,title:0,type:0,useMap:1,value:0,width:0,wmode:0,wrap:0,about:0,accentHeight:1,"accent-height":"accentHeight",accumulate:0,additive:0,alignmentBaseline:1,"alignment-baseline":"alignmentBaseline",allowReorder:1,alphabetic:0,amplitude:0,arabicForm:1,"arabic-form":"arabicForm",ascent:0,attributeName:1,attributeType:1,autoReverse:1,azimuth:0,baseFrequency:1,baselineShift:1,"baseline-shift":"baselineShift",baseProfile:1,bbox:0,begin:0,bias:0,by:0,calcMode:1,capHeight:1,"cap-height":"capHeight",clip:0,clipPath:1,"clip-path":"clipPath",clipPathUnits:1,clipRule:1,"clip-rule":"clipRule",color:0,colorInterpolation:1,"color-interpolation":"colorInterpolation",colorInterpolationFilters:1,"color-interpolation-filters":"colorInterpolationFilters",colorProfile:1,"color-profile":"colorProfile",colorRendering:1,"color-rendering":"colorRendering",contentScriptType:1,contentStyleType:1,cursor:0,cx:0,cy:0,d:0,datatype:0,decelerate:0,descent:0,diffuseConstant:1,direction:0,display:0,divisor:0,dominantBaseline:1,"dominant-baseline":"dominantBaseline",dur:0,dx:0,dy:0,edgeMode:1,elevation:0,enableBackground:1,"enable-background":"enableBackground",end:0,exponent:0,externalResourcesRequired:1,fill:0,fillOpacity:1,"fill-opacity":"fillOpacity",fillRule:1,"fill-rule":"fillRule",filter:0,filterRes:1,filterUnits:1,floodOpacity:1,"flood-opacity":"floodOpacity",floodColor:1,"flood-color":"floodColor",focusable:0,fontFamily:1,"font-family":"fontFamily",fontSize:1,"font-size":"fontSize",fontSizeAdjust:1,"font-size-adjust":"fontSizeAdjust",fontStretch:1,"font-stretch":"fontStretch",fontStyle:1,"font-style":"fontStyle",fontVariant:1,"font-variant":"fontVariant",fontWeight:1,"font-weight":"fontWeight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:1,"glyph-name":"glyphName",glyphOrientationHorizontal:1,"glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphOrientationVertical:1,"glyph-orientation-vertical":"glyphOrientationVertical",glyphRef:1,gradientTransform:1,gradientUnits:1,hanging:0,horizAdvX:1,"horiz-adv-x":"horizAdvX",horizOriginX:1,"horiz-origin-x":"horizOriginX",ideographic:0,imageRendering:1,"image-rendering":"imageRendering",in2:0,in:0,inlist:0,intercept:0,k1:0,k2:0,k3:0,k4:0,k:0,kernelMatrix:1,kernelUnitLength:1,kerning:0,keyPoints:1,keySplines:1,keyTimes:1,lengthAdjust:1,letterSpacing:1,"letter-spacing":"letterSpacing",lightingColor:1,"lighting-color":"lightingColor",limitingConeAngle:1,local:0,markerEnd:1,"marker-end":"markerEnd",markerHeight:1,markerMid:1,"marker-mid":"markerMid",markerStart:1,"marker-start":"markerStart",markerUnits:1,markerWidth:1,mask:0,maskContentUnits:1,maskUnits:1,mathematical:0,mode:0,numOctaves:1,offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:1,"overline-position":"overlinePosition",overlineThickness:1,"overline-thickness":"overlineThickness",paintOrder:1,"paint-order":"paintOrder",panose1:0,"panose-1":"panose1",pathLength:1,patternContentUnits:1,patternTransform:1,patternUnits:1,pointerEvents:1,"pointer-events":"pointerEvents",points:0,pointsAtX:1,pointsAtY:1,pointsAtZ:1,prefix:0,preserveAlpha:1,preserveAspectRatio:1,primitiveUnits:1,property:0,r:0,radius:0,refX:1,refY:1,renderingIntent:1,"rendering-intent":"renderingIntent",repeatCount:1,repeatDur:1,requiredExtensions:1,requiredFeatures:1,resource:0,restart:0,result:0,results:0,rotate:0,rx:0,ry:0,scale:0,security:0,seed:0,shapeRendering:1,"shape-rendering":"shapeRendering",slope:0,spacing:0,specularConstant:1,specularExponent:1,speed:0,spreadMethod:1,startOffset:1,stdDeviation:1,stemh:0,stemv:0,stitchTiles:1,stopColor:1,"stop-color":"stopColor",stopOpacity:1,"stop-opacity":"stopOpacity",strikethroughPosition:1,"strikethrough-position":"strikethroughPosition",strikethroughThickness:1,"strikethrough-thickness":"strikethroughThickness",string:0,stroke:0,strokeDasharray:1,"stroke-dasharray":"strokeDasharray",strokeDashoffset:1,"stroke-dashoffset":"strokeDashoffset",strokeLinecap:1,"stroke-linecap":"strokeLinecap",strokeLinejoin:1,"stroke-linejoin":"strokeLinejoin",strokeMiterlimit:1,"stroke-miterlimit":"strokeMiterlimit",strokeWidth:1,"stroke-width":"strokeWidth",strokeOpacity:1,"stroke-opacity":"strokeOpacity",suppressContentEditableWarning:1,suppressHydrationWarning:1,surfaceScale:1,systemLanguage:1,tableValues:1,targetX:1,targetY:1,textAnchor:1,"text-anchor":"textAnchor",textDecoration:1,"text-decoration":"textDecoration",textLength:1,textRendering:1,"text-rendering":"textRendering",to:0,transform:0,typeof:0,u1:0,u2:0,underlinePosition:1,"underline-position":"underlinePosition",underlineThickness:1,"underline-thickness":"underlineThickness",unicode:0,unicodeBidi:1,"unicode-bidi":"unicodeBidi",unicodeRange:1,"unicode-range":"unicodeRange",unitsPerEm:1,"units-per-em":"unitsPerEm",unselectable:0,vAlphabetic:1,"v-alphabetic":"vAlphabetic",values:0,vectorEffect:1,"vector-effect":"vectorEffect",version:0,vertAdvY:1,"vert-adv-y":"vertAdvY",vertOriginX:1,"vert-origin-x":"vertOriginX",vertOriginY:1,"vert-origin-y":"vertOriginY",vHanging:1,"v-hanging":"vHanging",vIdeographic:1,"v-ideographic":"vIdeographic",viewBox:1,viewTarget:1,visibility:0,vMathematical:1,"v-mathematical":"vMathematical",vocab:0,widths:0,wordSpacing:1,"word-spacing":"wordSpacing",writingMode:1,"writing-mode":"writingMode",x1:0,x2:0,x:0,xChannelSelector:1,xHeight:1,"x-height":"xHeight",xlinkActuate:1,"xlink:actuate":"xlinkActuate",xlinkArcrole:1,"xlink:arcrole":"xlinkArcrole",xlinkHref:1,"xlink:href":"xlinkHref",xlinkRole:1,"xlink:role":"xlinkRole",xlinkShow:1,"xlink:show":"xlinkShow",xlinkTitle:1,"xlink:title":"xlinkTitle",xlinkType:1,"xlink:type":"xlinkType",xmlBase:1,"xml:base":"xmlBase",xmlLang:1,"xml:lang":"xmlLang",xmlns:0,"xml:space":"xmlSpace",xmlnsXlink:1,"xmlns:xlink":"xmlnsXlink",xmlSpace:1,y1:0,y2:0,y:0,yChannelSelector:1,z:0,zoomAndPan:1};const Hi=0,At=1,an=2,on=3,Hn=4,Wi=5,Gi=6;function Nc(e){return _e.hasOwnProperty(e)?_e[e]:null}function Re(e,t,r,n,a,o,l){this.acceptsBooleans=t===an||t===on||t===Hn,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=l}const _e={},Oc=["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"];Oc.forEach(e=>{_e[e]=new Re(e,Hi,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(([e,t])=>{_e[e]=new Re(e,At,!1,t,null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(e=>{_e[e]=new Re(e,an,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(e=>{_e[e]=new Re(e,an,!1,e,null,!1,!1)});["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach(e=>{_e[e]=new Re(e,on,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(e=>{_e[e]=new Re(e,on,!0,e,null,!1,!1)});["capture","download"].forEach(e=>{_e[e]=new Re(e,Hn,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(e=>{_e[e]=new Re(e,Gi,!1,e,null,!1,!1)});["rowSpan","start"].forEach(e=>{_e[e]=new Re(e,Wi,!1,e.toLowerCase(),null,!1,!1)});const Wn=/[\-\:]([a-z])/g,Gn=e=>e[1].toUpperCase();["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach(e=>{const t=e.replace(Wn,Gn);_e[t]=new Re(t,At,!1,e,null,!1,!1)});["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach(e=>{const t=e.replace(Wn,Gn);_e[t]=new Re(t,At,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(e=>{const t=e.replace(Wn,Gn);_e[t]=new Re(t,At,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(e=>{_e[e]=new Re(e,At,!1,e.toLowerCase(),null,!1,!1)});const Rc="xlinkHref";_e[Rc]=new Re("xlinkHref",At,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(e=>{_e[e]=new Re(e,At,!1,e.toLowerCase(),null,!0,!0)});const{CAMELCASE:Dc,SAME:Lc,possibleStandardNames:ja}=nn,zc=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",Uc=zc+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",Bc=RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+Uc+"]*$")),$c=Object.keys(ja).reduce((e,t)=>{const r=ja[t];return r===Lc?e[t]=t:r===Dc?e[t.toLowerCase()]=t:e[t]=r,e},{});nt.BOOLEAN=on;nt.BOOLEANISH_STRING=an;nt.NUMERIC=Wi;nt.OVERLOADED_BOOLEAN=Hn;nt.POSITIVE_NUMERIC=Gi;nt.RESERVED=Hi;nt.STRING=At;nt.getPropertyInfo=Nc;nt.isCustomAttribute=Bc;nt.possibleStandardNames=$c;var qn={},Xn={},Ta=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,Vc=/\n/g,Hc=/^\s*/,Wc=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,Gc=/^:\s*/,qc=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,Xc=/^[;\s]*/,Yc=/^\s+|\s+$/g,Kc=`
`,ka="/",_a="*",Bt="",Zc="comment",Jc="declaration",Qc=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var r=1,n=1;function a(y){var S=y.match(Vc);S&&(r+=S.length);var j=y.lastIndexOf(Kc);n=~j?y.length-j:n+y.length}function o(){var y={line:r,column:n};return function(S){return S.position=new l(y),u(),S}}function l(y){this.start=y,this.end={line:r,column:n},this.source=t.source}l.prototype.content=e;function c(y){var S=new Error(t.source+":"+r+":"+n+": "+y);if(S.reason=y,S.filename=t.source,S.line=r,S.column=n,S.source=e,!t.silent)throw S}function s(y){var S=y.exec(e);if(S){var j=S[0];return a(j),e=e.slice(j.length),S}}function u(){s(Hc)}function d(y){var S;for(y=y||[];S=f();)S!==!1&&y.push(S);return y}function f(){var y=o();if(!(ka!=e.charAt(0)||_a!=e.charAt(1))){for(var S=2;Bt!=e.charAt(S)&&(_a!=e.charAt(S)||ka!=e.charAt(S+1));)++S;if(S+=2,Bt===e.charAt(S-1))return c("End of comment missing");var j=e.slice(2,S-2);return n+=2,a(j),e=e.slice(S),n+=2,y({type:Zc,comment:j})}}function v(){var y=o(),S=s(Wc);if(S){if(f(),!s(Gc))return c("property missing ':'");var j=s(qc),k=y({type:Jc,property:Ma(S[0].replace(Ta,Bt)),value:j?Ma(j[0].replace(Ta,Bt)):Bt});return s(Xc),k}}function C(){var y=[];d(y);for(var S;S=v();)S!==!1&&(y.push(S),d(y));return y}return u(),C()};function Ma(e){return e?e.replace(Yc,Bt):Bt}var eu=ne&&ne.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Xn,"__esModule",{value:!0});var tu=eu(Qc);function ru(e,t){var r=null;if(!e||typeof e!="string")return r;var n=(0,tu.default)(e),a=typeof t=="function";return n.forEach(function(o){if(o.type==="declaration"){var l=o.property,c=o.value;a?t(l,c,o):c&&(r=r||{},r[l]=c)}}),r}Xn.default=ru;var sn={};Object.defineProperty(sn,"__esModule",{value:!0});sn.camelCase=void 0;var nu=/^--[a-zA-Z0-9-]+$/,au=/-([a-z])/g,iu=/^[^-]+$/,ou=/^-(webkit|moz|ms|o|khtml)-/,su=/^-(ms)-/,lu=function(e){return!e||iu.test(e)||nu.test(e)},cu=function(e,t){return t.toUpperCase()},Fa=function(e,t){return"".concat(t,"-")},uu=function(e,t){return t===void 0&&(t={}),lu(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(su,Fa):e=e.replace(ou,Fa),e.replace(au,cu))};sn.camelCase=uu;var du=ne&&ne.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},hu=du(Xn),fu=sn;function Tn(e,t){var r={};return!e||typeof e!="string"||(0,hu.default)(e,function(n,a){n&&a&&(r[(0,fu.camelCase)(n,t)]=a)}),r}Tn.default=Tn;var pu=Tn;(function(e){var t=ne&&ne.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0}),e.returnFirstArg=e.canTextBeChildOfNode=e.ELEMENTS_WITH_NO_TEXT_CHILDREN=e.PRESERVE_CUSTOM_ATTRIBUTES=e.setStyleProp=e.isCustomComponent=void 0;var r=x,n=t(pu),a=new Set(["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"]);function o(d,f){return d.includes("-")?!a.has(d):!!(f&&typeof f.is=="string")}e.isCustomComponent=o;var l={reactCompat:!0};function c(d,f){if(typeof d=="string"){if(!d.trim()){f.style={};return}try{f.style=(0,n.default)(d,l)}catch{f.style={}}}}e.setStyleProp=c,e.PRESERVE_CUSTOM_ATTRIBUTES=Number(r.version.split(".")[0])>=16,e.ELEMENTS_WITH_NO_TEXT_CHILDREN=new Set(["tr","tbody","thead","tfoot","colgroup","table","head","html","frameset"]);var s=function(d){return!e.ELEMENTS_WITH_NO_TEXT_CHILDREN.has(d.name)};e.canTextBeChildOfNode=s;var u=function(d){return d};e.returnFirstArg=u})(qn);Object.defineProperty(rn,"__esModule",{value:!0});var mr=nt,Ia=qn,mu=["checked","value"],vu=["input","select","textarea"],gu={reset:!0,submit:!0};function yu(e,t){e===void 0&&(e={});var r={},n=!!(e.type&&gu[e.type]);for(var a in e){var o=e[a];if((0,mr.isCustomAttribute)(a)){r[a]=o;continue}var l=a.toLowerCase(),c=Aa(l);if(c){var s=(0,mr.getPropertyInfo)(c);switch(mu.includes(c)&&vu.includes(t)&&!n&&(c=Aa("default"+l)),r[c]=o,s&&s.type){case mr.BOOLEAN:r[c]=!0;break;case mr.OVERLOADED_BOOLEAN:o===""&&(r[c]=!0);break}continue}Ia.PRESERVE_CUSTOM_ATTRIBUTES&&(r[a]=o)}return(0,Ia.setStyleProp)(e.style,r),r}rn.default=yu;function Aa(e){return mr.possibleStandardNames[e]}var Yn={},xu=ne&&ne.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Yn,"__esModule",{value:!0});var mn=x,bu=xu(rn),xr=qn,wu={cloneElement:mn.cloneElement,createElement:mn.createElement,isValidElement:mn.isValidElement};function qi(e,t){t===void 0&&(t={});for(var r=[],n=typeof t.replace=="function",a=t.transform||xr.returnFirstArg,o=t.library||wu,l=o.cloneElement,c=o.createElement,s=o.isValidElement,u=e.length,d=0;d<u;d++){var f=e[d];if(n){var v=t.replace(f,d);if(s(v)){u>1&&(v=l(v,{key:v.key||d})),r.push(a(v,f,d));continue}}if(f.type==="text"){var C=!f.data.trim().length;if(C&&f.parent&&!(0,xr.canTextBeChildOfNode)(f.parent)||t.trim&&C)continue;r.push(a(f.data,f,d));continue}var y=f,S={};Cu(y)?((0,xr.setStyleProp)(y.attribs.style,y.attribs),S=y.attribs):y.attribs&&(S=(0,bu.default)(y.attribs,y.name));var j=void 0;switch(f.type){case"script":case"style":f.children[0]&&(S.dangerouslySetInnerHTML={__html:f.children[0].data});break;case"tag":f.name==="textarea"&&f.children[0]?S.defaultValue=f.children[0].data:f.children&&f.children.length&&(j=qi(f.children,t));break;default:continue}u>1&&(S.key=d),r.push(a(c(f.name,S,j),f,d))}return r.length===1?r[0]:r}Yn.default=qi;function Cu(e){return xr.PRESERVE_CUSTOM_ATTRIBUTES&&e.type==="tag"&&(0,xr.isCustomComponent)(e.name,e.attribs)}var Xi={},K={},Pt=ne&&ne.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),br=ne&&ne.__assign||function(){return br=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},br.apply(this,arguments)};Object.defineProperty(K,"__esModule",{value:!0});K.cloneNode=K.hasChildren=K.isDocument=K.isDirective=K.isComment=K.isText=K.isCDATA=K.isTag=K.Element=K.Document=K.CDATA=K.NodeWithChildren=K.ProcessingInstruction=K.Comment=K.Text=K.DataNode=K.Node=void 0;var Ve=Tr,Kn=function(){function e(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent},set:function(t){this.parent=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return this.prev},set:function(t){this.prev=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return this.next},set:function(t){this.next=t},enumerable:!1,configurable:!0}),e.prototype.cloneNode=function(t){return t===void 0&&(t=!1),Zn(this,t)},e}();K.Node=Kn;var ln=function(e){Pt(t,e);function t(r){var n=e.call(this)||this;return n.data=r,n}return Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.data},set:function(r){this.data=r},enumerable:!1,configurable:!0}),t}(Kn);K.DataNode=ln;var Yi=function(e){Pt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=Ve.ElementType.Text,r}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),t}(ln);K.Text=Yi;var Ki=function(e){Pt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=Ve.ElementType.Comment,r}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),t}(ln);K.Comment=Ki;var Zi=function(e){Pt(t,e);function t(r,n){var a=e.call(this,n)||this;return a.name=r,a.type=Ve.ElementType.Directive,a}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),t}(ln);K.ProcessingInstruction=Zi;var cn=function(e){Pt(t,e);function t(r){var n=e.call(this)||this;return n.children=r,n}return Object.defineProperty(t.prototype,"firstChild",{get:function(){var r;return(r=this.children[0])!==null&&r!==void 0?r:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.children},set:function(r){this.children=r},enumerable:!1,configurable:!0}),t}(Kn);K.NodeWithChildren=cn;var Ji=function(e){Pt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=Ve.ElementType.CDATA,r}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),t}(cn);K.CDATA=Ji;var Qi=function(e){Pt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=Ve.ElementType.Root,r}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),t}(cn);K.Document=Qi;var eo=function(e){Pt(t,e);function t(r,n,a,o){a===void 0&&(a=[]),o===void 0&&(o=r==="script"?Ve.ElementType.Script:r==="style"?Ve.ElementType.Style:Ve.ElementType.Tag);var l=e.call(this,a)||this;return l.name=r,l.attribs=n,l.type=o,l}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tagName",{get:function(){return this.name},set:function(r){this.name=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){var r=this;return Object.keys(this.attribs).map(function(n){var a,o;return{name:n,value:r.attribs[n],namespace:(a=r["x-attribsNamespace"])===null||a===void 0?void 0:a[n],prefix:(o=r["x-attribsPrefix"])===null||o===void 0?void 0:o[n]}})},enumerable:!1,configurable:!0}),t}(cn);K.Element=eo;function to(e){return(0,Ve.isTag)(e)}K.isTag=to;function ro(e){return e.type===Ve.ElementType.CDATA}K.isCDATA=ro;function no(e){return e.type===Ve.ElementType.Text}K.isText=no;function ao(e){return e.type===Ve.ElementType.Comment}K.isComment=ao;function io(e){return e.type===Ve.ElementType.Directive}K.isDirective=io;function oo(e){return e.type===Ve.ElementType.Root}K.isDocument=oo;function Su(e){return Object.prototype.hasOwnProperty.call(e,"children")}K.hasChildren=Su;function Zn(e,t){t===void 0&&(t=!1);var r;if(no(e))r=new Yi(e.data);else if(ao(e))r=new Ki(e.data);else if(to(e)){var n=t?vn(e.children):[],a=new eo(e.name,br({},e.attribs),n);n.forEach(function(s){return s.parent=a}),e.namespace!=null&&(a.namespace=e.namespace),e["x-attribsNamespace"]&&(a["x-attribsNamespace"]=br({},e["x-attribsNamespace"])),e["x-attribsPrefix"]&&(a["x-attribsPrefix"]=br({},e["x-attribsPrefix"])),r=a}else if(ro(e)){var n=t?vn(e.children):[],o=new Ji(n);n.forEach(function(u){return u.parent=o}),r=o}else if(oo(e)){var n=t?vn(e.children):[],l=new Qi(n);n.forEach(function(u){return u.parent=l}),e["x-mode"]&&(l["x-mode"]=e["x-mode"]),r=l}else if(io(e)){var c=new Zi(e.name,e.data);e["x-name"]!=null&&(c["x-name"]=e["x-name"],c["x-publicId"]=e["x-publicId"],c["x-systemId"]=e["x-systemId"]),r=c}else throw new Error("Not implemented yet: ".concat(e.type));return r.startIndex=e.startIndex,r.endIndex=e.endIndex,e.sourceCodeLocation!=null&&(r.sourceCodeLocation=e.sourceCodeLocation),r}K.cloneNode=Zn;function vn(e){for(var t=e.map(function(n){return Zn(n,!0)}),r=1;r<t.length;r++)t[r].prev=t[r-1],t[r-1].next=t[r];return t}(function(e){var t=ne&&ne.__createBinding||(Object.create?function(c,s,u,d){d===void 0&&(d=u);var f=Object.getOwnPropertyDescriptor(s,u);(!f||("get"in f?!s.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return s[u]}}),Object.defineProperty(c,d,f)}:function(c,s,u,d){d===void 0&&(d=u),c[d]=s[u]}),r=ne&&ne.__exportStar||function(c,s){for(var u in c)u!=="default"&&!Object.prototype.hasOwnProperty.call(s,u)&&t(s,c,u)};Object.defineProperty(e,"__esModule",{value:!0}),e.DomHandler=void 0;var n=Tr,a=K;r(K,e);var o={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},l=function(){function c(s,u,d){this.dom=[],this.root=new a.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof u=="function"&&(d=u,u=o),typeof s=="object"&&(u=s,s=void 0),this.callback=s??null,this.options=u??o,this.elementCB=d??null}return c.prototype.onparserinit=function(s){this.parser=s},c.prototype.onreset=function(){this.dom=[],this.root=new a.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},c.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},c.prototype.onerror=function(s){this.handleCallback(s)},c.prototype.onclosetag=function(){this.lastNode=null;var s=this.tagStack.pop();this.options.withEndIndices&&(s.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(s)},c.prototype.onopentag=function(s,u){var d=this.options.xmlMode?n.ElementType.Tag:void 0,f=new a.Element(s,u,void 0,d);this.addNode(f),this.tagStack.push(f)},c.prototype.ontext=function(s){var u=this.lastNode;if(u&&u.type===n.ElementType.Text)u.data+=s,this.options.withEndIndices&&(u.endIndex=this.parser.endIndex);else{var d=new a.Text(s);this.addNode(d),this.lastNode=d}},c.prototype.oncomment=function(s){if(this.lastNode&&this.lastNode.type===n.ElementType.Comment){this.lastNode.data+=s;return}var u=new a.Comment(s);this.addNode(u),this.lastNode=u},c.prototype.oncommentend=function(){this.lastNode=null},c.prototype.oncdatastart=function(){var s=new a.Text(""),u=new a.CDATA([s]);this.addNode(u),s.parent=u,this.lastNode=s},c.prototype.oncdataend=function(){this.lastNode=null},c.prototype.onprocessinginstruction=function(s,u){var d=new a.ProcessingInstruction(s,u);this.addNode(d)},c.prototype.handleCallback=function(s){if(typeof this.callback=="function")this.callback(s,this.dom);else if(s)throw s},c.prototype.addNode=function(s){var u=this.tagStack[this.tagStack.length-1],d=u.children[u.children.length-1];this.options.withStartIndices&&(s.startIndex=this.parser.startIndex),this.options.withEndIndices&&(s.endIndex=this.parser.endIndex),u.children.push(s),d&&(s.prev=d,d.next=s),s.parent=u,this.lastNode=null},c}();e.DomHandler=l,e.default=l})(Xi);(function(e){var t=ne&&ne.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(e,"__esModule",{value:!0}),e.htmlToDOM=e.domToReact=e.attributesToProps=e.Text=e.ProcessingInstruction=e.Element=e.Comment=void 0;var r=t(Un);e.htmlToDOM=r.default;var n=t(rn);e.attributesToProps=n.default;var a=t(Yn);e.domToReact=a.default;var o=Xi;Object.defineProperty(e,"Comment",{enumerable:!0,get:function(){return o.Comment}}),Object.defineProperty(e,"Element",{enumerable:!0,get:function(){return o.Element}}),Object.defineProperty(e,"ProcessingInstruction",{enumerable:!0,get:function(){return o.ProcessingInstruction}}),Object.defineProperty(e,"Text",{enumerable:!0,get:function(){return o.Text}});var l={lowerCaseAttributeNames:!1};function c(s,u){if(typeof s!="string")throw new TypeError("First argument must be a string");return s?(0,a.default)((0,r.default)(s,(u==null?void 0:u.htmlparser2)||l),u):[]}e.default=c})(ki);const Pa=Yr(ki),Eu=Pa.default||Pa;function Ie(){return Ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ie.apply(this,arguments)}function Jn(e,t){if(e==null)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)t.indexOf(r=o[n])>=0||(a[r]=e[r]);return a}function Br(e){var t=x.useRef({fn:e,curr:void 0}).current;if(t.fn=e,!t.curr){var r=Object.create(null);Object.keys(e).forEach(function(n){r[n]=function(){var a;return(a=t.fn[n]).call.apply(a,[t.fn].concat([].slice.call(arguments)))}}),t.curr=r}return t.curr}function kn(e){return x.useReducer(function(t,r){return Ie({},t,typeof r=="function"?r(t):r)},e)}x.createContext(void 0);var xt=typeof window<"u"&&"ontouchstart"in window,_n=function(e,t,r){return Math.max(Math.min(e,r),t)},Rr=function(e,t,r){return t===void 0&&(t=0),r===void 0&&(r=0),_n(e,1*(1-r),Math.max(6,t)*(1+r))},Mn=typeof window>"u"||/ServerSideRendering/.test(navigator&&navigator.userAgent)?x.useEffect:x.useLayoutEffect;function rr(e,t,r){var n=x.useRef(t);n.current=t,x.useEffect(function(){function a(o){n.current(o)}return e&&window.addEventListener(e,a,r),function(){e&&window.removeEventListener(e,a)}},[e])}var ju=["container"];function Tu(e){var t=e.container,r=t===void 0?document.body:t,n=Jn(e,ju);return Vo.createPortal(Z.createElement("div",Ie({},n)),r)}function ku(e){return Z.createElement("svg",Ie({width:"44",height:"44",viewBox:"0 0 768 768"},e),Z.createElement("path",{d:"M607.5 205.5l-178.5 178.5 178.5 178.5-45 45-178.5-178.5-178.5 178.5-45-45 178.5-178.5-178.5-178.5 45-45 178.5 178.5 178.5-178.5z"}))}function _u(e){return Z.createElement("svg",Ie({width:"44",height:"44",viewBox:"0 0 768 768"},e),Z.createElement("path",{d:"M640.5 352.5v63h-390l178.5 180-45 45-256.5-256.5 256.5-256.5 45 45-178.5 180h390z"}))}function Mu(e){return Z.createElement("svg",Ie({width:"44",height:"44",viewBox:"0 0 768 768"},e),Z.createElement("path",{d:"M384 127.5l256.5 256.5-256.5 256.5-45-45 178.5-180h-390v-63h390l-178.5-180z"}))}function Fu(){return x.useEffect(function(){var e=document.body.style,t=e.overflow;return e.overflow="hidden",function(){e.overflow=t}},[]),null}function Na(e){var t=e.touches[0],r=t.clientX,n=t.clientY;if(e.touches.length>=2){var a=e.touches[1],o=a.clientX,l=a.clientY;return[(r+o)/2,(n+l)/2,Math.sqrt(Math.pow(o-r,2)+Math.pow(l-n,2))]}return[r,n,0]}var _t=function(e,t,r,n){var a=r*t,o=(a-n)/2,l=void 0,c=e;return a<=n?(l=1,c=0):e>0&&o-e<=0?(l=2,c=o):e<0&&o+e<=0&&(l=3,c=-o),[l,c]};function gn(e,t,r,n,a,o,l,c,s,u){l===void 0&&(l=innerWidth/2),c===void 0&&(c=innerHeight/2),s===void 0&&(s=0),u===void 0&&(u=0);var d=_t(e,o,r,innerWidth)[0],f=_t(t,o,n,innerHeight),v=innerWidth/2,C=innerHeight/2;return{x:l-o/a*(l-(v+e))-v+(n/r>=3&&r*o===innerWidth?0:d?s/2:s),y:c-o/a*(c-(C+t))-C+(f[0]?u/2:u),lastCX:l,lastCY:c}}function Fn(e,t,r){var n=e%180!=0;return n?[r,t,n]:[t,r,n]}function yn(e,t,r){var n=Fn(r,innerWidth,innerHeight),a=n[0],o=n[1],l=0,c=a,s=o,u=e/t*o,d=t/e*a;return e<a&&t<o?(c=e,s=t):e<a&&t>=o?c=u:e>=a&&t<o||e/t>a/o?s=d:t/e>=3&&!n[2]?l=((s=d)-o)/2:c=u,{width:c,height:s,x:0,y:l,pause:!0}}function Dr(e,t){var r=t.leading,n=r!==void 0&&r,a=t.maxWait,o=t.wait,l=o===void 0?a||0:o,c=x.useRef(e);c.current=e;var s=x.useRef(0),u=x.useRef(),d=function(){return u.current&&clearTimeout(u.current)},f=x.useCallback(function(){var v=[].slice.call(arguments),C=Date.now();function y(){s.current=C,d(),c.current.apply(null,v)}var S=s.current,j=C-S;if(S===0&&(n&&y(),s.current=C),a!==void 0){if(j>a)return void y()}else j<l&&(s.current=C);d(),u.current=setTimeout(function(){y(),s.current=0},l)},[l,a,n]);return f.cancel=d,f}var Oa=function(e,t,r){return $t(e,t,r,100,function(n){return n},function(){return $t(t,e,r)})},Iu=function(e){return 1-Math.pow(1-e,4)};function $t(e,t,r,n,a,o){n===void 0&&(n=400),a===void 0&&(a=Iu);var l=t-e;if(l!==0){var c=Date.now(),s=0,u=function(){var f=Math.min(1,(Date.now()-c)/n);r(e+a(f)*l)&&f<1?d():(cancelAnimationFrame(s),f>=1&&o&&o())};d()}function d(){s=requestAnimationFrame(u)}}var Au={T:0,L:0,W:0,H:0,FIT:void 0},so=function(){var e=x.useRef(!1);return x.useEffect(function(){return e.current=!0,function(){e.current=!1}},[]),e},Pu=["className"];function Nu(e){var t=e.className,r=Jn(e,Pu);return Z.createElement("div",Ie({className:"PhotoView__Spinner "+t},r),Z.createElement("svg",{viewBox:"0 0 32 32",width:"36",height:"36",fill:"white"},Z.createElement("path",{opacity:".25",d:"M16 0 A16 16 0 0 0 16 32 A16 16 0 0 0 16 0 M16 4 A12 12 0 0 1 16 28 A12 12 0 0 1 16 4"}),Z.createElement("path",{d:"M16 0 A16 16 0 0 1 32 16 L28 16 A12 12 0 0 0 16 4z"})))}var Ou=["src","loaded","broken","className","onPhotoLoad","loadingElement","brokenElement"];function Ru(e){var t=e.src,r=e.loaded,n=e.broken,a=e.className,o=e.onPhotoLoad,l=e.loadingElement,c=e.brokenElement,s=Jn(e,Ou),u=so();return t&&!n?Z.createElement(Z.Fragment,null,Z.createElement("img",Ie({className:"PhotoView__Photo"+(a?" "+a:""),src:t,onLoad:function(d){var f=d.target;u.current&&o({loaded:!0,naturalWidth:f.naturalWidth,naturalHeight:f.naturalHeight})},onError:function(){u.current&&o({broken:!0})},alt:""},s)),!r&&(Z.createElement("span",{className:"PhotoView__icon"},l)||Z.createElement(Nu,{className:"PhotoView__icon"}))):c?Z.createElement("span",{className:"PhotoView__icon"},typeof c=="function"?c({src:t}):c):null}var Du={naturalWidth:void 0,naturalHeight:void 0,width:void 0,height:void 0,loaded:void 0,broken:!1,x:0,y:0,touched:!1,maskTouched:!1,rotate:0,scale:1,CX:0,CY:0,lastX:0,lastY:0,lastCX:0,lastCY:0,lastScale:1,touchTime:0,touchLength:0,pause:!0,stopRaf:!0,reach:void 0};function Lu(e){var t=e.item,r=t.src,n=t.render,a=t.width,o=a===void 0?0:a,l=t.height,c=l===void 0?0:l,s=t.originRef,u=e.visible,d=e.speed,f=e.easing,v=e.wrapClassName,C=e.className,y=e.style,S=e.loadingElement,j=e.brokenElement,k=e.onPhotoTap,E=e.onMaskTap,R=e.onReachMove,m=e.onReachUp,T=e.onPhotoResize,w=e.isActive,M=e.expose,F=kn(Du),B=F[0],H=F[1],Se=x.useRef(0),ye=so(),at=B.naturalWidth,Me=at===void 0?o:at,te=B.naturalHeight,he=te===void 0?c:te,De=B.width,Fe=De===void 0?o:De,wt=B.height,p=wt===void 0?c:wt,h=B.loaded,I=h===void 0?!r:h,P=B.broken,N=B.x,D=B.y,L=B.touched,O=B.stopRaf,U=B.maskTouched,q=B.rotate,V=B.scale,Q=B.CX,J=B.CY,ie=B.lastX,W=B.lastY,G=B.lastCX,Ee=B.lastCY,ce=B.lastScale,xe=B.touchTime,Le=B.touchLength,ue=B.pause,qe=B.reach,it=Br({onScale:function(b){return Ae(Rr(b))},onRotate:function(b){q!==b&&(M({rotate:b}),H(Ie({rotate:b},yn(Me,he,b))))}});function Ae(b,z,ee){V!==b&&(M({scale:b}),H(Ie({scale:b},gn(N,D,Fe,p,V,b,z,ee),b<=1&&{x:0,y:0})))}var _=Dr(function(b,z,ee){if(ee===void 0&&(ee=0),(L||U)&&w){var Ot=Fn(q,Fe,p),dt=Ot[0],Je=Ot[1];if(ee===0&&Se.current===0){var Te=Math.abs(b-Q)<=20,He=Math.abs(z-J)<=20;if(Te&&He)return void H({lastCX:b,lastCY:z});Se.current=Te?z>J?3:2:1}var Rt=b-G,Dt=z-Ee,Qe=void 0;if(ee===0){var Lt=_t(Rt+ie,V,dt,innerWidth)[0],Yt=_t(Dt+W,V,Je,innerHeight);Qe=function(St,ft,pt,lt){return ft&&St===1||lt==="x"?"x":pt&&St>1||lt==="y"?"y":void 0}(Se.current,Lt,Yt[0],qe),Qe!==void 0&&R(Qe,b,z,V)}if(Qe==="x"||U)return void H({reach:"x"});var ht=Rr(V+(ee-Le)/100/2*V,Me/Fe,.2);M({scale:ht}),H(Ie({touchLength:ee,reach:Qe,scale:ht},gn(N,D,Fe,p,V,ht,b,z,Rt,Dt)))}},{maxWait:8});function se(b){return!O&&!L&&(ye.current&&H(Ie({},b,{pause:u})),ye.current)}var be,pe,Xe,ot,Nt,Ct,Gt,Pe,kr=(Nt=function(b){return se({x:b})},Ct=function(b){return se({y:b})},Gt=function(b){return ye.current&&(M({scale:b}),H({scale:b})),!L&&ye.current},Pe=Br({X:function(b){return Nt(b)},Y:function(b){return Ct(b)},S:function(b){return Gt(b)}}),function(b,z,ee,Ot,dt,Je,Te,He,Rt,Dt,Qe){var Lt=Fn(Dt,dt,Je),Yt=Lt[0],ht=Lt[1],St=_t(b,He,Yt,innerWidth),ft=St[0],pt=St[1],lt=_t(z,He,ht,innerHeight),Kt=lt[0],Mr=lt[1],Zt=Date.now()-Qe;if(Zt>=200||He!=Te||Math.abs(Rt-Te)>1){var Et=gn(b,z,dt,Je,Te,He),mt=Et.x,zt=Et.y,Ye=ft?pt:mt!==b?mt:null,Jt=Kt?Mr:zt!==z?zt:null;return Ye!==null&&$t(b,Ye,Pe.X),Jt!==null&&$t(z,Jt,Pe.Y),void(He!=Te&&$t(Te,He,Pe.S))}var Ut=(b-ee)/Zt,jt=(z-Ot)/Zt,Tt=Math.sqrt(Math.pow(Ut,2)+Math.pow(jt,2)),vt=!1,gt=!1;(function(et,Ne){var Oe=et,yt=0,tt=void 0,Ke=0,Qt=function(dr){tt||(tt=dr);var hr=dr-tt,Qn=Math.sign(et),ea=-.001*Qn,ta=Math.sign(-Oe)*Math.pow(Oe,2)*2e-4,po=Oe*hr+(ea+ta)*Math.pow(hr,2)/2;yt+=po,tt=dr,Qn*(Oe+=(ea+ta)*hr)<=0?Ze():Ne(yt)?ct():Ze()};function ct(){Ke=requestAnimationFrame(Qt)}function Ze(){cancelAnimationFrame(Ke)}ct()})(Tt,function(et){var Ne=b+et*(Ut/Tt),Oe=z+et*(jt/Tt),yt=_t(Ne,Te,Yt,innerWidth),tt=yt[0],Ke=yt[1],Qt=_t(Oe,Te,ht,innerHeight),ct=Qt[0],Ze=Qt[1];if(tt&&!vt&&(vt=!0,ft?$t(Ne,Ke,Pe.X):Oa(Ke,Ne+(Ne-Ke),Pe.X)),ct&&!gt&&(gt=!0,Kt?$t(Oe,Ze,Pe.Y):Oa(Ze,Oe+(Oe-Ze),Pe.Y)),vt&&gt)return!1;var dr=vt||Pe.X(Ke),hr=gt||Pe.Y(Ze);return dr&&hr})}),qt=(be=k,pe=function(b,z){qe||Ae(V!==1?1:Math.max(2,Me/Fe),b,z)},Xe=x.useRef(0),ot=Dr(function(){Xe.current=0,be.apply(void 0,[].slice.call(arguments))},{wait:300}),function(){var b=[].slice.call(arguments);Xe.current+=1,ot.apply(void 0,b),Xe.current>=2&&(ot.cancel(),Xe.current=0,pe.apply(void 0,b))});function Xt(b,z){if(Se.current=0,(L||U)&&w){H({touched:!1,maskTouched:!1,pause:!1,stopRaf:!1,reach:void 0});var ee=Rr(V,Me/Fe);if(kr(N,D,ie,W,Fe,p,V,ee,ce,q,xe),m(b,z),Q===b&&J===z){if(L)return void qt(b,z);U&&E(b,z)}}}function ur(b,z,ee){ee===void 0&&(ee=0),H({touched:!0,CX:b,CY:z,lastCX:b,lastCY:z,lastX:N,lastY:D,lastScale:V,touchLength:ee,touchTime:Date.now()})}function _r(b){H({maskTouched:!0,CX:b.clientX,CY:b.clientY,lastX:N,lastY:D})}rr(xt?void 0:"mousemove",function(b){b.preventDefault(),_(b.clientX,b.clientY)}),rr(xt?void 0:"mouseup",function(b){Xt(b.clientX,b.clientY)}),rr(xt?"touchmove":void 0,function(b){b.preventDefault();var z=Na(b);_.apply(void 0,z)},{passive:!1}),rr(xt?"touchend":void 0,function(b){var z=b.changedTouches[0];Xt(z.clientX,z.clientY)},{passive:!1}),rr("resize",Dr(function(){I&&!L&&(H(yn(Me,he,q)),T())},{maxWait:8})),Mn(function(){w&&M(Ie({scale:V,rotate:q},it))},[w]);var st=function(b,z,ee,Ot,dt,Je,Te,He,Rt,Dt){var Qe=function(mt,zt,Ye,Jt,Ut){var jt=x.useRef(!1),Tt=kn({lead:!0,scale:Ye}),vt=Tt[0],gt=vt.lead,et=vt.scale,Ne=Tt[1],Oe=Dr(function(yt){try{return Ut(!0),Ne({lead:!1,scale:yt}),Promise.resolve()}catch(tt){return Promise.reject(tt)}},{wait:Jt});return Mn(function(){jt.current?(Ut(!1),Ne({lead:!0}),Oe(Ye)):jt.current=!0},[Ye]),gt?[mt*et,zt*et,Ye/et]:[mt*Ye,zt*Ye,1]}(Je,Te,He,Rt,Dt),Lt=Qe[0],Yt=Qe[1],ht=Qe[2],St=function(mt,zt,Ye,Jt,Ut){var jt=x.useState(Au),Tt=jt[0],vt=jt[1],gt=x.useState(0),et=gt[0],Ne=gt[1],Oe=x.useRef(),yt=Br({OK:function(){return mt&&Ne(4)}});function tt(Ke){Ut(!1),Ne(Ke)}return x.useEffect(function(){if(Oe.current||(Oe.current=Date.now()),Ye){if(function(Ke,Qt){var ct=Ke&&Ke.current;if(ct&&ct.nodeType===1){var Ze=ct.getBoundingClientRect();Qt({T:Ze.top,L:Ze.left,W:Ze.width,H:Ze.height,FIT:ct.tagName==="IMG"?getComputedStyle(ct).objectFit:void 0})}}(zt,vt),mt)return Date.now()-Oe.current<250?(Ne(1),requestAnimationFrame(function(){Ne(2),requestAnimationFrame(function(){return tt(3)})}),void setTimeout(yt.OK,Jt)):void Ne(4);tt(5)}},[mt,Ye]),[et,Tt]}(b,z,ee,Rt,Dt),ft=St[0],pt=St[1],lt=pt.W,Kt=pt.FIT,Mr=innerWidth/2,Zt=innerHeight/2,Et=ft<3||ft>4;return[Et?lt?pt.L:Mr:Ot+(Mr-Je*He/2),Et?lt?pt.T:Zt:dt+(Zt-Te*He/2),Lt,Et&&Kt?Lt*(pt.H/lt):Yt,ft===0?ht:Et?lt/(Je*He)||.01:ht,Et?Kt?1:0:1,ft,Kt]}(u,s,I,N,D,Fe,p,V,d,function(b){return H({pause:b})}),X=st[4],le=st[6],we="transform "+d+"ms "+f,ve={className:C,onMouseDown:xt?void 0:function(b){b.stopPropagation(),b.button===0&&ur(b.clientX,b.clientY,0)},onTouchStart:xt?function(b){b.stopPropagation(),ur.apply(void 0,Na(b))}:void 0,onWheel:function(b){if(!qe){var z=Rr(V-b.deltaY/100/2,Me/Fe);H({stopRaf:!0}),Ae(z,b.clientX,b.clientY)}},style:{width:st[2],height:st[3],opacity:st[5],objectFit:le===4?void 0:st[7],transform:q?"rotate("+q+"deg)":void 0,transition:le>2?we+", opacity "+d+"ms ease, height "+(le<4?d/2:le>4?d:0)+"ms "+f:void 0}};return Z.createElement("div",{className:"PhotoView__PhotoWrap"+(v?" "+v:""),style:y,onMouseDown:!xt&&w?_r:void 0,onTouchStart:xt&&w?function(b){return _r(b.touches[0])}:void 0},Z.createElement("div",{className:"PhotoView__PhotoBox",style:{transform:"matrix("+X+", 0, 0, "+X+", "+st[0]+", "+st[1]+")",transition:L||ue?void 0:we,willChange:w?"transform":void 0}},r?Z.createElement(Ru,Ie({src:r,loaded:I,broken:P},ve,{onPhotoLoad:function(b){H(Ie({},b,b.loaded&&yn(b.naturalWidth||0,b.naturalHeight||0,q)))},loadingElement:S,brokenElement:j})):n&&n({attrs:ve,scale:X,rotate:q})))}var Ra={x:0,touched:!1,pause:!1,lastCX:void 0,lastCY:void 0,bg:void 0,lastBg:void 0,overlay:!0,minimal:!0,scale:1,rotate:0};function zu(e){var t=e.loop,r=t===void 0?3:t,n=e.speed,a=e.easing,o=e.photoClosable,l=e.maskClosable,c=l===void 0||l,s=e.maskOpacity,u=s===void 0?1:s,d=e.pullClosable,f=d===void 0||d,v=e.bannerVisible,C=v===void 0||v,y=e.overlayRender,S=e.toolbarRender,j=e.className,k=e.maskClassName,E=e.photoClassName,R=e.photoWrapClassName,m=e.loadingElement,T=e.brokenElement,w=e.images,M=e.index,F=M===void 0?0:M,B=e.onIndexChange,H=e.visible,Se=e.onClose,ye=e.afterClose,at=e.portalContainer,Me=kn(Ra),te=Me[0],he=Me[1],De=x.useState(0),Fe=De[0],wt=De[1],p=te.x,h=te.touched,I=te.pause,P=te.lastCX,N=te.lastCY,D=te.bg,L=D===void 0?u:D,O=te.lastBg,U=te.overlay,q=te.minimal,V=te.scale,Q=te.rotate,J=te.onScale,ie=te.onRotate,W=e.hasOwnProperty("index"),G=W?F:Fe,Ee=W?B:wt,ce=x.useRef(G),xe=w.length,Le=w[G],ue=typeof r=="boolean"?r:xe>r,qe=function(X,le){var we=x.useReducer(function(ee){return!ee},!1)[1],ve=x.useRef(0),b=function(ee,Ot){var dt=x.useRef(ee);function Je(Te){dt.current=Te}return x.useMemo(function(){(function(Te){X?(Te(X),ve.current=1):ve.current=2})(Je)},[ee]),[dt.current,Je]}(X),z=b[1];return[b[0],ve.current,function(){we(),ve.current===2&&(z(!1),le&&le()),ve.current=0}]}(H,ye),it=qe[0],Ae=qe[1],_=qe[2];Mn(function(){if(it)return he({pause:!0,x:G*-(innerWidth+20)}),void(ce.current=G);he(Ra)},[it]);var se=Br({close:function(X){ie&&ie(0),he({overlay:!0,lastBg:L}),Se(X)},changeIndex:function(X,le){le===void 0&&(le=!1);var we=ue?ce.current+(X-G):X,ve=xe-1,b=_n(we,0,ve),z=ue?we:b,ee=innerWidth+20;he({touched:!1,lastCX:void 0,lastCY:void 0,x:-ee*z,pause:le}),ce.current=z,Ee&&Ee(ue?X<0?ve:X>ve?0:X:b)}}),be=se.close,pe=se.changeIndex;function Xe(X){return X?be():he({overlay:!U})}function ot(){he({x:-(innerWidth+20)*G,lastCX:void 0,lastCY:void 0,pause:!0}),ce.current=G}function Nt(X,le,we,ve){X==="x"?function(b){if(P!==void 0){var z=b-P,ee=z;!ue&&(G===0&&z>0||G===xe-1&&z<0)&&(ee=z/2),he({touched:!0,lastCX:P,x:-(innerWidth+20)*ce.current+ee,pause:!1})}else he({touched:!0,lastCX:b,x:p,pause:!1})}(le):X==="y"&&function(b,z){if(N!==void 0){var ee=u===null?null:_n(u,.01,u-Math.abs(b-N)/100/4);he({touched:!0,lastCY:N,bg:z===1?ee:u,minimal:z===1})}else he({touched:!0,lastCY:b,bg:L,minimal:!0})}(we,ve)}function Ct(X,le){var we=X-(P??X),ve=le-(N??le),b=!1;if(we<-40)pe(G+1);else if(we>40)pe(G-1);else{var z=-(innerWidth+20)*ce.current;Math.abs(ve)>100&&q&&f&&(b=!0,be()),he({touched:!1,x:z,lastCX:void 0,lastCY:void 0,bg:u,overlay:!!b||U})}}rr("keydown",function(X){if(H)switch(X.key){case"ArrowLeft":pe(G-1,!0);break;case"ArrowRight":pe(G+1,!0);break;case"Escape":be()}});var Gt=function(X,le,we){return x.useMemo(function(){var ve=X.length;return we?X.concat(X).concat(X).slice(ve+le-1,ve+le+2):X.slice(Math.max(le-1,0),Math.min(le+2,ve+1))},[X,le,we])}(w,G,ue);if(!it)return null;var Pe=U&&!Ae,kr=H?L:O,qt=J&&ie&&{images:w,index:G,visible:H,onClose:be,onIndexChange:pe,overlayVisible:Pe,overlay:Le&&Le.overlay,scale:V,rotate:Q,onScale:J,onRotate:ie},Xt=n?n(Ae):400,ur=a?a(Ae):"cubic-bezier(0.25, 0.8, 0.25, 1)",_r=n?n(3):600,st=a?a(3):"cubic-bezier(0.25, 0.8, 0.25, 1)";return Z.createElement(Tu,{className:"PhotoView-Portal"+(Pe?"":" PhotoView-Slider__clean")+(H?"":" PhotoView-Slider__willClose")+(j?" "+j:""),role:"dialog",onClick:function(X){return X.stopPropagation()},container:at},H&&Z.createElement(Fu,null),Z.createElement("div",{className:"PhotoView-Slider__Backdrop"+(k?" "+k:"")+(Ae===1?" PhotoView-Slider__fadeIn":Ae===2?" PhotoView-Slider__fadeOut":""),style:{background:kr?"rgba(0, 0, 0, "+kr+")":void 0,transitionTimingFunction:ur,transitionDuration:(h?0:Xt)+"ms",animationDuration:Xt+"ms"},onAnimationEnd:_}),C&&Z.createElement("div",{className:"PhotoView-Slider__BannerWrap"},Z.createElement("div",{className:"PhotoView-Slider__Counter"},G+1," / ",xe),Z.createElement("div",{className:"PhotoView-Slider__BannerRight"},S&&qt&&S(qt),Z.createElement(ku,{className:"PhotoView-Slider__toolbarIcon",onClick:be}))),Gt.map(function(X,le){var we=ue||G!==0?ce.current-1+le:G+le;return Z.createElement(Lu,{key:ue?X.key+"/"+X.src+"/"+we:X.key,item:X,speed:Xt,easing:ur,visible:H,onReachMove:Nt,onReachUp:Ct,onPhotoTap:function(){return Xe(o)},onMaskTap:function(){return Xe(c)},wrapClassName:R,className:E,style:{left:(innerWidth+20)*we+"px",transform:"translate3d("+p+"px, 0px, 0)",transition:h||I?void 0:"transform "+_r+"ms "+st},loadingElement:m,brokenElement:T,onPhotoResize:ot,isActive:ce.current===we,expose:he})}),!xt&&C&&Z.createElement(Z.Fragment,null,(ue||G!==0)&&Z.createElement("div",{className:"PhotoView-Slider__ArrowLeft",onClick:function(){return pe(G-1,!0)}},Z.createElement(_u,null)),(ue||G+1<xe)&&Z.createElement("div",{className:"PhotoView-Slider__ArrowRight",onClick:function(){return pe(G+1,!0)}},Z.createElement(Mu,null))),y&&qt&&Z.createElement("div",{className:"PhotoView-Slider__Overlay"},y(qt)))}const Uu=e=>{const r=new DOMParser().parseFromString(e,"text/html").querySelectorAll("img");return Array.from(r).map(n=>n.getAttribute("src"))},Bu=({url:e,text:t})=>{const[r,n]=x.useState(!1);return i.jsx(qo,{to:e,style:{color:"inherit",textDecoration:r?"underline":"none"},onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),children:t})},$u=x.forwardRef((e,t)=>{const r=Cr(),n=g(C=>C.activeContent),a=g(C=>C.fontSize),[o,l]=x.useState(90),[c,s]=x.useState(!1);if(!n)return i.jsxs("div",{ref:t,className:"content-empty",children:[i.jsx(Ho,{style:{fontSize:"64px"}}),i.jsx($.Title,{heading:6,style:{color:"var(--color-text-3)",marginTop:"10px"},children:"ReactFlux"})]});const u=Eu(n.content),d=n.feed.category.id,f=n.feed.category.title,v=Uu(n.content);return i.jsxs("div",{ref:t,className:"article-content",children:[i.jsxs("div",{className:"article-title",children:[i.jsx($.Title,{heading:3,children:i.jsx("a",{href:n.url,target:"_blank",rel:"noopener noreferrer",children:n.title})}),i.jsx($.Text,{style:{color:"var(--color-text-3)",fontSize:"0.75 rem"},children:i.jsx(Bu,{url:`/feed/${n.feed.id}`,text:n.feed.title})}),i.jsx($.Text,{style:{color:"var(--color-text-3)",fontSize:"0.75 rem"},children:` - ${n.author}`}),i.jsx($.Text,{children:i.jsx(wr,{size:"small",onClick:()=>{r(`/group/${d}`)},style:{marginLeft:"10px",cursor:"pointer"},children:f})}),i.jsx("br",{}),i.jsx($.Text,{style:{color:"var(--color-text-3)",fontSize:"0.75 rem"},children:nr(n.published_at).format("dddd, MMMM D, YYYY [at] h:mm A")}),i.jsx(ut,{})]}),i.jsx("div",{className:"article-top-bar",children:i.jsxs(ae.Group,{children:[i.jsx(Ue,{content:"Expand article body",mini:!0,children:i.jsx(ae,{disabled:o===90,icon:i.jsx(In,{}),size:"mini",type:"primary",onClick:()=>l(C=>C+10)})}),i.jsx(Ue,{content:"Reduce article body",mini:!0,children:i.jsx(ae,{disabled:o===60,icon:i.jsx(Wo,{}),size:"mini",type:"primary",onClick:()=>l(C=>C-10)})}),i.jsx(Ue,{content:"Open photo slider",mini:!0,children:i.jsx(ae,{disabled:v.length===0,icon:i.jsx(Go,{}),size:"mini",type:"primary",onClick:()=>s(!0)})})]})}),i.jsxs("div",{className:"article-body",style:{fontSize:`${a}rem`,width:`${o}%`},children:[u,v.length>0&&i.jsx(zu,{images:v.map(C=>({src:C,key:C})),visible:c,onClose:()=>s(!1)})]},n.id)]})});var lo={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function r(){for(var o="",l=0;l<arguments.length;l++){var c=arguments[l];c&&(o=a(o,n(c)))}return o}function n(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return r.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var l="";for(var c in o)t.call(o,c)&&o[c]&&(l=a(l,c));return l}function a(o,l){return l?o?o+" "+l:o+l:o}e.exports?(r.default=r,e.exports=r):window.classNames=r})()})(lo);var Vu=lo.exports;const co=Yr(Vu),uo=({alt:e,borderRadius:t,height:r,src:n,status:a,width:o})=>{const[l,c]=x.useState(!1),s=x.useRef(null);return x.useEffect(()=>{const u=new IntersectionObserver(f=>{for(const v of f)if(v.isIntersecting){const C=new Image;C.onload=()=>c(!0),C.onerror=()=>{s.current&&(u.unobserve(s.current),s.current.parentElement.style.display="none")},C.src=n,s.current&&u.unobserve(s.current)}}),d=s.current;return d&&u.observe(d),()=>u.disconnect()},[n]),i.jsxs("div",{className:"image-container",ref:s,children:[!l&&i.jsx("div",{className:"skeleton-container",children:i.jsx($r,{text:{rows:0},image:{style:{width:o,height:r,margin:"0",borderRadius:t}},animation:!0})}),l&&i.jsx("img",{className:a!=="unread"?"read":"",src:n,alt:e,style:{width:o,height:r,objectFit:"cover",borderRadius:t}})]})},Hu=({url:e})=>i.jsx("img",{className:"feed-icon",src:`https://icons.duckduckgo.com/ip3/${new URL(e).hostname}.ico`,alt:"Icon"}),Wu=({entry:e,showFeedIcon:t})=>i.jsxs("div",{children:[i.jsx($.Text,{className:e.status==="unread"?"title-unread":"title-read",children:e.title}),i.jsxs($.Text,{className:"article-info",children:[i.jsx("br",{}),t&&i.jsx(Hu,{url:e.feed.site_url}),e.feed.title,i.jsx("br",{}),Pn(e.published_at)]}),e.starred&&i.jsx(Jr,{className:"icon-starred"})]}),Gu=({entry:e,handleEntryClick:t})=>{const r=g(c=>c.activeContent),n=g(c=>c.showFeedIcon),a=r&&e.id===r.id,o=()=>t(e),l=e.imgSrc?i.jsx("div",{className:"cover-image",children:i.jsx(uo,{alt:e.id,height:"160px",src:e.imgSrc,status:e.status,width:"100%"})}):null;return i.jsx("div",{className:"article-card",children:i.jsx(Wt,{className:co("card-custom-style","card-custom-hover-style",{"card-custom-selected-style":a}),cover:l,"data-entry-id":e.id,hoverable:!0,onClick:o,children:i.jsx(Wt.Meta,{description:i.jsx(Wu,{entry:e,showFeedIcon:n})})})},e.id)},qu=({url:e})=>i.jsx("img",{className:"feed-icon-mini",src:`https://icons.duckduckgo.com/ip3/${new URL(e).hostname}.ico`,alt:"Icon"}),Xu=({entry:e,showFeedIcon:t})=>i.jsxs("div",{className:`article-card-mini-content ${t?"article-card-mini-content-padding":""}`,children:[i.jsxs("div",{className:"article-card-mini-content-text",children:[i.jsx($.Text,{className:e.status==="unread"?"title-unread":"title-read",children:e.title}),i.jsxs($.Text,{className:"article-info",children:[i.jsx("br",{}),t&&i.jsx(qu,{url:e.feed.site_url}),e.feed.title,i.jsx("br",{}),Pn(e.published_at)]}),e.starred&&i.jsx(Jr,{className:"icon-starred"})]}),e.imgSrc&&i.jsx("div",{className:"thumbnail",children:i.jsx(uo,{alt:e.id,borderRadius:"4px",height:"100px",src:e.imgSrc,status:e.status,width:"100px"})})]}),Yu=({entry:e,handleEntryClick:t})=>{const r=g(l=>l.activeContent),n=g(l=>l.showFeedIcon),a=r&&e.id===r.id,o=()=>t(e);return i.jsx("div",{className:"article-card",children:i.jsx(Wt,{className:co("card-custom-style","card-custom-hover-style",{"card-custom-selected-style":a}),"data-entry-id":e.id,hoverable:!0,onClick:o,children:i.jsx(Wt.Meta,{description:i.jsx(Xu,{entry:e,showFeedIcon:n})})})},e.id)},Ku=({loading:e})=>{const t=g(a=>a.layout),r=t==="large"?2:4,n=a=>i.jsx(Wt,{calssName:"card-style",cover:t==="large"&&i.jsx("div",{className:"card-cover-style"}),children:i.jsx(Wt.Meta,{description:i.jsx($r,{loading:e,animation:!0,text:{rows:3,width:150}})})},a);return e?Array.from({length:r},(a,o)=>n(o)):null},ho=e=>{const t=g(f=>f.showAllFeeds),r=g(f=>f.hiddenFeedIds),{entries:n,filterStatus:a,filterString:o,filterType:l,setFilteredEntries:c,setFilterStatus:s,setFilterString:u,setFilterType:d}=x.useContext(bt);return x.useEffect(()=>{c([]);const f=bi(n,l,a,o);c(Gr(f,e,t,r))},[a,o,l]),{setFilterStatus:s,setFilterString:u,setFilterType:d}},Zu=e=>{const{filterString:t,filterType:r}=x.useContext(bt),n=g(u=>u.activeContent),a=g(u=>u.setActiveContent),o=g(u=>u.orderDirection),l=g(u=>u.toggleOrderDirection),{setFilterString:c,setFilterType:s}=ho(e);return i.jsxs("div",{className:"search-and-sort-bar",children:[i.jsx(rt.Search,{allowClear:!0,placeholder:"Search...",value:t,addBefore:i.jsxs(je,{placeholder:"Select type",onChange:s,style:{width:100},value:r,children:[i.jsx(je.Option,{value:"0",children:"Title"}),i.jsx(je.Option,{value:"1",children:"Content"})]}),onFocus:()=>n&&a(null),onChange:c}),i.jsx(Ue,{mini:!0,position:"left",content:o==="desc"?"Newest first":"Oldest first",children:i.jsx(ae,{shape:"circle",size:"small",style:{flexShrink:0},icon:o==="desc"?i.jsx(Xo,{}):i.jsx(Yo,{}),onClick:()=>{const u=o==="desc"?"asc":"desc";l(),Be("orderDirection",u)}})})]})},Ju=x.forwardRef(({info:e,loading:t,getEntries:r,handleEntryClick:n,cardsRef:a},o)=>{const{filteredEntries:l,filterStatus:c,loadMoreUnreadVisible:s,loadMoreVisible:u}=x.useContext(bt),{loadingMore:d,handleLoadMore:f}=Ln(),v=g(C=>C.layout);return i.jsxs("div",{className:"entry-list",ref:o,children:[i.jsx(Zu,{info:e}),i.jsx(Ku,{loading:t}),t?null:i.jsx("div",{ref:a,children:l.map(C=>{ji(C.feed.site_url)||(C.feed.site_url=Ti(C.feed.feed_url));const y=v==="small"?Yu:Gu;return i.jsx(y,{entry:C,handleEntryClick:n},C.id)})}),!t&&(c==="all"?u:s)&&i.jsxs(ae,{className:"load-more-button",loading:d,long:!0,onClick:()=>f(e,r),children:[!d&&i.jsx(Ko,{}),"Load more"]})]})}),Qu=x.forwardRef(({info:e,refreshArticleList:t,markAllAsRead:r},n)=>{const{entries:a,filteredEntries:o,filterStatus:l,loading:c,setEntries:s,setFilteredEntries:u,setUnreadCount:d,setUnreadEntries:f,unreadEntries:v}=x.useContext(bt),{setFilterStatus:C}=ho(e),y=g(E=>E.initData),S=g(E=>E.showStatus),j=async()=>{r().then(()=>{re.success("Marked all as read successfully"),y(),s(a.map(E=>({...E,status:"read"}))),f([]),u(l==="all"?o.map(E=>({...E,status:"read"})):[]),d(0)}).catch(()=>{re.error("Failed to mark all as read")})};x.useEffect(()=>{e.from!=="history"&&C(S)},[S]);const k=E=>{n.current&&n.current.scrollTo(0,0),C(E),u(E==="all"?a:v)};return i.jsxs("div",{className:"entry-panel",children:[!["starred","history"].includes(e.from)&&i.jsx(Va,{focusLock:!0,title:"Mark All As Read?",onOk:j,children:i.jsx(ae,{icon:i.jsx(La,{}),shape:"circle"})}),i.jsxs(vr.Group,{disabled:e.from==="history",name:"lang",onChange:E=>k(E),type:"button",value:e.from==="history"?"all":l,children:[i.jsx(vr,{value:"all",children:"ALL"}),i.jsx(vr,{value:"unread",children:"UNREAD"})]}),i.jsx(ae,{icon:i.jsx($a,{}),loading:c,shape:"circle",onClick:t})]})}),cr=({info:e,getEntries:t,markAllAsRead:r})=>{const n=g(_=>_.activeContent),a=g(_=>_.setActiveContent),o=g(_=>_.setReadCount),l=g(_=>_.setStarredCount),c=g(_=>_.setUnreadToday),s=g(_=>_.setUnreadTotal),u=g(_=>_.updateFeedUnreadCount),d=g(_=>_.updateGroupUnreadCount),f=g(_=>_.showAllFeeds),v=g(_=>_.hiddenFeedIds),C=g(_=>_.orderBy),y=g(_=>_.orderDirection),S=g(_=>_.initData),j=g(_=>_.isInitCompleted),{entries:k,entryDetailRef:E,filteredEntries:R,filterStatus:m,loading:T,setEntries:w,setFilteredEntries:M,setLoading:F,setLoadMoreUnreadVisible:B,setLoadMoreVisible:H,setOffset:Se,setTotal:ye,setUnreadCount:at,setUnreadEntries:Me,setUnreadOffset:te,total:he,unreadCount:De,unreadEntries:Fe}=x.useContext(bt),{handleFetchContent:wt,handleToggleStarred:p,handleToggleStatus:h,handleEntryStatusUpdate:I}=Dn(),{getFirstImage:P}=Ln(),[N,D]=x.useState(!1),[L,O]=x.useState(!1),[U,q]=x.useState(!1),V=x.useRef(null),Q=x.useRef(null);x.useEffect(()=>{D(n!==null)},[n]),x.useEffect(()=>{!U||e.from==="history"||setTimeout(()=>{Ae()},200)},[C]),x.useEffect(()=>{U&&setTimeout(()=>{Ae()},200)},[y]),x.useEffect(()=>{M(()=>["all","today","group"].includes(e.from)&&!f?(m==="all"?k:Fe).filter(se=>!v.includes(se.feed.id)):m==="all"?k:Fe),O(!0)},[m,v,f]),x.useEffect(()=>{if(!(De===0||he===0))switch(e.from){case"all":f&&s(()=>De);break;case"today":c(()=>De);break;case"starred":l(()=>he);break;case"history":o(()=>he);break;case"feed":{const _=Number.parseInt(e.id);u(_,De);break}case"group":{const _=Number.parseInt(e.id);d(_,De);break}}},[he,De]);const J=async _=>{D(!1),setTimeout(()=>{a({..._,status:"read"})},200),_.status==="unread"&&(setTimeout(()=>{I(_,"read")},200),ii(_.id,"read").catch(()=>{re.error("Failed to mark entry as read, please try again later"),I(_,"unread")})),E.current&&(E.current.setAttribute("tabIndex","-1"),E.current.focus(),E.current.scrollTo(0,0))},{handleBKey:ie,handleDKey:W,handleEscapeKey:G,handleLeftKey:Ee,handleMKey:ce,handleRightKey:xe,handleSKey:Le}=zn(e,J,t);x.useEffect(()=>{const _={27:()=>G(V),37:()=>Ee(),39:()=>xe(e),66:()=>ie(),68:()=>W(wt),77:()=>ce(h),83:()=>Le(p)},se=be=>{const pe=_[be.keyCode];pe&&pe()};return N?document.addEventListener("keydown",se):document.removeEventListener("keydown",se),()=>{document.removeEventListener("keydown",se)}},[n,R,N]);const ue=(_,se,be,pe)=>{w(_),Me(se),M(Gr(m==="all"?_:se,e,f,v)),ye(be.data.total),H(_.length<be.data.total),at(pe.data.total),B(se.length<pe.data.total)},qe=(_,se)=>{var be,pe;if((be=_==null?void 0:_.data)!=null&&be.entries&&((pe=se==null?void 0:se.data)==null?void 0:pe.total)>=0){const Xe=_.data.entries.map(P),ot=se.data.entries.map(P);ue(Xe,ot,_,se)}},it=async()=>{F(!0);try{const _=await t();if(e.from==="history")qe(_,_);else{const se=await t(0,"unread");qe(_,se)}}catch(_){console.error("Error fetching articles:",_)}finally{F(!1)}},Ae=async()=>{if(V.current&&V.current.scrollTo(0,0),Se(0),te(0),!j){S();return}await it()};return x.useEffect(()=>{n&&a(null)},[]),x.useEffect(()=>{j&&it().then(()=>q(!0))},[j]),i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"entry-col",children:[i.jsx(na,{in:!T,timeout:200,nodeRef:Q,classNames:"fade",children:i.jsx(Ju,{info:e,cardsRef:Q,loading:T,getEntries:t,handleEntryClick:J,ref:V})}),i.jsx(Qu,{info:e,refreshArticleList:Ae,markAllAsRead:r,ref:V})]}),i.jsx(na,{in:N,timeout:200,nodeRef:E,classNames:"fade",unmountOnExit:!0,children:i.jsx($u,{ref:E})}),i.jsx(gc,{info:e,handleEntryClick:J,getEntries:t,isFilteredEntriesUpdated:L,setIsFilteredEntriesUpdated:O}),i.jsx(yc,{info:e,handleEntryClick:J,getEntries:t,isFilteredEntriesUpdated:L,setIsFilteredEntriesUpdated:O})]})},ed=()=>{const e=async()=>{const t=await Vs();return oe.put(`/v1/users/${t.data.id}/mark-all-as-read`)};return i.jsx(lr,{children:i.jsx(cr,{info:{from:"all",id:""},getEntries:el,markAllAsRead:e})})},td=()=>{const e=Cr(),t=Zo();return console.error(t),i.jsx("div",{id:"error-page",style:{top:"30%",position:"relative"},children:i.jsx("div",{children:i.jsx(Jo,{status:"404",subTitle:"Whoops, that page is gone. ",extra:[i.jsx(ae,{type:"primary",onClick:()=>e("/"),children:"Back to Home"},"back")]})})})},rd=()=>{const{id:e}=Ka(),t=g(l=>l.orderBy),r=g(l=>l.orderDirection),n=g(l=>l.pageSize),a=async(l=0,c=null)=>{const s={baseUrl:`/v1/feeds/${e}/entries`,orderField:t,direction:r,offset:l,limit:n,status:c},u=sr(s);return oe.get(u)},o=async()=>oe.put(`/v1/feeds/${id}/mark-all-as-read`);return i.jsx(lr,{children:i.jsx(cr,{info:{from:"feed",id:e},getEntries:a,markAllAsRead:o})})},nd=()=>{const{id:e}=Ka(),t=g(l=>l.orderBy),r=g(l=>l.orderDirection),n=g(l=>l.pageSize),a=async(l=0,c=null)=>{const s={baseUrl:`/v1/categories/${e}/entries`,orderField:t,direction:r,offset:l,limit:n,status:c},u=sr(s);return oe.get(u)},o=async()=>oe.put(`/v1/categories/${e}/mark-all-as-read`);return i.jsx(lr,{children:i.jsx(cr,{info:{from:"group",id:e},getEntries:a,markAllAsRead:o})})},ad=()=>i.jsx(lr,{children:i.jsx(cr,{info:{from:"history",id:""},getEntries:oi})}),od=e=>{var n;const t=e.getFieldsValue();let r=!0;for(const a of Object.keys(t))if(a!=="password"){const o=(n=t[a])==null?void 0:n.trim();e.setFieldValue(a,o),o||(r=!1)}else t[a]||(r=!1);return r},Lr=(e,t)=>{e.key==="Enter"&&t.submit()},sd=()=>{const[e]=Qo(),[t,r]=x.useState(!1),[n,a]=x.useState(Vr()||"token"),o=Cr();x.useEffect(()=>{Vr()&&o("/")},[o]);const l=async()=>{r(!0);try{(await Da({url:"/v1/me",method:"get",baseURL:e.getFieldsValue().server,headers:{"X-Auth-Token":e.getFieldsValue().token},auth:{username:e.getFieldsValue().username,password:e.getFieldsValue().password},timeout:5e3})).status===200&&(re.success("Success"),Ls(n,e.getFieldsValue()),o("/"))}catch(s){console.error(s),re.error(s.message)}r(!1)},c=()=>{l()};return i.jsx("div",{style:{backgroundColor:"var(--color-bg-1)",height:"100%"},children:i.jsx("div",{style:{backgroundColor:"var(--color-fill-1)",height:"100%"},children:i.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",overflowY:"auto"},children:[i.jsx(Ha,{style:{fontSize:48,color:"rgb(var(--primary-6))",marginTop:"20px"}}),i.jsx($.Title,{heading:3,children:"Connect to your server"}),i.jsxs(Wt,{style:{boxShadow:"0 4px 10px rgb(var(--color-bg-3))",padding:"20px",width:"380px",marginTop:"20px"},children:[i.jsxs(me,{autoComplete:"off",form:e,layout:"vertical",onSubmit:()=>{od(e)?c():re.error("Please fill in all required fields")},children:[i.jsx(me.Item,{field:"server",label:"Server address",rules:[{required:!0}],onKeyDown:s=>{Lr(s,e)},children:i.jsx(rt,{disabled:t,placeholder:"Please input server address",prefix:i.jsx(es,{})})}),n==="token"&&i.jsx(me.Item,{field:"token",label:"API Token",rules:[{required:!0}],onKeyDown:s=>{Lr(s,e)},children:i.jsx(rt,{disabled:t,placeholder:"Please input api token",prefix:i.jsx(aa,{})})}),n==="user"&&i.jsxs(i.Fragment,{children:[i.jsx(me.Item,{field:"username",label:"Username",rules:[{required:!0}],onKeyDown:s=>{Lr(s,e)},children:i.jsx(rt,{disabled:t,prefix:i.jsx(Ua,{}),placeholder:"Please input username"})}),i.jsx(me.Item,{field:"password",label:"Password",rules:[{required:!0}],onKeyDown:s=>{Lr(s,e)},children:i.jsx(rt.Password,{disabled:t,prefix:i.jsx(aa,{}),placeholder:"Please input password"})})]})]}),i.jsx(ae,{loading:t,type:"primary",long:!0,onClick:c,style:{marginTop:"20px"},children:"Connect"}),i.jsx(ut,{orientation:"center",children:"Or connect with"}),i.jsx(ae,{type:"secondary",long:!0,onClick:()=>a(n==="token"?"user":"token"),style:{marginTop:"20px"},children:n==="token"?"Username and password":"API Token"})]}),i.jsxs("div",{style:{display:"flex",marginTop:"40px"},children:[i.jsx($.Text,{disabled:!0,children:"Need more information?"}),i.jsx(ts,{href:"https://miniflux.app/docs/api.html#authentication",style:{fontWeight:"500"},children:"Go to Miniflux official website"})]})]})})})},ld=({children:e})=>Vr()?i.jsx(i.Fragment,{children:e}):i.jsx(Za,{to:"/login"}),cd=()=>i.jsx(lr,{children:i.jsx(cr,{info:{from:"starred",id:""},getEntries:si})}),ud=()=>{const e=async()=>{const t=await zr(0,"unread"),r=t.data.entries.map(n=>n.id);if(t.data.total>r.length){const n=t.data.total-r.length,a=Math.ceil(n/100)*100,o=await zr(r.length,"unread",a);r.push(...o.data.entries.map(l=>l.id))}return ai(r,"read")};return i.jsx(lr,{children:i.jsx(cr,{info:{from:"today",id:""},getEntries:zr,markAllAsRead:e})})},dd=de("homePage"),hd=[{path:"/all",element:i.jsx(ed,{})},{path:"/today",element:i.jsx(ud,{})},{path:"/starred",element:i.jsx(cd,{})},{path:"/history",element:i.jsx(ad,{})},{path:"/group/:id",element:i.jsx(nd,{})},{path:"/feed/:id",element:i.jsx(rd,{})}],fo=rs([{path:"/",element:i.jsx(ld,{children:i.jsx(mc,{})}),errorElement:i.jsx(td,{}),children:[...hd,{index:!0,element:i.jsx(Za,{to:`/${dd}`,replace:!0})}]},{path:"/login",element:i.jsx(sd,{})}]);ns.createRoot(document.getElementById("root")).render(i.jsx(as,{locale:is,children:i.jsx(os,{router:fo})}))});export default fd();
