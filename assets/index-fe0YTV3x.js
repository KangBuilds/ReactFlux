var Rc=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);import{a as ie,g as kc,b as Mc,u as Ce,c as ge,d as dr,j as a,B as Te,I as Pc,S as Ur,T as Zn,e as po,f as Nc,h as Fc,i as Dc,D as ha,M as $t,k as go,l as Lc,m as Vc,A as vo,n as yo,o as fe,p as Uc,q as $c,r as Bc,s as bo,t as ye,v as Zr,w as qt,x as xo,y as x,z as oe,C as Z,E as Q,F as ct,G as ln,H as ma,J as _e,K as Jn,L as ut,N as Jr,P as Ws,O as qs,Q as wo,R as Me,U as zc,V as Hc,W as Wc,X as xn,Y as qc,Z as Xc,_ as Yc,$ as Gc,a0 as Kc,a1 as Qc,a2 as Zc,a3 as Jc,a4 as Eo,a5 as $r,a6 as eu,a7 as tu,a8 as yi,a9 as nu,aa as ru,ab as So,ac as su,ad as Co,ae as To,af as bi,ag as iu,ah as au,ai as ou,aj as lu,ak as cu,al as uu,am as er,an as du,ao as fu,ap as hu,aq as mu,ar as pa,as as _o,at as pu,au as gu,av as vu,aw as ga,ax as yu,ay as jo,az as bu,aA as xu,aB as wu,aC as Eu,aD as Su}from"./vendor-iOojE3qS.js";var Yp=Rc((Qp,pr)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();const Ao=(e,t)=>{const r=ie((()=>{const s=localStorage.getItem(e);return s!==null?JSON.parse(s):t})());return ie(s=>s(r),(s,i,l)=>{const o=typeof l=="function"?l(s(r)):l;i(r,o),localStorage.setItem(e,JSON.stringify(o))})},Io=(e,t)=>{const n=ie({refresh:null,value:null});return ie(r=>{const{refresh:s,value:i}=r(n),l=r(e);return i!==null&&s===l?i:t(r)},(r,s,i)=>{let l;const{refresh:o,value:c}=r(n),u=r(e);typeof i=="function"?l=i(c!==null&&o===u?c:t(r)):l=i,s(n,{refresh:u,value:l})})},Br={articleWidth:90,fontSize:1.05,homePage:"all",layout:"large",markReadOnScroll:!1,orderBy:"created_at",orderDirection:"desc",pageSize:100,showAllFeeds:!1,showFeedIcon:!0,showStatus:"all",theme:"light",themeColor:"Blue"},Rt=e=>{const t=JSON.parse(localStorage.getItem("config"))??{};return Object.hasOwn(t,e)?t[e]:Object.hasOwn(Br,e)?Br[e]:null},Oe=Ao("config",Br),Xs={Red:{light:"#F53F3F",dark:"#F76965"},Orange:{light:"#F77234",dark:"#F9925A"},Green:{light:"#00B42A",dark:"#27C346"},Blue:{light:"#165DFF",dark:"#3C7EFF"},Purple:{light:"#722ED1",dark:"#8E51DA"}},Ys=e=>{const t=Xs[e]||Xs.Blue,n=window.matchMedia("(prefers-color-scheme: dark)").matches,r=Rt("theme");return(r==="system"?n:r==="dark")?t.dark:t.light},Oo=e=>{kc(Ys(e),{list:!0}).map(Mc).forEach((n,r)=>{document.body.style.setProperty(`--primary-${r+1}`,n)})},xi=Ao("auth",{server:"",token:"",username:"",password:""}),Cu=ie(window.innerWidth<=992),Ro=()=>{const[e,t]=Ce(Cu);return{collapsed:e,toggleCollapsed:()=>t(r=>!r)}},es=()=>{const e=ge(Oe);return{updateConfig:n=>{e(r=>({...r,...n}))}}},Tu=ie(!1),_u=ie(!1),wi=()=>{const[e,t]=Ce(Tu),[n,r]=Ce(_u);return{addFeedModalVisible:e,setAddFeedModalVisible:t,settingsModalVisible:n,setSettingsModalVisible:r}},ju=()=>{const e=dr(),{setAddFeedModalVisible:t,setSettingsModalVisible:n}=wi(),{toggleCollapsed:r}=Ro(),[s,i]=Ce(Oe),l=ge(xi),{showAllFeeds:o,theme:c}=s,{updateConfig:u}=es(),d=()=>{u({showAllFeeds:!o})},f=()=>{u({theme:c==="light"?"dark":"light"})},p=()=>{l({}),i(Br),document.body.removeAttribute("arco-theme"),Oo("Blue"),e("/login"),fe.success("Logout successful")},w=(h=>{switch(h){case"dark":return a.jsx(Bc,{});case"system":return a.jsx($c,{});default:return a.jsx(Uc,{})}})(c);return a.jsxs("div",{className:"header",children:[a.jsx("div",{className:"brand",children:a.jsx(Te,{className:"trigger",onClick:r,shape:"circle",size:"small",children:a.jsx(Pc,{})})}),a.jsx("div",{className:"button-group",children:a.jsxs(Ur,{size:16,children:[a.jsx(Zn,{content:"Add a feed",mini:!0,children:a.jsx(Te,{shape:"circle",size:"small",type:"primary",icon:a.jsx(po,{}),onClick:()=>t(!0)})}),a.jsx(Zn,{content:o?"Hide some feeds":"Show all feeds",mini:!0,children:a.jsx(Te,{shape:"circle",size:"small",icon:o?a.jsx(Nc,{}):a.jsx(Fc,{}),onClick:d})}),a.jsx(Te,{shape:"circle",size:"small",icon:a.jsx(Dc,{}),onClick:()=>window.open("https://github.com/electh/ReactFlux","_blank")}),a.jsx(ha,{droplist:a.jsx($t,{defaultSelectedKeys:[c],className:"theme-menu",children:["light","dark","system"].map(h=>a.jsxs($t.Item,{className:"theme-menu-item",onClick:()=>u({theme:h}),children:[h.charAt(0).toUpperCase()+h.slice(1),c===h&&a.jsx(go,{style:{marginLeft:8}})]},h))}),trigger:"hover",position:"bottom",children:a.jsx(Te,{icon:w,shape:"circle",size:"small",onClick:f})}),a.jsx(ha,{droplist:a.jsxs($t,{children:[a.jsxs($t.Item,{onClick:()=>n(!0),children:[a.jsx(Lc,{className:"icon-right"}),"Settings"]},"0"),a.jsxs($t.Item,{onClick:p,children:[a.jsx(Vc,{className:"icon-right"}),"Logout"]},"1")]}),trigger:"click",position:"br",children:a.jsx(vo,{size:28,style:{cursor:"pointer"},children:a.jsx(yo,{})})})]})})]})},Au=()=>JSON.parse(localStorage.getItem("auth"))??{},Ei=e=>{const{server:t,token:n,username:r,password:s}=e;return t&&(n||r&&s)},we=bo.create({timeout:3e3,retry:3,retryDelay:1e3});we.interceptors.request.use(e=>{const t=Au(),{server:n,token:r,username:s,password:i}=t;return Ei(t)?(e.baseURL=n,r?e.headers["X-Auth-Token"]=r:e.auth={username:s,password:i},e):Promise.reject(new Error("Invalid auth"))},e=>Promise.reject(e));const Iu=async e=>{const{config:t}=e;return!(t!=null&&t.retry)||(t.__retryCount=t.__retryCount??0,t.__retryCount>=t.retry)?Promise.reject(e):(t.__retryCount+=1,await new Promise(r=>{setTimeout(()=>{r()},t.retryDelay??1e3)}),we(t))},Ou=async e=>{var n,r,s;const t=((r=(n=e.response)==null?void 0:n.data)==null?void 0:r.error_message)??e.message;return console.log(t),((s=e.response)==null?void 0:s.status)===401&&(localStorage.removeItem("auth"),await Ic.navigate("/login")),Promise.reject(e)};we.interceptors.response.use(e=>e,async e=>{try{return await Iu(e)}catch(t){return Ou(t)}});const Ru=async()=>we.get("/v1/categories"),ku=async e=>we.post("/v1/categories",{title:e}),Mu=async e=>we.delete(`/v1/categories/${e}`),Pu=async(e,t,n=!1)=>{const r={title:t,hide_globally:n?"on":void 0};return we.put(`/v1/categories/${e}`,r)};var ko={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(ye,function(){return function(n,r,s){n=n||{};var i=r.prototype,l={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function o(u,d,f,p){return i.fromToBase(u,d,f,p)}s.en.relativeTime=l,i.fromToBase=function(u,d,f,p,S){for(var w,h,y,g=f.$locale().relativeTime||l,v=n.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],E=v.length,T=0;T<E;T+=1){var C=v[T];C.d&&(w=p?s(u).diff(f,C.d,!0):f.diff(u,C.d,!0));var j=(n.rounding||Math.round)(Math.abs(w));if(y=w>0,j<=C.r||!C.r){j<=1&&T>0&&(C=v[T-1]);var N=g[C.l];S&&(j=S(""+j)),h=typeof N=="string"?N.replace("%d",j):N(j,d,C.l,y);break}}if(d)return h;var F=y?g.future:g.past;return typeof F=="function"?F(h):F.replace("%s",h)},i.to=function(u,d){return o(u,d,this,!0)},i.from=function(u,d){return o(u,d,this)};var c=function(u){return u.$u?s.utc():s()};i.toNow=function(u){return this.to(c(this),u)},i.fromNow=function(u){return this.from(c(this),u)}}})})(ko);var Nu=ko.exports;const Fu=Zr(Nu);var Mo={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(ye,function(){var n="minute",r=/[+-]\d\d(?::?\d\d)?/g,s=/([+-]|\d\d)/g;return function(i,l,o){var c=l.prototype;o.utc=function(h){var y={date:h,utc:!0,args:arguments};return new l(y)},c.utc=function(h){var y=o(this.toDate(),{locale:this.$L,utc:!0});return h?y.add(this.utcOffset(),n):y},c.local=function(){return o(this.toDate(),{locale:this.$L,utc:!1})};var u=c.parse;c.parse=function(h){h.utc&&(this.$u=!0),this.$utils().u(h.$offset)||(this.$offset=h.$offset),u.call(this,h)};var d=c.init;c.init=function(){if(this.$u){var h=this.$d;this.$y=h.getUTCFullYear(),this.$M=h.getUTCMonth(),this.$D=h.getUTCDate(),this.$W=h.getUTCDay(),this.$H=h.getUTCHours(),this.$m=h.getUTCMinutes(),this.$s=h.getUTCSeconds(),this.$ms=h.getUTCMilliseconds()}else d.call(this)};var f=c.utcOffset;c.utcOffset=function(h,y){var g=this.$utils().u;if(g(h))return this.$u?0:g(this.$offset)?f.call(this):this.$offset;if(typeof h=="string"&&(h=function(C){C===void 0&&(C="");var j=C.match(r);if(!j)return null;var N=(""+j[0]).match(s)||["-",0,0],F=N[0],A=60*+N[1]+ +N[2];return A===0?0:F==="+"?A:-A}(h),h===null))return this;var v=Math.abs(h)<=16?60*h:h,E=this;if(y)return E.$offset=v,E.$u=h===0,E;if(h!==0){var T=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(E=this.local().add(v+T,n)).$offset=v,E.$x.$localOffset=T}else E=this.utc();return E};var p=c.format;c.format=function(h){var y=h||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return p.call(this,y)},c.valueOf=function(){var h=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*h},c.isUTC=function(){return!!this.$u},c.toISOString=function(){return this.toDate().toISOString()},c.toString=function(){return this.toDate().toUTCString()};var S=c.toDate;c.toDate=function(h){return h==="s"&&this.$offset?o(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():S.call(this)};var w=c.diff;c.diff=function(h,y,g){if(h&&this.$u===h.$u)return w.call(this,h,y,g);var v=this.local(),E=o(h).local();return w.call(v,E,y,g)}}})})(Mo);var Du=Mo.exports;const Lu=Zr(Du);qt.extend(Fu);qt.extend(Lu);const Vu=e=>{const t=qt(e),n=qt();return t.isAfter(n.subtract(24,"hour"))},Uu=()=>qt().subtract(24,"hour").unix(),Po=e=>{const t=qt(e).fromNow();return t==="a few seconds ago"?"just now":t},va=()=>qt().utc().format("YYYY-MM-DDTHH:mm:ss.SSSSSSZ"),Si=async(e,t)=>we.put("/v1/entries",{entry_ids:e,status:t}),$u=async e=>we.put(`/v1/entries/${e}/bookmark`),Bu=async e=>we.get(`/v1/entries/${e}/fetch-content`),On=(e,t={})=>{const{baseUrl:n,orderField:r,offset:s,limit:i,status:l}=e,o=Rt("orderDirection"),c=new URLSearchParams({order:r,direction:o,offset:s,limit:i,...t});return l&&c.append("status",l),`${n}?${c.toString()}`},zu=async(e=0,t=null)=>{const n=Rt("orderBy"),r=Rt("pageSize"),i=On({baseUrl:"/v1/entries",orderField:n,offset:e,limit:r,status:t});return we.get(i)},Fr=async(e=0,t=null,n=null)=>{const r=Rt("orderBy"),s=n??Rt("pageSize"),i=Uu(),c=On({baseUrl:"/v1/entries",orderField:r,offset:e,limit:s,status:t},{published_after:i});return we.get(c)},No=async(e=0,t=null)=>{const n=Rt("pageSize"),i=On({baseUrl:"/v1/entries",orderField:"changed_at",offset:e,limit:n,status:t},{starred:"true"});return we.get(i)},Fo=async(e=0)=>{const t=Rt("pageSize"),r=On({baseUrl:"/v1/entries",orderField:"changed_at",offset:e,limit:t,status:"read"});return we.get(r)},Hu=async()=>we.get("/v1/feeds"),Wu=async()=>we.get("/v1/feeds/counters"),qu=async e=>we.get(`/v1/feeds/${e}/icon`),Xu=async e=>we.put(`/v1/feeds/${e}/refresh`),Yu=async()=>we.put("/v1/feeds/refresh"),Gu=async(e,t,n)=>we.post("/v1/feeds",{feed_url:e,category_id:t,crawler:n}),Ku=async e=>we.delete(`/v1/feeds/${e}`),Qu=async(e,t)=>{const{url:n,title:r,categoryId:s,isFullText:i,hidden:l=!1}=t;return we.put(`/v1/feeds/${e}`,{feed_url:n,title:r,category_id:s,crawler:i,hide_globally:l})},Zu=async()=>we.get("/v1/me"),Do=e=>{const t=new URL(e);return`${t.protocol}//${t.hostname}`},Ci=ie(!1),Ju=ie({}),ts=ie({}),Ti=ie(0),_i=ie(0),ji=ie(0),Lo=ie(0),Vo=ie([]),ns=Io(Lo,e=>{const t=e(ts);return e(Vo).map(r=>({...r,unreadCount:t[r.id]??0}))}),Ai=ie(e=>e(ns).sort((n,r)=>n.title.localeCompare(r.title,"en"))),Uo=ie(0),$o=ie([]),ed=Io(Uo,e=>{const t=e(ns);return e($o).map(r=>{const s=t.filter(i=>i.category.id===r.id);return{...r,unreadCount:s.reduce((i,l)=>i+l.unreadCount,0),feedCount:s.length}})}),fr=ie(e=>e(ed).sort((n,r)=>n.title.localeCompare(r.title,"en"))),Bo=ie(e=>e(fr).filter(n=>n.hide_globally).map(n=>n.id)),rs=ie(e=>{const t=e(Bo);return e(Ai).filter(r=>r.hide_globally||t.includes(r.category.id)).map(r=>r.id)}),zo=ie(e=>{const{showAllFeeds:t}=e(Oe),n=e(rs);return e(Ai).filter(s=>t||!n.includes(s.id))}),Ho=ie(e=>e(zo).reduce((n,r)=>{xo(r.site_url)||(r.site_url=Do(r.feed_url));const{id:s}=r.category;return n[s]||(n[s]=[]),n[s].push(r),n},{})),td=ie(e=>{const t=e(ts),n=e(zo);return Object.entries(t).reduce((r,[s,i])=>n.some(l=>l.id===Number(s))?r+i:r,0)});var Wo={exports:{}},qo={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jn=x;function nd(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var rd=typeof Object.is=="function"?Object.is:nd,sd=jn.useState,id=jn.useEffect,ad=jn.useLayoutEffect,od=jn.useDebugValue;function ld(e,t){var n=t(),r=sd({inst:{value:n,getSnapshot:t}}),s=r[0].inst,i=r[1];return ad(function(){s.value=n,s.getSnapshot=t,js(s)&&i({inst:s})},[e,n,t]),id(function(){return js(s)&&i({inst:s}),e(function(){js(s)&&i({inst:s})})},[e]),od(n),n}function js(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!rd(e,n)}catch{return!0}}function cd(e,t){return t()}var ud=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?cd:ld;qo.useSyncExternalStore=jn.useSyncExternalStore!==void 0?jn.useSyncExternalStore:ud;Wo.exports=qo;var Xo=Wo.exports;const Bt=()=>{},Ue=Bt(),As=Object,X=e=>e===Ue,nt=e=>typeof e=="function",kt=(e,t)=>({...e,...t}),dd=e=>nt(e.then),Sr=new WeakMap;let fd=0;const tr=e=>{const t=typeof e,n=e&&e.constructor,r=n==Date;let s,i;if(As(e)===e&&!r&&n!=RegExp){if(s=Sr.get(e),s)return s;if(s=++fd+"~",Sr.set(e,s),n==Array){for(s="@",i=0;i<e.length;i++)s+=tr(e[i])+",";Sr.set(e,s)}if(n==As){s="#";const l=As.keys(e).sort();for(;!X(i=l.pop());)X(e[i])||(s+=i+":"+tr(e[i])+",");Sr.set(e,s)}}else s=r?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return s},yt=new WeakMap,Is={},Cr={},Ii="undefined",ss=typeof window!=Ii,Gs=typeof document!=Ii,hd=()=>ss&&typeof window.requestAnimationFrame!=Ii,Oi=(e,t)=>{const n=yt.get(e);return[()=>!X(t)&&e.get(t)||Is,r=>{if(!X(t)){const s=e.get(t);t in Cr||(Cr[t]=s),n[5](t,kt(s,r),s||Is)}},n[6],()=>!X(t)&&t in Cr?Cr[t]:!X(t)&&e.get(t)||Is]};let Ks=!0;const md=()=>Ks,[Qs,Zs]=ss&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[Bt,Bt],pd=()=>{const e=Gs&&document.visibilityState;return X(e)||e!=="hidden"},gd=e=>(Gs&&document.addEventListener("visibilitychange",e),Qs("focus",e),()=>{Gs&&document.removeEventListener("visibilitychange",e),Zs("focus",e)}),vd=e=>{const t=()=>{Ks=!0,e()},n=()=>{Ks=!1};return Qs("online",t),Qs("offline",n),()=>{Zs("online",t),Zs("offline",n)}},yd={isOnline:md,isVisible:pd},bd={initFocus:gd,initReconnect:vd},zr=!oe.useId,cn=!ss||"Deno"in window,Yo=e=>hd()?window.requestAnimationFrame(e):setTimeout(e,1),Cn=cn?x.useEffect:x.useLayoutEffect,Os=typeof navigator<"u"&&navigator.connection,ya=!cn&&Os&&(["slow-2g","2g"].includes(Os.effectiveType)||Os.saveData),is=e=>{if(nt(e))try{e=e()}catch{e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?tr(e):"",[e,t]};let xd=0;const Hr=()=>++xd,Go=0,Ko=1,Qo=2,wd=3;var bt={__proto__:null,ERROR_REVALIDATE_EVENT:wd,FOCUS_EVENT:Go,MUTATE_EVENT:Qo,RECONNECT_EVENT:Ko};async function Ri(...e){const[t,n,r,s]=e,i=kt({populateCache:!0,throwOnError:!0},typeof s=="boolean"?{revalidate:s}:s||{});let l=i.populateCache;const o=i.rollbackOnError;let c=i.optimisticData;const u=p=>typeof o=="function"?o(p):o!==!1,d=i.throwOnError;if(nt(n)){const p=n,S=[],w=t.keys();for(const h of w)!/^\$(inf|sub)\$/.test(h)&&p(t.get(h)._k)&&S.push(h);return Promise.all(S.map(f))}return f(n);async function f(p){const[S]=is(p);if(!S)return;const[w,h]=Oi(t,S),[y,g,v,E]=yt.get(t),T=()=>{const se=y[S];return(nt(i.revalidate)?i.revalidate(w().data,p):i.revalidate!==!1)&&(delete v[S],delete E[S],se&&se[0])?se[0](Qo).then(()=>w().data):w().data};if(e.length<3)return T();let C=r,j;const N=Hr();g[S]=[N,0];const F=!X(c),A=w(),U=A.data,W=A._c,le=X(W)?U:W;if(F&&(c=nt(c)?c(le,U):c,h({data:c,_c:le})),nt(C))try{C=C(le)}catch(se){j=se}if(C&&dd(C))if(C=await C.catch(se=>{j=se}),N!==g[S][0]){if(j)throw j;return C}else j&&F&&u(j)&&(l=!0,h({data:le,_c:Ue}));if(l&&!j)if(nt(l)){const se=l(C,le);h({data:se,error:Ue,_c:Ue})}else h({data:C,error:Ue,_c:Ue});if(g[S][1]=Hr(),Promise.resolve(T()).then(()=>{h({_c:Ue})}),j){if(d)throw j;return}return C}}const ba=(e,t)=>{for(const n in e)e[n][0]&&e[n][0](t)},Ed=(e,t)=>{if(!yt.has(e)){const n=kt(bd,t),r={},s=Ri.bind(Ue,e);let i=Bt;const l={},o=(d,f)=>{const p=l[d]||[];return l[d]=p,p.push(f),()=>p.splice(p.indexOf(f),1)},c=(d,f,p)=>{e.set(d,f);const S=l[d];if(S)for(const w of S)w(f,p)},u=()=>{if(!yt.has(e)&&(yt.set(e,[r,{},{},{},s,c,o]),!cn)){const d=n.initFocus(setTimeout.bind(Ue,ba.bind(Ue,r,Go))),f=n.initReconnect(setTimeout.bind(Ue,ba.bind(Ue,r,Ko)));i=()=>{d&&d(),f&&f(),yt.delete(e)}}};return u(),[e,s,u,i]}return[e,yt.get(e)[4]]},Sd=(e,t,n,r,s)=>{const i=n.errorRetryCount,l=s.retryCount,o=~~((Math.random()+.5)*(1<<(l<8?l:8)))*n.errorRetryInterval;!X(i)&&l>i||setTimeout(r,o,s)},Cd=(e,t)=>tr(e)==tr(t),[Zo,Td]=Ed(new Map),_d=kt({onLoadingSlow:Bt,onSuccess:Bt,onError:Bt,onErrorRetry:Sd,onDiscarded:Bt,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:ya?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:ya?5e3:3e3,compare:Cd,isPaused:()=>!1,cache:Zo,mutate:Td,fallback:{}},yd),jd=(e,t)=>{const n=kt(e,t);if(t){const{use:r,fallback:s}=e,{use:i,fallback:l}=t;r&&i&&(n.use=r.concat(i)),s&&l&&(n.fallback=kt(s,l))}return n},Ad=x.createContext({}),Id="$inf$",Jo=ss&&window.__SWR_DEVTOOLS_USE__,Od=Jo?window.__SWR_DEVTOOLS_USE__:[],Rd=()=>{Jo&&(window.__SWR_DEVTOOLS_REACT__=oe)},el=e=>nt(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(e[1]===null?e[2]:e[1])||{}],kd=()=>kt(_d,x.useContext(Ad)),Md=e=>(t,n,r)=>e(t,n&&((...i)=>{const[l]=is(t),[,,,o]=yt.get(Zo);if(l.startsWith(Id))return n(...i);const c=o[l];return X(c)?n(...i):(delete o[l],c)}),r),Pd=Od.concat(Md),tl=e=>function(...n){const r=kd(),[s,i,l]=el(n),o=jd(r,l);let c=e;const{use:u}=o,d=(u||[]).concat(Pd);for(let f=d.length;f--;)c=d[f](c);return c(s,i||o.fetcher||null,o)},nl=(e,t,n)=>{const r=t[e]||(t[e]=[]);return r.push(n),()=>{const s=r.indexOf(n);s>=0&&(r[s]=r[r.length-1],r.pop())}},Nd=(e,t)=>(...n)=>{const[r,s,i]=el(n),l=(i.use||[]).concat(t);return e(r,s,{...i,use:l})};Rd();const xa=oe.use||(e=>{if(e.status==="pending")throw e;if(e.status==="fulfilled")return e.value;throw e.status==="rejected"?e.reason:(e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e)}),Rs={dedupe:!0},Fd=(e,t,n)=>{const{cache:r,compare:s,suspense:i,fallbackData:l,revalidateOnMount:o,revalidateIfStale:c,refreshInterval:u,refreshWhenHidden:d,refreshWhenOffline:f,keepPreviousData:p}=n,[S,w,h,y]=yt.get(r),[g,v]=is(e),E=x.useRef(!1),T=x.useRef(!1),C=x.useRef(g),j=x.useRef(t),N=x.useRef(n),F=()=>N.current,A=()=>F().isVisible()&&F().isOnline(),[U,W,le,se]=Oi(r,g),ee=x.useRef({}).current,pe=X(l)?n.fallback[g]:l,be=(R,k)=>{for(const P in ee){const I=P;if(I==="data"){if(!s(R[I],k[I])&&(!X(R[I])||!s($,k[I])))return!1}else if(k[I]!==R[I])return!1}return!0},Re=x.useMemo(()=>{const R=!g||!t?!1:X(o)?F().isPaused()||i?!1:X(c)?!0:c:o,k=Y=>{const K=kt(Y);return delete K._k,R?{isValidating:!0,isLoading:!0,...K}:K},P=U(),I=se(),re=k(P),B=P===I?re:k(I);let D=re;return[()=>{const Y=k(U());return be(Y,D)?(D.data=Y.data,D.isLoading=Y.isLoading,D.isValidating=Y.isValidating,D.error=Y.error,D):(D=Y,Y)},()=>B]},[r,g]),xe=Xo.useSyncExternalStore(x.useCallback(R=>le(g,(k,P)=>{be(P,k)||R()}),[r,g]),Re[0],Re[1]),$e=!E.current,b=S[g]&&S[g].length>0,m=xe.data,M=X(m)?pe:m,L=xe.error,V=x.useRef(M),$=p?X(m)?V.current:m:M,H=b&&!X(L)?!1:$e&&!X(o)?o:F().isPaused()?!1:i?X(M)?!1:c:X(M)||c,z=!!(g&&t&&$e&&H),G=X(xe.isValidating)?z:xe.isValidating,te=X(xe.isLoading)?z:xe.isLoading,q=x.useCallback(async R=>{const k=j.current;if(!g||!k||T.current||F().isPaused())return!1;let P,I,re=!0;const B=R||{},D=!h[g]||!B.dedupe,Y=()=>zr?!T.current&&g===C.current&&E.current:g===C.current,K={isValidating:!1,isLoading:!1},Pe=()=>{W(K)},Be=()=>{const me=h[g];me&&me[1]===I&&delete h[g]},Ne={isValidating:!0};X(U().data)&&(Ne.isLoading=!0);try{if(D&&(W(Ne),n.loadingTimeout&&X(U().data)&&setTimeout(()=>{re&&Y()&&F().onLoadingSlow(g,n)},n.loadingTimeout),h[g]=[k(v),Hr()]),[P,I]=h[g],P=await P,D&&setTimeout(Be,n.dedupingInterval),!h[g]||h[g][1]!==I)return D&&Y()&&F().onDiscarded(g),!1;K.error=Ue;const me=w[g];if(!X(me)&&(I<=me[0]||I<=me[1]||me[1]===0))return Pe(),D&&Y()&&F().onDiscarded(g),!1;const Ee=U().data;K.data=s(Ee,P)?Ee:P,D&&Y()&&F().onSuccess(P,g,n)}catch(me){Be();const Ee=F(),{shouldRetryOnError:Ae}=Ee;Ee.isPaused()||(K.error=me,D&&Y()&&(Ee.onError(me,g,Ee),(Ae===!0||nt(Ae)&&Ae(me))&&(!F().revalidateOnFocus||!F().revalidateOnReconnect||A())&&Ee.onErrorRetry(me,g,Ee,Le=>{const ke=S[g];ke&&ke[0]&&ke[0](bt.ERROR_REVALIDATE_EVENT,Le)},{retryCount:(B.retryCount||0)+1,dedupe:!0})))}return re=!1,Pe(),!0},[g,r]),ce=x.useCallback((...R)=>Ri(r,C.current,...R),[]);if(Cn(()=>{j.current=t,N.current=n,X(m)||(V.current=m)}),Cn(()=>{if(!g)return;const R=q.bind(Ue,Rs);let k=0;const I=nl(g,S,(re,B={})=>{if(re==bt.FOCUS_EVENT){const D=Date.now();F().revalidateOnFocus&&D>k&&A()&&(k=D+F().focusThrottleInterval,R())}else if(re==bt.RECONNECT_EVENT)F().revalidateOnReconnect&&A()&&R();else{if(re==bt.MUTATE_EVENT)return q();if(re==bt.ERROR_REVALIDATE_EVENT)return q(B)}});return T.current=!1,C.current=g,E.current=!0,W({_k:v}),H&&(X(M)||cn?R():Yo(R)),()=>{T.current=!0,I()}},[g]),Cn(()=>{let R;function k(){const I=nt(u)?u(U().data):u;I&&R!==-1&&(R=setTimeout(P,I))}function P(){!U().error&&(d||F().isVisible())&&(f||F().isOnline())?q(Rs).then(k):k()}return k(),()=>{R&&(clearTimeout(R),R=-1)}},[u,d,f,g]),x.useDebugValue($),i&&X(M)&&g){if(!zr&&cn)throw new Error("Fallback data is required when using suspense in SSR.");j.current=t,N.current=n,T.current=!1;const R=y[g];if(!X(R)){const k=ce(R);xa(k)}if(X(L)){const k=q(Rs);X($)||(k.status="fulfilled",k.value=!0),xa(k)}else throw L}return{mutate:ce,get data(){return ee.data=!0,$},get error(){return ee.error=!0,L},get isValidating(){return ee.isValidating=!0,G},get isLoading(){return ee.isLoading=!0,te}}},Bn=tl(Fd),wa=oe.use||(e=>{if(e.status==="pending")throw e;if(e.status==="fulfilled")return e.value;throw e.status==="rejected"?e.reason:(e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e)}),ks={dedupe:!0},Dd=(e,t,n)=>{const{cache:r,compare:s,suspense:i,fallbackData:l,revalidateOnMount:o,revalidateIfStale:c,refreshInterval:u,refreshWhenHidden:d,refreshWhenOffline:f,keepPreviousData:p}=n,[S,w,h,y]=yt.get(r),[g,v]=is(e),E=x.useRef(!1),T=x.useRef(!1),C=x.useRef(g),j=x.useRef(t),N=x.useRef(n),F=()=>N.current,A=()=>F().isVisible()&&F().isOnline(),[U,W,le,se]=Oi(r,g),ee=x.useRef({}).current,pe=X(l)?n.fallback[g]:l,be=(R,k)=>{for(const P in ee){const I=P;if(I==="data"){if(!s(R[I],k[I])&&(!X(R[I])||!s($,k[I])))return!1}else if(k[I]!==R[I])return!1}return!0},Re=x.useMemo(()=>{const R=!g||!t?!1:X(o)?F().isPaused()||i?!1:X(c)?!0:c:o,k=Y=>{const K=kt(Y);return delete K._k,R?{isValidating:!0,isLoading:!0,...K}:K},P=U(),I=se(),re=k(P),B=P===I?re:k(I);let D=re;return[()=>{const Y=k(U());return be(Y,D)?(D.data=Y.data,D.isLoading=Y.isLoading,D.isValidating=Y.isValidating,D.error=Y.error,D):(D=Y,Y)},()=>B]},[r,g]),xe=Xo.useSyncExternalStore(x.useCallback(R=>le(g,(k,P)=>{be(P,k)||R()}),[r,g]),Re[0],Re[1]),$e=!E.current,b=S[g]&&S[g].length>0,m=xe.data,M=X(m)?pe:m,L=xe.error,V=x.useRef(M),$=p?X(m)?V.current:m:M,H=b&&!X(L)?!1:$e&&!X(o)?o:F().isPaused()?!1:i?X(M)?!1:c:X(M)||c,z=!!(g&&t&&$e&&H),G=X(xe.isValidating)?z:xe.isValidating,te=X(xe.isLoading)?z:xe.isLoading,q=x.useCallback(async R=>{const k=j.current;if(!g||!k||T.current||F().isPaused())return!1;let P,I,re=!0;const B=R||{},D=!h[g]||!B.dedupe,Y=()=>zr?!T.current&&g===C.current&&E.current:g===C.current,K={isValidating:!1,isLoading:!1},Pe=()=>{W(K)},Be=()=>{const me=h[g];me&&me[1]===I&&delete h[g]},Ne={isValidating:!0};X(U().data)&&(Ne.isLoading=!0);try{if(D&&(W(Ne),n.loadingTimeout&&X(U().data)&&setTimeout(()=>{re&&Y()&&F().onLoadingSlow(g,n)},n.loadingTimeout),h[g]=[k(v),Hr()]),[P,I]=h[g],P=await P,D&&setTimeout(Be,n.dedupingInterval),!h[g]||h[g][1]!==I)return D&&Y()&&F().onDiscarded(g),!1;K.error=Ue;const me=w[g];if(!X(me)&&(I<=me[0]||I<=me[1]||me[1]===0))return Pe(),D&&Y()&&F().onDiscarded(g),!1;const Ee=U().data;K.data=s(Ee,P)?Ee:P,D&&Y()&&F().onSuccess(P,g,n)}catch(me){Be();const Ee=F(),{shouldRetryOnError:Ae}=Ee;Ee.isPaused()||(K.error=me,D&&Y()&&(Ee.onError(me,g,Ee),(Ae===!0||nt(Ae)&&Ae(me))&&(!F().revalidateOnFocus||!F().revalidateOnReconnect||A())&&Ee.onErrorRetry(me,g,Ee,Le=>{const ke=S[g];ke&&ke[0]&&ke[0](bt.ERROR_REVALIDATE_EVENT,Le)},{retryCount:(B.retryCount||0)+1,dedupe:!0})))}return re=!1,Pe(),!0},[g,r]),ce=x.useCallback((...R)=>Ri(r,C.current,...R),[]);if(Cn(()=>{j.current=t,N.current=n,X(m)||(V.current=m)}),Cn(()=>{if(!g)return;const R=q.bind(Ue,ks);let k=0;const I=nl(g,S,(re,B={})=>{if(re==bt.FOCUS_EVENT){const D=Date.now();F().revalidateOnFocus&&D>k&&A()&&(k=D+F().focusThrottleInterval,R())}else if(re==bt.RECONNECT_EVENT)F().revalidateOnReconnect&&A()&&R();else{if(re==bt.MUTATE_EVENT)return q();if(re==bt.ERROR_REVALIDATE_EVENT)return q(B)}});return T.current=!1,C.current=g,E.current=!0,W({_k:v}),H&&(X(M)||cn?R():Yo(R)),()=>{T.current=!0,I()}},[g]),Cn(()=>{let R;function k(){const I=nt(u)?u(U().data):u;I&&R!==-1&&(R=setTimeout(P,I))}function P(){!U().error&&(d||F().isVisible())&&(f||F().isOnline())?q(ks).then(k):k()}return k(),()=>{R&&(clearTimeout(R),R=-1)}},[u,d,f,g]),x.useDebugValue($),i&&X(M)&&g){if(!zr&&cn)throw new Error("Fallback data is required when using suspense in SSR.");j.current=t,N.current=n,T.current=!1;const R=y[g];if(!X(R)){const k=ce(R);wa(k)}if(X(L)){const k=q(ks);X($)||(k.status="fulfilled",k.value=!0),wa(k)}else throw L}return{mutate:ce,get data(){return ee.data=!0,$},get error(){return ee.error=!0,L},get isValidating(){return ee.isValidating=!0,G},get isLoading(){return ee.isLoading=!0,te}}},Ld=tl(Dd),Vd=e=>(t,n,r)=>(r.revalidateOnFocus=!1,r.revalidateIfStale=!1,r.revalidateOnReconnect=!1,e(t,n,r)),Ud=Nd(Ld,Vd),rl=(e,t,n)=>r=>{const s=ge(e),i=ge(t),{data:l}=Bn(r,n);return x.useEffect(()=>{l&&(s(l.data),i(o=>o+1))},[l,s,i]),l},$d=rl(Vo,Lo,()=>Hu()),Bd=rl($o,Uo,()=>Ru()),zd=e=>Ud(`/v1/feeds/${e}/icon`,()=>qu(e)),ki=()=>{const[e,t]=Ce(Ci),n=ge(ts),r=ge(Ti),s=ge(_i),i=ge(ji),l=Bn("/v1/feeds/counters",Wu).data,o=Bn("/v1/entries?status=unread",()=>Fr(0,"unread")).data,c=Bn("/v1/entries?starred=true",No).data,u=Bn("/v1/entries?status=read",Fo).data,d=$d("/v1/feeds"),f=Bd("/v1/categories");return x.useEffect(()=>{l&&n(l.data.unreads??{}),o&&r(o.data.total??0),c&&s(c.data.total??0),u&&i(u.data.total??0),!e&&[l,o,c,u,d,f].every(Boolean)&&t(!0)},[e,t,n,r,s,i,l,o,c,u,d,f]),{loadData:()=>t(!1)}},on=(e,t)=>e.toLowerCase().includes(t.toLowerCase()),sl=(e,t,n,r)=>r?t==="0"?n==="all"?e.filter(s=>on(s.title,r)):e.filter(s=>on(s.title,r)&&s.status===n):n==="all"?e.filter(s=>on(s.content,r)):e.filter(s=>on(s.content,r)&&s.status===n):e,Wr=(e,t,n,r)=>{const s=i=>n||!r.includes(i.feed.id);return["all","today","category"].includes(t.from)?e.filter(s):e},Hd=()=>{const{updateConfig:e}=es(),t=Z(Oe),{articleWidth:n,fontSize:r,layout:s,showFeedIcon:i,themeColor:l}=t,o=p=>{e({themeColor:p}),Oo(p)},c=p=>{e({layout:p?"small":"large"})},u=p=>{e({showFeedIcon:p})},d=p=>{e({fontSize:p})},f=p=>{e({articleWidth:p})};return a.jsxs(a.Fragment,{children:[a.jsx(Q.Title,{heading:6,style:{marginTop:0},children:"Theme"}),a.jsx(Q.Text,{type:"secondary",children:"Customize your UI theme"}),a.jsxs("div",{className:"setting-row",children:[a.jsxs("div",{children:[a.jsx(Q.Title,{heading:6,style:{marginTop:0},children:"Accent color"}),a.jsx(Q.Text,{type:"secondary",children:"Choose your accent color"})]}),a.jsx("div",{style:{display:"flex"},children:Object.keys(Xs).map(p=>a.jsx(Zn,{content:p,children:a.jsx("button",{type:"button",className:"accent-color-button",style:{backgroundColor:Ys(p),outline:p===l?`1px solid ${Ys(p)}`:"none"},onClick:()=>o(p),onKeyDown:S=>{(S.key==="Enter"||S.key===" ")&&o(p)}})},p))})]}),a.jsx(ct,{}),a.jsxs("div",{className:"setting-row",children:[a.jsxs("div",{children:[a.jsx(Q.Title,{heading:6,style:{marginTop:0},children:"Compact article list"}),a.jsx(Q.Text,{type:"secondary",children:"Use small thumbnail in article list"})]}),a.jsx("div",{children:a.jsx(ln,{checked:s==="small",onChange:p=>c(p)})})]}),a.jsx(ct,{}),a.jsxs("div",{className:"setting-row",children:[a.jsxs("div",{children:[a.jsx(Q.Title,{heading:6,style:{marginTop:0},children:"Show feed icon"}),a.jsx(Q.Text,{type:"secondary",children:"Show feed icon in feed list and article list"})]}),a.jsx("div",{children:a.jsx(ln,{checked:i,onChange:p=>u(p)})})]}),a.jsx(ct,{}),a.jsxs("div",{className:"setting-row",children:[a.jsxs("div",{children:[a.jsx(Q.Title,{heading:6,style:{marginTop:0},children:"Font size"}),a.jsx(Q.Text,{type:"secondary",children:"Adjust article text size"})]}),a.jsx("div",{children:a.jsxs(Ur,{children:[a.jsx(Q.Text,{style:{fontSize:"0.75rem"},children:"A"}),a.jsx(ma,{formatTooltip:p=>`${p}rem`,max:1.25,min:.75,showTicks:!0,step:.05,style:{width:200},value:r,onChange:p=>d(p)}),a.jsx(Q.Text,{style:{fontSize:"1.25rem"},children:"A"})]})})]}),a.jsx(ct,{}),a.jsxs("div",{className:"setting-row",children:[a.jsxs("div",{children:[a.jsx(Q.Title,{heading:6,style:{marginTop:0},children:"Article width"}),a.jsx(Q.Text,{type:"secondary",children:"Adjust article width"})]}),a.jsx("div",{children:a.jsxs(Ur,{children:[a.jsx(Q.Text,{children:"60%"}),a.jsx(ma,{formatTooltip:p=>`${p}%`,max:90,min:60,showTicks:!0,step:10,style:{width:200},value:n,onChange:p=>f(p)}),a.jsx(Q.Text,{children:"90%"})]})})]})]})},Wd=()=>{const e=ge(ns),[t,n]=Ce(fr),[r,s]=x.useState(!1),[i,l]=x.useState(""),[o,c]=x.useState(!1),[u]=_e.useForm(),[d,f]=x.useState({}),p=async()=>{if(i){try{const{data:h}=await ku(i);n(y=>[...y,{...h,feedCount:0}]),fe.success("Category added successfully")}catch{fe.error("Failed to add category")}l(""),s(!1)}},S=async(h,y,g)=>{try{const{data:v}=await Pu(h,y,g);e(E=>E.map(T=>T.category.id===h?{...T,category:{...T.category,title:y}}:T)),n(E=>E.map(T=>T.id===h?{...T,...v}:T)),fe.success("Category updated successfully")}catch{fe.error("Failed to update category")}c(!1),u.resetFields()},w=async h=>{try{(await Mu(h)).status===204?(n(g=>g.filter(v=>v.id!==h)),fe.success("Category deleted successfully")):fe.error("Failed to delete category")}catch{fe.error("Failed to delete category")}};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[t.map(h=>a.jsx(Jn,{className:"tag-style",closable:h.feedCount===0,size:"medium",onClick:()=>{f(h),c(!0),u.setFieldsValue({title:h.title})},onClose:async y=>{y.stopPropagation(),await w(h.id)},children:h.title},h.id)),r?a.jsx(ut,{autoFocus:!0,className:"input-style",onBlur:p,onChange:l,onPressEnter:p,size:"small",value:i}):a.jsx(Jn,{className:"add-category-tag",icon:a.jsx(po,{}),onClick:()=>s(!0),size:"medium",tabIndex:0,children:"Add"})]}),d&&a.jsx(Jr,{className:"modal-style",onOk:u.submit,title:"Edit Category",unmountOnExit:!0,visible:o,onCancel:()=>{c(!1),u.resetFields()},children:a.jsxs(_e,{form:u,layout:"vertical",onSubmit:h=>S(d.id,h.title,h.hidden),labelCol:{style:{flexBasis:90}},wrapperCol:{style:{flexBasis:"calc(100% - 90px)"}},children:[a.jsx(_e.Item,{label:"Title",field:"title",rules:[{required:!0}],children:a.jsx(ut,{placeholder:"Please input category title"})}),a.jsx(_e.Item,{label:"Hidden",field:"hidden",initialValue:d.hide_globally,triggerPropName:"checked",rules:[{type:"boolean"}],children:a.jsx(ln,{})})]})})]})},hr=()=>{const[e,t]=x.useState(window.innerWidth),n=e<=768;return x.useEffect(()=>{const r=()=>t(window.innerWidth);return window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]),{screenWidth:e,isMobileView:n}},Ms=e=>e.slice().sort((t,n)=>n.parsing_error_count-t.parsing_error_count),qd=()=>{const[e,t]=x.useState(!1),[n,r]=x.useState({}),[s]=_e.useForm(),i=Z(Ai),l=ge(ns),[o,c]=x.useState(Ms(i)),u=Z(fr),{isMobileView:d}=hr(),f=o.map(v=>({category:v.category,checked_at:v.checked_at,crawler:v.crawler,feed_url:v.feed_url,key:v.id,parsing_error_count:v.parsing_error_count,title:v.title,hidden:v.hide_globally}));x.useEffect(()=>{c(Ms(i))},[i]);const p=v=>{r(v),t(!0),s.setFieldsValue({category:v.category.id,crawler:v.crawler,title:v.title,url:v.feed_url,hidden:v.hidden})},S=async v=>{try{(await Xu(v.key)).status===204?(fe.success("Refreshed"),l(T=>T.map(C=>C.id===v.key?{...C,parsing_error_count:0,checked_at:va()}:C))):(fe.error("Failed to refresh"),l(T=>T.map(C=>C.id===v.key?{...C,parsing_error_count:C.parsing_error_count+1}:C)))}catch{fe.error("Failed to refresh"),l(T=>T.map(C=>C.id===v.key?{...C,parsing_error_count:C.parsing_error_count+1,checked_at:va()}:C))}},w=async()=>{try{(await Yu()).status===204?(fe.success("Refreshed"),l(E=>E.map(T=>({...T,parsing_error_count:0})))):(fe.error("Failed to refresh"),l(E=>E.map(T=>({...T,parsing_error_count:T.parsing_error_count+1}))))}catch{fe.error("Failed to refresh"),l(E=>E.map(T=>({...T,parsing_error_count:T.parsing_error_count+1})))}},h=async v=>{try{await Ku(v.key),fe.success("Unfollowed"),l(E=>E.filter(T=>T.id!==v.key))}catch{fe.error("Failed to unfollow")}},y=[{title:"Title",dataIndex:"title",sorter:(v,E)=>v.title.localeCompare(E.title,"en"),render:(v,E)=>{const T=E.parsing_error_count,C=T?`⚠️ ${v}`:v,j=a.jsxs("div",{children:[v,T>0&&a.jsxs(a.Fragment,{children:[a.jsx("br",{}),"⚠️ Parsing error count: ",T]})]});return a.jsx(Q.Ellipsis,{expandable:!1,children:a.jsx(Zn,{mini:!0,content:j,children:C})})}},!d&&{title:"Url",dataIndex:"feed_url",sorter:(v,E)=>v.feed_url.localeCompare(E.feed_url,"en"),render:v=>a.jsx(Q.Ellipsis,{expandable:!1,showTooltip:!0,children:v})},{title:"Category",dataIndex:"category.title",sorter:(v,E)=>v.category.title.localeCompare(E.category.title,"en"),render:v=>a.jsx(Q.Ellipsis,{expandable:!1,showTooltip:!0,children:a.jsx(Jn,{children:v})})},!d&&{title:"Checked at",dataIndex:"checked_at",sorter:(v,E)=>v.checked_at.localeCompare(E.checked_at,"en"),render:v=>a.jsx(Q.Ellipsis,{expandable:!1,children:Po(v)})},{title:"Actions",dataIndex:"op",fixed:"right",width:100,render:(v,E)=>a.jsxs(Ur,{children:[a.jsx("button",{"aria-label":"Edit this feed",className:"list-item-action",onClick:()=>p(E),type:"button",children:a.jsx(zc,{})}),a.jsx("button",{"aria-label":"Refresh this feed",className:"list-item-action",onClick:()=>S(E),type:"button",children:a.jsx(qs,{})}),a.jsx(Ws,{position:"left",focusLock:!0,title:"Unfollow？",onOk:async()=>{await h(E)},children:a.jsx("span",{className:"list-item-action",children:a.jsx(Hc,{})})})]})}].filter(Boolean),g=async(v,E)=>{try{const T=await Qu(v,E);l(C=>C.map(j=>j.id===v?{...j,...T.data}:j)),fe.success("Feed updated successfully"),t(!1),s.resetFields()}catch{fe.error("Failed to update feed")}};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[a.jsx("div",{style:{display:"flex",flex:1,justifyContent:"center"},children:a.jsx(ut.Search,{className:"search-input",placeholder:"Search feed title or url",searchButton:!0,onChange:v=>c(Ms(i).filter(E=>on(E.title,v)||on(E.feed_url,v)))})}),a.jsx("div",{style:{display:"flex",justifyContent:"flex-end",paddingBottom:16},children:a.jsx(Ws,{focusLock:!0,title:"Refresh all feeds?",onOk:w,children:a.jsx(Te,{icon:a.jsx(qs,{}),shape:"circle"})})})]}),a.jsx(wo,{borderCell:!0,className:"feed-table",columns:y,data:f,pagePosition:"bottomCenter",scroll:{x:!0},size:"small"}),n&&a.jsx(Jr,{className:"edit-modal",onOk:s.submit,title:"Edit Feed",unmountOnExit:!0,visible:e,onCancel:()=>{t(!1),s.resetFields()},children:a.jsxs(_e,{form:s,labelCol:{span:7},layout:"vertical",wrapperCol:{span:17},onSubmit:async v=>{const E=v.url.trim(),T={url:v.url,title:v.title,categoryId:v.category,isFullText:v.crawler,hidden:v.hidden};E?await g(n.key,T):fe.error("Feed URL cannot be empty")},children:[a.jsx(_e.Item,{label:"Feed URL",field:"url",rules:[{required:!0}],children:a.jsx(ut,{placeholder:"Please input feed URL"})}),a.jsx(_e.Item,{label:"Title",field:"title",rules:[{required:!0}],children:a.jsx(ut,{placeholder:"Please input feed title"})}),a.jsx(_e.Item,{label:"Category",required:!0,field:"category",rules:[{required:!0}],children:a.jsx(Me,{placeholder:"Please select",children:u.map(v=>a.jsx(Me.Option,{value:v.id,children:v.title},v.id))})}),a.jsx(_e.Item,{label:"Hidden",field:"hidden",initialValue:n.hide_globally,triggerPropName:"checked",rules:[{type:"boolean"}],children:a.jsx(ln,{})}),a.jsx(_e.Item,{label:"Fetch original content",field:"crawler",tooltip:a.jsx("div",{children:"Only affects newly retrieved articles"}),style:{marginBottom:0},triggerPropName:"checked",rules:[{type:"boolean"}],children:a.jsx(ln,{})})]})})]})},Xd=()=>{const{updateConfig:e}=es(),t=Z(Oe),{homePage:n,markReadOnScroll:r,orderBy:s,pageSize:i,showStatus:l}=t;return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"setting-row",children:[a.jsxs("div",{children:[a.jsx(Q.Title,{heading:6,style:{marginTop:0},children:"Default show status"}),a.jsx(Q.Text,{type:"secondary",children:"Which status to show by default:"})]}),a.jsx("div",{children:a.jsxs(Me,{className:"select-style",placeholder:"Select status",value:l,onChange:o=>e({showStatus:o}),children:[a.jsx(Me.Option,{value:"all",children:"All"}),a.jsx(Me.Option,{value:"unread",children:"Unread"})]})})]}),a.jsx(ct,{}),a.jsxs("div",{className:"setting-row",children:[a.jsxs("div",{children:[a.jsx(Q.Title,{heading:6,style:{marginTop:0},children:"Default home page"}),a.jsx(Q.Text,{type:"secondary",children:"Which page to show by default:"})]}),a.jsx("div",{children:a.jsxs(Me,{onChange:o=>e({homePage:o}),placeholder:"Select page",style:{width:128,marginLeft:16},value:n,children:[a.jsx(Me.Option,{value:"all",children:"All"}),a.jsx(Me.Option,{value:"today",children:"Today"}),a.jsx(Me.Option,{value:"starred",children:"Starred"}),a.jsx(Me.Option,{value:"history",children:"History"})]})})]}),a.jsx(ct,{}),a.jsxs("div",{className:"setting-row",children:[a.jsxs("div",{children:[a.jsx(Q.Title,{heading:6,style:{marginTop:0},children:"Entries order"}),a.jsx(Q.Text,{type:"secondary",children:"What order to show entries:"})]}),a.jsx("div",{children:a.jsxs(Me,{onChange:o=>e({orderBy:o}),placeholder:"Select order",style:{width:128,marginLeft:16},value:s,children:[a.jsx(Me.Option,{value:"published_at",children:"Published at"}),a.jsx(Me.Option,{value:"created_at",children:"Created at"})]})})]}),a.jsx(ct,{}),a.jsxs("div",{className:"setting-row",children:[a.jsxs("div",{children:[a.jsx(Q.Title,{heading:6,style:{marginTop:0},children:"Entries per page"}),a.jsx(Q.Text,{type:"secondary",children:"Show how many entries per page:"})]}),a.jsx("div",{children:a.jsx(Wc,{defaultValue:i,min:1,mode:"button",onChange:o=>e({pageSize:o}),size:"small",style:{width:128,marginLeft:16}})})]}),a.jsx(ct,{}),a.jsxs("div",{className:"setting-row",children:[a.jsxs("div",{children:[a.jsx(Q.Title,{heading:6,style:{marginTop:0},children:"Mark articles as read when scrolled off screen"}),a.jsx(Q.Text,{type:"secondary",children:"Automatically mark articles as read when they are scrolled out of the visible screen area"})]}),a.jsx("div",{children:a.jsx(ln,{checked:r,onChange:o=>e({markReadOnScroll:o})})})]})]})},Yd=[{title:"Key",dataIndex:"keyName",render:e=>a.jsx(Jn,{children:e})},{title:"Function",dataIndex:"description"}],Gd=[{key:"1",keyName:"Esc",description:"Dismiss article"},{key:"2",keyName:"←",description:"Previous article"},{key:"3",keyName:"→",description:"Next article"},{key:"4",keyName:"B",description:"Open link externally"},{key:"5",keyName:"D",description:"Fetch original article"},{key:"6",keyName:"M",description:"Mark as read / unread"},{key:"7",keyName:"S",description:"Star / Unstar"}],Kd=()=>a.jsx(wo,{borderCell:!0,columns:Yd,data:Gd,pagination:!1,size:"small",style:{margin:"0 auto",width:"80%"}}),Qd=()=>a.jsxs(xn,{className:"custom-tabs",defaultActiveTab:"1",tabPosition:"top",children:[a.jsx(xn.TabPane,{title:a.jsxs("span",{children:[a.jsx(qc,{style:{marginRight:6}}),"Feeds"]}),children:a.jsx(qd,{})},"1"),a.jsx(xn.TabPane,{title:a.jsxs("span",{children:[a.jsx(Xc,{style:{marginRight:6}}),"Categories"]}),children:a.jsx(Wd,{})},"2"),a.jsx(xn.TabPane,{title:a.jsxs("span",{children:[a.jsx(Yc,{style:{marginRight:6}}),"General"]}),children:a.jsx(Xd,{})},"3"),a.jsx(xn.TabPane,{title:a.jsxs("span",{children:[a.jsx(Gc,{style:{marginRight:6}}),"Appearance"]}),children:a.jsx(Hd,{})},"4"),a.jsx(xn.TabPane,{title:a.jsxs("span",{children:[a.jsx(Kc,{style:{marginRight:6}}),"Hotkeys"]}),children:a.jsx(Kd,{})},"5")]}),Zd=[{required:!0}],Jd=[{required:!0}],ef=[{type:"boolean"}],tf=()=>{const{setSettingsModalVisible:e,settingsModalVisible:t}=wi();return a.jsx(Jr,{className:"settings-modal",visible:t,alignCenter:!1,title:"Settings",footer:null,unmountOnExit:!0,onCancel:()=>e(!1),autoFocus:!1,focusLock:!0,children:a.jsx(Qd,{})})},nf=()=>{const e=Z(fr),{addFeedModalVisible:t,setAddFeedModalVisible:n}=wi(),[r,s]=x.useState(!1),[i]=_e.useForm(),{loadData:l}=ki(),o=async(c,u,d)=>{s(!0);try{await Gu(c,u,d),l(),fe.success("Added a feed successfully"),n(!1),i.resetFields()}catch{fe.error("Failed to add a feed")}s(!1)};return a.jsx(Jr,{title:"Add Feed",visible:t,unmountOnExit:!0,style:{width:"400px"},onOk:i.submit,confirmLoading:r,onCancel:()=>{n(!1),i.resetFields()},children:a.jsxs(_e,{form:i,labelCol:{span:7},layout:"vertical",wrapperCol:{span:17},onSubmit:async c=>{c.url.trim()?await o(c.url.trim(),c.category,c.crawler):fe.error("Feed URL cannot be empty")},children:[a.jsx(_e.Item,{label:"Feed URL",field:"url",rules:Zd,children:a.jsx(ut,{placeholder:"Please input a feed URL"})}),a.jsx(_e.Item,{label:"Category",required:!0,field:"category",rules:Jd,children:a.jsx(Me,{placeholder:"Please select a category",showSearch:!0,filterOption:(c,u)=>on(u.props.children,c),children:e.map(c=>a.jsx(Me.Option,{value:c.id,children:c.title},c.id))})}),a.jsx(_e.Item,{label:"Fetch original content",initialValue:!1,field:"crawler",style:{marginBottom:0},triggerPropName:"checked",rules:ef,children:a.jsx(ln,{})})]})})},rf=()=>a.jsxs("div",{className:"main",children:[a.jsx(Qc,{}),a.jsx(tf,{}),a.jsx(nf,{})]}),Ln=$t.Item,{Sider:sf}=ru,af=x.memo(({category:e,isOpen:t})=>{var s;const r=(s=Z(Ho)[e.id])==null?void 0:s.reduce((i,l)=>i+l.unreadCount,0);return a.jsxs("div",{className:"category-title",children:[a.jsxs(Q.Ellipsis,{expandable:!1,showTooltip:!0,style:{width:r?"80%":"100%"},children:[a.jsx(Zc,{className:t?"icon-open":"icon-closed"}),e.title]}),r>0&&a.jsx(Q.Ellipsis,{className:"unread-count",expandable:!1,children:r})]})}),of=()=>{const e=Jc(),t=dr(),n=Z(fr),r=Z(Ci),s=Z(td),i=Z(Ti),l=Z(_i),o=Z(ji),c=Z(Ho),u=Z(Bo),d=Z(Oe),{homePage:f,showAllFeeds:p,showFeedIcon:S}=d,{collapsed:w,toggleCollapsed:h}=Ro(),{screenWidth:y}=hr(),[g,v]=x.useState([`/${f}`]),[E,T]=x.useState([]),C=e.pathname,j=(N,F)=>{T(F)};return x.useEffect(()=>{v([C])},[C]),x.useEffect(()=>{y<=992&&!w&&h()},[g]),a.jsx(sf,{breakpoint:"lg",className:"sidebar",collapsed:w,collapsedWidth:0,collapsible:!0,onCollapse:h,trigger:null,width:240,style:{borderRight:w?"none":"1px solid var(--color-border-2)",display:w?"none":"block"},children:a.jsxs($t,{autoScrollIntoView:!0,collapse:w,hasCollapseButton:!0,onClickSubMenu:j,onCollapseChange:h,selectedKeys:g,style:{width:"240px",height:"100%"},children:[a.jsxs("div",{className:"menu-header",style:{visibility:w?"hidden":"visible"},children:[a.jsx(vo,{className:"avatar",size:32,children:a.jsx(Eo,{style:{color:"var(--color-bg-1)"}})}),a.jsx(Q.Title,{heading:6,style:{margin:"0"},children:"ReactFlux"})]}),a.jsx(ct,{className:"divider"}),a.jsx(Q.Title,{className:"section-title",heading:6,children:"Articles"}),a.jsx($r,{loading:!r,animation:!0,text:{rows:3}}),r&&a.jsxs("div",{children:[a.jsx(Ln,{onClick:()=>t("/all"),children:a.jsxs("div",{className:"custom-menu-item",children:[a.jsxs("span",{children:[a.jsx(eu,{}),"All"]}),a.jsx(Q.Ellipsis,{className:"item-count",expandable:!1,children:s||""})]})},"/all"),a.jsx(Ln,{onClick:()=>t("/today"),children:a.jsxs("div",{className:"custom-menu-item",children:[a.jsxs("span",{children:[a.jsx(tu,{}),"Today"]}),a.jsx(Q.Ellipsis,{className:"item-count",expandable:!1,children:i||""})]})},"/today"),a.jsx(Ln,{onClick:()=>t("/starred"),children:a.jsxs("div",{className:"custom-menu-item",children:[a.jsxs("span",{children:[a.jsx(yi,{}),"Starred"]}),a.jsx(Q.Ellipsis,{className:"item-count",expandable:!1,children:l||""})]})},"/starred"),a.jsx(Ln,{onClick:()=>t("/history"),children:a.jsxs("div",{className:"custom-menu-item",children:[a.jsxs("span",{children:[a.jsx(nu,{}),"History"]}),a.jsx(Q.Ellipsis,{className:"item-count",expandable:!1,children:o||""})]})},"/history")]}),a.jsx(Q.Title,{className:"section-title",heading:6,children:"Feeds"}),a.jsx($r,{loading:!r,animation:!0,text:{rows:6}}),r?n.filter(N=>p||!u.includes(N.id)).map(N=>{var F;return a.jsx($t.SubMenu,{selectable:!0,title:a.jsx(af,{category:N,isOpen:E.includes(`/category/${N.id}`)}),onClick:A=>{!(A.target.tagName==="svg"||A.target.tagName==="path")&&C!==`/category/${N.id}`&&t(`/category/${N.id}`)},children:(F=c[N.id])==null?void 0:F.map(A=>a.jsx(Ln,{onClick:U=>{U.stopPropagation(),t(`/feed/${A.id}`)},children:a.jsxs("div",{className:"custom-menu-item",children:[a.jsxs(Q.Ellipsis,{expandable:!1,showTooltip:!0,style:{width:A.unreadCount!==0?"80%":"100%"},children:[S&&a.jsx("img",{src:`https://icons.duckduckgo.com/ip3/${new URL(A.site_url).hostname}.ico`,alt:"Icon",style:{marginRight:"8px",width:"16px",height:"16px",verticalAlign:"-2px"}}),A.title]}),A.unreadCount!==0&&a.jsx(Q.Ellipsis,{className:"item-count",expandable:!1,children:A.unreadCount})]})},`/feed/${A.id}`))},`/category/${N.id}`)}):null]})})},lf=()=>{const{theme:e}=Z(Oe),[t,n]=x.useState(window.matchMedia("(prefers-color-scheme: dark)").matches);return x.useEffect(()=>{const r=i=>{n(i.matches)},s=window.matchMedia("(prefers-color-scheme: dark)");return s.addEventListener("change",r),()=>{s.removeEventListener("change",r)}},[]),x.useEffect(()=>{const r=s=>{document.body.setAttribute("arco-theme",s?"dark":"light"),document.body.style.colorScheme=s?"dark":"light"};r(e==="system"?t:e==="dark")},[t,e]),a.jsxs("div",{className:"app",children:[a.jsx(of,{}),a.jsx(ju,{}),a.jsx(rf,{})]})};var il={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const cf=Symbol((il?"production":void 0)!=="production"?"RESET":"");function uf(e){const t=Symbol(),n=ie(t);(il?"production":void 0)!=="production"&&(n.debugPrivate=!0);const r=ie((s,i)=>{const l=s(n);return l!==t?l:e(s,i)},(s,i,l)=>{if(l===cf)i(n,t);else if(typeof l=="function"){const o=s(r);i(n,l(o))}else i(n,l)});return r}const al=ie(0),as=ie(0),ol=ie(0),ll=ie(0),os=ie(!1),ls=ie(!1),mr=ie([]),cs=ie([]),dn=ie([]),Rn=uf(e=>e(Oe).showStatus),Mi=ie("0"),Pi=ie(""),cl=ie(!0),ul=ie(!1),df=ie(null),kn=()=>{const[e,t]=Ce(df);return{activeContent:e,setActiveContent:t}};var pr={};(function e(t,n,r,s){var i=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),l=typeof Path2D=="function"&&typeof DOMMatrix=="function",o=function(){if(!t.OffscreenCanvas)return!1;var b=new OffscreenCanvas(1,1),m=b.getContext("2d");m.fillRect(0,0,1,1);var M=b.transferToImageBitmap();try{m.createPattern(M,"no-repeat")}catch{return!1}return!0}();function c(){}function u(b){var m=n.exports.Promise,M=m!==void 0?m:t.Promise;return typeof M=="function"?new M(b):(b(c,c),null)}var d=function(b,m){return{transform:function(M){if(b)return M;if(m.has(M))return m.get(M);var L=new OffscreenCanvas(M.width,M.height),V=L.getContext("2d");return V.drawImage(M,0,0),m.set(M,L),L},clear:function(){m.clear()}}}(o,new Map),f=function(){var b=Math.floor(16.666666666666668),m,M,L={},V=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(m=function($){var H=Math.random();return L[H]=requestAnimationFrame(function z(G){V===G||V+b-1<G?(V=G,delete L[H],$()):L[H]=requestAnimationFrame(z)}),H},M=function($){L[$]&&cancelAnimationFrame(L[$])}):(m=function($){return setTimeout($,b)},M=function($){return clearTimeout($)}),{frame:m,cancel:M}}(),p=function(){var b,m,M={};function L(V){function $(H,z){V.postMessage({options:H||{},callback:z})}V.init=function(z){var G=z.transferControlToOffscreen();V.postMessage({canvas:G},[G])},V.fire=function(z,G,te){if(m)return $(z,null),m;var q=Math.random().toString(36).slice(2);return m=u(function(ce){function R(k){k.data.callback===q&&(delete M[q],V.removeEventListener("message",R),m=null,d.clear(),te(),ce())}V.addEventListener("message",R),$(z,q),M[q]=R.bind(null,{data:{callback:q}})}),m},V.reset=function(){V.postMessage({reset:!0});for(var z in M)M[z](),delete M[z]}}return function(){if(b)return b;if(!r&&i){var V=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{b=new Worker(URL.createObjectURL(new Blob([V])))}catch($){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("🎊 Could not load worker",$),null}L(b)}return b}}(),S={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function w(b,m){return m?m(b):b}function h(b){return b!=null}function y(b,m,M){return w(b&&h(b[m])?b[m]:S[m],M)}function g(b){return b<0?0:Math.floor(b)}function v(b,m){return Math.floor(Math.random()*(m-b))+b}function E(b){return parseInt(b,16)}function T(b){return b.map(C)}function C(b){var m=String(b).replace(/[^0-9a-f]/gi,"");return m.length<6&&(m=m[0]+m[0]+m[1]+m[1]+m[2]+m[2]),{r:E(m.substring(0,2)),g:E(m.substring(2,4)),b:E(m.substring(4,6))}}function j(b){var m=y(b,"origin",Object);return m.x=y(m,"x",Number),m.y=y(m,"y",Number),m}function N(b){b.width=document.documentElement.clientWidth,b.height=document.documentElement.clientHeight}function F(b){var m=b.getBoundingClientRect();b.width=m.width,b.height=m.height}function A(b){var m=document.createElement("canvas");return m.style.position="fixed",m.style.top="0px",m.style.left="0px",m.style.pointerEvents="none",m.style.zIndex=b,m}function U(b,m,M,L,V,$,H,z,G){b.save(),b.translate(m,M),b.rotate($),b.scale(L,V),b.arc(0,0,1,H,z,G),b.restore()}function W(b){var m=b.angle*(Math.PI/180),M=b.spread*(Math.PI/180);return{x:b.x,y:b.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:b.startVelocity*.5+Math.random()*b.startVelocity,angle2D:-m+(.5*M-Math.random()*M),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:b.color,shape:b.shape,tick:0,totalTicks:b.ticks,decay:b.decay,drift:b.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:b.gravity*3,ovalScalar:.6,scalar:b.scalar,flat:b.flat}}function le(b,m){m.x+=Math.cos(m.angle2D)*m.velocity+m.drift,m.y+=Math.sin(m.angle2D)*m.velocity+m.gravity,m.velocity*=m.decay,m.flat?(m.wobble=0,m.wobbleX=m.x+10*m.scalar,m.wobbleY=m.y+10*m.scalar,m.tiltSin=0,m.tiltCos=0,m.random=1):(m.wobble+=m.wobbleSpeed,m.wobbleX=m.x+10*m.scalar*Math.cos(m.wobble),m.wobbleY=m.y+10*m.scalar*Math.sin(m.wobble),m.tiltAngle+=.1,m.tiltSin=Math.sin(m.tiltAngle),m.tiltCos=Math.cos(m.tiltAngle),m.random=Math.random()+2);var M=m.tick++/m.totalTicks,L=m.x+m.random*m.tiltCos,V=m.y+m.random*m.tiltSin,$=m.wobbleX+m.random*m.tiltCos,H=m.wobbleY+m.random*m.tiltSin;if(b.fillStyle="rgba("+m.color.r+", "+m.color.g+", "+m.color.b+", "+(1-M)+")",b.beginPath(),l&&m.shape.type==="path"&&typeof m.shape.path=="string"&&Array.isArray(m.shape.matrix))b.fill(Re(m.shape.path,m.shape.matrix,m.x,m.y,Math.abs($-L)*.1,Math.abs(H-V)*.1,Math.PI/10*m.wobble));else if(m.shape.type==="bitmap"){var z=Math.PI/10*m.wobble,G=Math.abs($-L)*.1,te=Math.abs(H-V)*.1,q=m.shape.bitmap.width*m.scalar,ce=m.shape.bitmap.height*m.scalar,R=new DOMMatrix([Math.cos(z)*G,Math.sin(z)*G,-Math.sin(z)*te,Math.cos(z)*te,m.x,m.y]);R.multiplySelf(new DOMMatrix(m.shape.matrix));var k=b.createPattern(d.transform(m.shape.bitmap),"no-repeat");k.setTransform(R),b.globalAlpha=1-M,b.fillStyle=k,b.fillRect(m.x-q/2,m.y-ce/2,q,ce),b.globalAlpha=1}else if(m.shape==="circle")b.ellipse?b.ellipse(m.x,m.y,Math.abs($-L)*m.ovalScalar,Math.abs(H-V)*m.ovalScalar,Math.PI/10*m.wobble,0,2*Math.PI):U(b,m.x,m.y,Math.abs($-L)*m.ovalScalar,Math.abs(H-V)*m.ovalScalar,Math.PI/10*m.wobble,0,2*Math.PI);else if(m.shape==="star")for(var P=Math.PI/2*3,I=4*m.scalar,re=8*m.scalar,B=m.x,D=m.y,Y=5,K=Math.PI/Y;Y--;)B=m.x+Math.cos(P)*re,D=m.y+Math.sin(P)*re,b.lineTo(B,D),P+=K,B=m.x+Math.cos(P)*I,D=m.y+Math.sin(P)*I,b.lineTo(B,D),P+=K;else b.moveTo(Math.floor(m.x),Math.floor(m.y)),b.lineTo(Math.floor(m.wobbleX),Math.floor(V)),b.lineTo(Math.floor($),Math.floor(H)),b.lineTo(Math.floor(L),Math.floor(m.wobbleY));return b.closePath(),b.fill(),m.tick<m.totalTicks}function se(b,m,M,L,V){var $=m.slice(),H=b.getContext("2d"),z,G,te=u(function(q){function ce(){z=G=null,H.clearRect(0,0,L.width,L.height),d.clear(),V(),q()}function R(){r&&!(L.width===s.width&&L.height===s.height)&&(L.width=b.width=s.width,L.height=b.height=s.height),!L.width&&!L.height&&(M(b),L.width=b.width,L.height=b.height),H.clearRect(0,0,L.width,L.height),$=$.filter(function(k){return le(H,k)}),$.length?z=f.frame(R):ce()}z=f.frame(R),G=ce});return{addFettis:function(q){return $=$.concat(q),te},canvas:b,promise:te,reset:function(){z&&f.cancel(z),G&&G()}}}function ee(b,m){var M=!b,L=!!y(m||{},"resize"),V=!1,$=y(m,"disableForReducedMotion",Boolean),H=i&&!!y(m||{},"useWorker"),z=H?p():null,G=M?N:F,te=b&&z?!!b.__confetti_initialized:!1,q=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,ce;function R(P,I,re){for(var B=y(P,"particleCount",g),D=y(P,"angle",Number),Y=y(P,"spread",Number),K=y(P,"startVelocity",Number),Pe=y(P,"decay",Number),Be=y(P,"gravity",Number),Ne=y(P,"drift",Number),me=y(P,"colors",T),Ee=y(P,"ticks",Number),Ae=y(P,"shapes"),Le=y(P,"scalar"),ke=!!y(P,"flat"),Mt=j(P),Kt=B,Pt=[],fn=b.width*Mt.x,ze=b.height*Mt.y;Kt--;)Pt.push(W({x:fn,y:ze,angle:D,spread:Y,startVelocity:K,color:me[Kt%me.length],shape:Ae[v(0,Ae.length)],ticks:Ee,decay:Pe,gravity:Be,drift:Ne,scalar:Le,flat:ke}));return ce?ce.addFettis(Pt):(ce=se(b,Pt,G,I,re),ce.promise)}function k(P){var I=$||y(P,"disableForReducedMotion",Boolean),re=y(P,"zIndex",Number);if(I&&q)return u(function(K){K()});M&&ce?b=ce.canvas:M&&!b&&(b=A(re),document.body.appendChild(b)),L&&!te&&G(b);var B={width:b.width,height:b.height};z&&!te&&z.init(b),te=!0,z&&(b.__confetti_initialized=!0);function D(){if(z){var K={getBoundingClientRect:function(){if(!M)return b.getBoundingClientRect()}};G(K),z.postMessage({resize:{width:K.width,height:K.height}});return}B.width=B.height=null}function Y(){ce=null,L&&(V=!1,t.removeEventListener("resize",D)),M&&b&&(document.body.removeChild(b),b=null,te=!1)}return L&&!V&&(V=!0,t.addEventListener("resize",D,!1)),z?z.fire(P,B,Y):R(P,B,Y)}return k.reset=function(){z&&z.reset(),ce&&ce.reset()},k}var pe;function be(){return pe||(pe=ee(null,{useWorker:!0,resize:!0})),pe}function Re(b,m,M,L,V,$,H){var z=new Path2D(b),G=new Path2D;G.addPath(z,new DOMMatrix(m));var te=new Path2D;return te.addPath(G,new DOMMatrix([Math.cos(H)*V,Math.sin(H)*V,-Math.sin(H)*$,Math.cos(H)*$,M,L])),te}function xe(b){if(!l)throw new Error("path confetti are not supported in this browser");var m,M;typeof b=="string"?m=b:(m=b.path,M=b.matrix);var L=new Path2D(m),V=document.createElement("canvas"),$=V.getContext("2d");if(!M){for(var H=1e3,z=H,G=H,te=0,q=0,ce,R,k=0;k<H;k+=2)for(var P=0;P<H;P+=2)$.isPointInPath(L,k,P,"nonzero")&&(z=Math.min(z,k),G=Math.min(G,P),te=Math.max(te,k),q=Math.max(q,P));ce=te-z,R=q-G;var I=10,re=Math.min(I/ce,I/R);M=[re,0,0,re,-Math.round(ce/2+z)*re,-Math.round(R/2+G)*re]}return{type:"path",path:m,matrix:M}}function $e(b){var m,M=1,L="#000000",V='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof b=="string"?m=b:(m=b.text,M="scalar"in b?b.scalar:M,V="fontFamily"in b?b.fontFamily:V,L="color"in b?b.color:L);var $=10*M,H=""+$+"px "+V,z=new OffscreenCanvas($,$),G=z.getContext("2d");G.font=H;var te=G.measureText(m),q=Math.ceil(te.actualBoundingBoxRight+te.actualBoundingBoxLeft),ce=Math.ceil(te.actualBoundingBoxAscent+te.actualBoundingBoxDescent),R=2,k=te.actualBoundingBoxLeft+R,P=te.actualBoundingBoxAscent+R;q+=R+R,ce+=R+R,z=new OffscreenCanvas(q,ce),G=z.getContext("2d"),G.font=H,G.fillStyle=L,G.fillText(m,k,P);var I=1/M;return{type:"bitmap",bitmap:z.transferToImageBitmap(),matrix:[I,0,0,I,-q*I/2,-ce*I/2]}}n.exports=function(){return be().apply(this,arguments)},n.exports.reset=function(){be().reset()},n.exports.create=ee,n.exports.shapeFromPath=xe,n.exports.shapeFromText=$e})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),pr,!1);const ff=pr.exports;pr.exports.create;const Ni=()=>{const e=ge(ts),t=ge(Ti),n=ge(ji),r=ge(_i),{activeContent:s,setActiveContent:i}=kn(),l=ge(mr),o=ge(dn),c=ge(as),u=ge(cs),d=(y,g)=>y.map(v=>v.id===g.id?g:v),f=(y,g)=>{const v=y.feed.id,E=Vu(y.published_at);g==="read"?(e(C=>({...C,[v]:Math.max(0,C[v]-1)})),c(C=>Math.max(0,C-1)),n(C=>C+1),E&&t(C=>Math.max(0,C-1))):(e(C=>({...C,[v]:C[v]+1})),c(C=>C+1),n(C=>Math.max(0,C-1)),E&&t(C=>C+1));const T={...y,status:g};s&&i(T),l(C=>d(C,T)),u(C=>d(C,T)),o(C=>d(C,T))},p=(y,g)=>{g?(r(E=>E+1),ff({particleCount:100,angle:120,spread:70,origin:{x:1,y:1}})):r(E=>Math.max(0,E-1));const v={...y,starred:g};s&&i(v),l(E=>d(E,v)),u(E=>d(E,v)),o(E=>d(E,v))};return{handleEntryStatusUpdate:f,handleFetchContent:async()=>{try{const y=await Bu(s.id);fe.success("Fetched content successfully"),i({...s,content:y.data.content})}catch{fe.error("Failed to fetch content, please try again later")}},handleToggleStarred:async y=>{const g=!y.starred;p(y,g),$u(y.id).catch(()=>{fe.error(`Failed to ${g?"star":"unstar"} entry, please try again later`),p(y,!g)})},handleToggleStatus:async y=>{const g=y.status,v=g==="read"?"unread":"read";f(y,v),Si([y.id],v).catch(()=>{fe.error(`Failed to mark entry as ${v}, please try again later`),f(y,g)})}}},Ea=(e,t="start")=>{const n=document.querySelector(e);n&&n.scrollIntoView({behavior:"smooth",block:t})},Fi=()=>{const e=Z(Oe),{pageSize:t,showAllFeeds:n}=e,r=Z(rs),[s,i]=Ce(mr),[l,o]=Ce(ol),[c,u]=Ce(cs),[d,f]=Ce(ll),p=Z(Rn),S=Z(Pi),w=Z(Mi),h=ge(dn),y=ge(ls),g=ge(os),v=Z(al),E=Z(as),[T,C]=x.useState(!1),j=W=>{var pe;const ee=(pe=new DOMParser().parseFromString(W.content,"text/html").querySelector("img"))==null?void 0:pe.getAttribute("src");return{...W,imgSrc:ee}},N=()=>{p==="all"?o(W=>W+t):f(W=>W+t)},F=W=>{const le=new Map([...(p==="all"?s:c).map(ee=>[ee.id,ee]),...W.map(ee=>[ee.id,ee])]),se=Array.from(le.values());return p==="all"?(i(se),g(se.length<v)):(u(se),y(se.length<E)),se},A=(W,le)=>{const se=S?sl(W,w,p,S):W;return Wr(se,le,n,r)};return{parseFirstImage:j,handleLoadMore:async(W,le)=>{var se;C(!0);try{let ee;if(p==="all"?ee=await le(l+t):ee=await le(d+t,p),(se=ee==null?void 0:ee.data)!=null&&se.entries){N();const pe=ee.data.entries.map(j),be=F(pe),Re=A(be,W);h(Re)}}catch(ee){console.error("Error fetching more articles:",ee)}C(!1)},loadingMore:T}},dl=(e,t,n)=>{const r=Z(dn),s=Z(Rn),i=Z(ls),l=Z(os),{activeContent:o,setActiveContent:c}=kn(),{handleLoadMore:u}=Fi(),[d,f]=x.useState(!1),[p,S]=x.useState(!1),{isMobileView:w}=hr();x.useEffect(()=>{const j=document.querySelector(".entry-list");!j||!w||(o?j.style.visibility="hidden":j.style.visibility="visible")},[o,w]),x.useEffect(()=>{p&&!d&&(g(e),S(!1))},[d,p]);const h=(j,N)=>{o&&(c(null),j.current&&(j.current.setAttribute("tabIndex","-1"),j.current.focus()),N.current&&N.current.scrollTo(0,0))},y=()=>{const j=r.findIndex(N=>N.id===(o==null?void 0:o.id));if(j>0){const N=r[j-1];t(N),Ea(".card-custom-selected-style","end")}},g=async j=>{if(d)return;const N=r.findIndex(A=>A.id===(o==null?void 0:o.id));if(N===r.length-1&&(s==="all"&&l||i)){try{f(!0),await u(j,n),S(!0)}catch{fe.error("Failed to load more articles, please try again later")}finally{f(!1)}return}if(N===-1){const A=document.querySelector(".entry-list");A&&A.scrollTo(0,0)}if(N<r.length-1){const A=r[N+1];t(A),S(!1),Ea(".card-custom-selected-style")}};return{handleEscapeKey:h,handleLeftKey:y,handleRightKey:g,handleBKey:()=>{o&&window.open(o.url,"_blank")},handleDKey:j=>{o&&j()},handleMKey:j=>{o&&j()},handleSKey:j=>{o&&j()}}};var fl={},Di={},Li={};Object.defineProperty(Li,"__esModule",{value:!0});var Sa="html",Ca="head",Tr="body",hf=/<([a-zA-Z]+[0-9]?)/,Ta=/<head[^]*>/i,_a=/<body[^]*>/i,qr=function(e,t){throw new Error("This browser does not support `document.implementation.createHTMLDocument`")},Js=function(e,t){throw new Error("This browser does not support `DOMParser.prototype.parseFromString`")},ja=typeof window=="object"&&window.DOMParser;if(typeof ja=="function"){var mf=new ja,pf="text/html";Js=function(e,t){return t&&(e="<".concat(t,">").concat(e,"</").concat(t,">")),mf.parseFromString(e,pf)},qr=Js}if(typeof document=="object"&&document.implementation){var _r=document.implementation.createHTMLDocument();qr=function(e,t){if(t){var n=_r.documentElement.querySelector(t);return n&&(n.innerHTML=e),_r}return _r.documentElement.innerHTML=e,_r}}var jr=typeof document=="object"&&document.createElement("template"),ei;jr&&jr.content&&(ei=function(e){return jr.innerHTML=e,jr.content.childNodes});function gf(e){var t,n,r=e.match(hf),s=r&&r[1]?r[1].toLowerCase():"";switch(s){case Sa:{var i=Js(e);if(!Ta.test(e)){var l=i.querySelector(Ca);(t=l==null?void 0:l.parentNode)===null||t===void 0||t.removeChild(l)}if(!_a.test(e)){var l=i.querySelector(Tr);(n=l==null?void 0:l.parentNode)===null||n===void 0||n.removeChild(l)}return i.querySelectorAll(Sa)}case Ca:case Tr:{var o=qr(e).querySelectorAll(s);return _a.test(e)&&Ta.test(e)?o[0].parentNode.childNodes:o}default:{if(ei)return ei(e);var l=qr(e,Tr).querySelector(Tr);return l.childNodes}}}Li.default=gf;var An={},hl={},gr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Doctype=e.CDATA=e.Tag=e.Style=e.Script=e.Comment=e.Directive=e.Text=e.Root=e.isTag=e.ElementType=void 0;var t;(function(r){r.Root="root",r.Text="text",r.Directive="directive",r.Comment="comment",r.Script="script",r.Style="style",r.Tag="tag",r.CDATA="cdata",r.Doctype="doctype"})(t=e.ElementType||(e.ElementType={}));function n(r){return r.type===t.Tag||r.type===t.Script||r.type===t.Style}e.isTag=n,e.Root=t.Root,e.Text=t.Text,e.Directive=t.Directive,e.Comment=t.Comment,e.Script=t.Script,e.Style=t.Style,e.Tag=t.Tag,e.CDATA=t.CDATA,e.Doctype=t.Doctype})(gr);var ue={},Xt=ye&&ye.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(r[i]=s[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Wn=ye&&ye.__assign||function(){return Wn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Wn.apply(this,arguments)};Object.defineProperty(ue,"__esModule",{value:!0});ue.cloneNode=ue.hasChildren=ue.isDocument=ue.isDirective=ue.isComment=ue.isText=ue.isCDATA=ue.isTag=ue.Element=ue.Document=ue.CDATA=ue.NodeWithChildren=ue.ProcessingInstruction=ue.Comment=ue.Text=ue.DataNode=ue.Node=void 0;var Ye=gr,Vi=function(){function e(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent},set:function(t){this.parent=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return this.prev},set:function(t){this.prev=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return this.next},set:function(t){this.next=t},enumerable:!1,configurable:!0}),e.prototype.cloneNode=function(t){return t===void 0&&(t=!1),Ui(this,t)},e}();ue.Node=Vi;var us=function(e){Xt(t,e);function t(n){var r=e.call(this)||this;return r.data=n,r}return Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.data},set:function(n){this.data=n},enumerable:!1,configurable:!0}),t}(Vi);ue.DataNode=us;var ml=function(e){Xt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=Ye.ElementType.Text,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),t}(us);ue.Text=ml;var pl=function(e){Xt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=Ye.ElementType.Comment,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),t}(us);ue.Comment=pl;var gl=function(e){Xt(t,e);function t(n,r){var s=e.call(this,r)||this;return s.name=n,s.type=Ye.ElementType.Directive,s}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),t}(us);ue.ProcessingInstruction=gl;var ds=function(e){Xt(t,e);function t(n){var r=e.call(this)||this;return r.children=n,r}return Object.defineProperty(t.prototype,"firstChild",{get:function(){var n;return(n=this.children[0])!==null&&n!==void 0?n:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.children},set:function(n){this.children=n},enumerable:!1,configurable:!0}),t}(Vi);ue.NodeWithChildren=ds;var vl=function(e){Xt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=Ye.ElementType.CDATA,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),t}(ds);ue.CDATA=vl;var yl=function(e){Xt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=Ye.ElementType.Root,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),t}(ds);ue.Document=yl;var bl=function(e){Xt(t,e);function t(n,r,s,i){s===void 0&&(s=[]),i===void 0&&(i=n==="script"?Ye.ElementType.Script:n==="style"?Ye.ElementType.Style:Ye.ElementType.Tag);var l=e.call(this,s)||this;return l.name=n,l.attribs=r,l.type=i,l}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tagName",{get:function(){return this.name},set:function(n){this.name=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){var n=this;return Object.keys(this.attribs).map(function(r){var s,i;return{name:r,value:n.attribs[r],namespace:(s=n["x-attribsNamespace"])===null||s===void 0?void 0:s[r],prefix:(i=n["x-attribsPrefix"])===null||i===void 0?void 0:i[r]}})},enumerable:!1,configurable:!0}),t}(ds);ue.Element=bl;function xl(e){return(0,Ye.isTag)(e)}ue.isTag=xl;function wl(e){return e.type===Ye.ElementType.CDATA}ue.isCDATA=wl;function El(e){return e.type===Ye.ElementType.Text}ue.isText=El;function Sl(e){return e.type===Ye.ElementType.Comment}ue.isComment=Sl;function Cl(e){return e.type===Ye.ElementType.Directive}ue.isDirective=Cl;function Tl(e){return e.type===Ye.ElementType.Root}ue.isDocument=Tl;function vf(e){return Object.prototype.hasOwnProperty.call(e,"children")}ue.hasChildren=vf;function Ui(e,t){t===void 0&&(t=!1);var n;if(El(e))n=new ml(e.data);else if(Sl(e))n=new pl(e.data);else if(xl(e)){var r=t?Ps(e.children):[],s=new bl(e.name,Wn({},e.attribs),r);r.forEach(function(c){return c.parent=s}),e.namespace!=null&&(s.namespace=e.namespace),e["x-attribsNamespace"]&&(s["x-attribsNamespace"]=Wn({},e["x-attribsNamespace"])),e["x-attribsPrefix"]&&(s["x-attribsPrefix"]=Wn({},e["x-attribsPrefix"])),n=s}else if(wl(e)){var r=t?Ps(e.children):[],i=new vl(r);r.forEach(function(u){return u.parent=i}),n=i}else if(Tl(e)){var r=t?Ps(e.children):[],l=new yl(r);r.forEach(function(u){return u.parent=l}),e["x-mode"]&&(l["x-mode"]=e["x-mode"]),n=l}else if(Cl(e)){var o=new gl(e.name,e.data);e["x-name"]!=null&&(o["x-name"]=e["x-name"],o["x-publicId"]=e["x-publicId"],o["x-systemId"]=e["x-systemId"]),n=o}else throw new Error("Not implemented yet: ".concat(e.type));return n.startIndex=e.startIndex,n.endIndex=e.endIndex,e.sourceCodeLocation!=null&&(n.sourceCodeLocation=e.sourceCodeLocation),n}ue.cloneNode=Ui;function Ps(e){for(var t=e.map(function(r){return Ui(r,!0)}),n=1;n<t.length;n++)t[n].prev=t[n-1],t[n-1].next=t[n];return t}(function(e){var t=ye&&ye.__createBinding||(Object.create?function(o,c,u,d){d===void 0&&(d=u);var f=Object.getOwnPropertyDescriptor(c,u);(!f||("get"in f?!c.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return c[u]}}),Object.defineProperty(o,d,f)}:function(o,c,u,d){d===void 0&&(d=u),o[d]=c[u]}),n=ye&&ye.__exportStar||function(o,c){for(var u in o)u!=="default"&&!Object.prototype.hasOwnProperty.call(c,u)&&t(c,o,u)};Object.defineProperty(e,"__esModule",{value:!0}),e.DomHandler=void 0;var r=gr,s=ue;n(ue,e);var i={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},l=function(){function o(c,u,d){this.dom=[],this.root=new s.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof u=="function"&&(d=u,u=i),typeof c=="object"&&(u=c,c=void 0),this.callback=c??null,this.options=u??i,this.elementCB=d??null}return o.prototype.onparserinit=function(c){this.parser=c},o.prototype.onreset=function(){this.dom=[],this.root=new s.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},o.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},o.prototype.onerror=function(c){this.handleCallback(c)},o.prototype.onclosetag=function(){this.lastNode=null;var c=this.tagStack.pop();this.options.withEndIndices&&(c.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(c)},o.prototype.onopentag=function(c,u){var d=this.options.xmlMode?r.ElementType.Tag:void 0,f=new s.Element(c,u,void 0,d);this.addNode(f),this.tagStack.push(f)},o.prototype.ontext=function(c){var u=this.lastNode;if(u&&u.type===r.ElementType.Text)u.data+=c,this.options.withEndIndices&&(u.endIndex=this.parser.endIndex);else{var d=new s.Text(c);this.addNode(d),this.lastNode=d}},o.prototype.oncomment=function(c){if(this.lastNode&&this.lastNode.type===r.ElementType.Comment){this.lastNode.data+=c;return}var u=new s.Comment(c);this.addNode(u),this.lastNode=u},o.prototype.oncommentend=function(){this.lastNode=null},o.prototype.oncdatastart=function(){var c=new s.Text(""),u=new s.CDATA([c]);this.addNode(u),c.parent=u,this.lastNode=c},o.prototype.oncdataend=function(){this.lastNode=null},o.prototype.onprocessinginstruction=function(c,u){var d=new s.ProcessingInstruction(c,u);this.addNode(d)},o.prototype.handleCallback=function(c){if(typeof this.callback=="function")this.callback(c,this.dom);else if(c)throw c},o.prototype.addNode=function(c){var u=this.tagStack[this.tagStack.length-1],d=u.children[u.children.length-1];this.options.withStartIndices&&(c.startIndex=this.parser.startIndex),this.options.withEndIndices&&(c.endIndex=this.parser.endIndex),u.children.push(c),d&&(c.prev=d,d.next=c),c.parent=u,this.lastNode=null},o}();e.DomHandler=l,e.default=l})(hl);var _l={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CASE_SENSITIVE_TAG_NAMES_MAP=e.CASE_SENSITIVE_TAG_NAMES=void 0,e.CASE_SENSITIVE_TAG_NAMES=["animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","linearGradient","radialGradient","textPath"],e.CASE_SENSITIVE_TAG_NAMES_MAP=e.CASE_SENSITIVE_TAG_NAMES.reduce(function(t,n){return t[n.toLowerCase()]=n,t},{})})(_l);Object.defineProperty(An,"__esModule",{value:!0});An.formatDOM=An.formatAttributes=void 0;var Ar=hl,yf=_l;function bf(e){return yf.CASE_SENSITIVE_TAG_NAMES_MAP[e]}function jl(e){for(var t={},n=0,r=e.length;n<r;n++){var s=e[n];t[s.name]=s.value}return t}An.formatAttributes=jl;function xf(e){e=e.toLowerCase();var t=bf(e);return t||e}function Al(e,t,n){t===void 0&&(t=null);for(var r=[],s,i=0,l=e.length;i<l;i++){var o=e[i];switch(o.nodeType){case 1:{var c=xf(o.nodeName);s=new Ar.Element(c,jl(o.attributes)),s.children=Al(c==="template"?o.content.childNodes:o.childNodes,s);break}case 3:s=new Ar.Text(o.nodeValue);break;case 8:s=new Ar.Comment(o.nodeValue);break;default:continue}var u=r[i-1]||null;u&&(u.next=s),s.parent=t,s.prev=u,s.next=null,r.push(s)}return n&&(s=new Ar.ProcessingInstruction(n.substring(0,n.indexOf(" ")).toLowerCase(),n),s.next=r[0]||null,s.parent=t,r.unshift(s),r[1]&&(r[1].prev=r[0])),r}An.formatDOM=Al;var wf=ye&&ye.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Di,"__esModule",{value:!0});var Ef=wf(Li),Sf=An,Cf=/<(![a-zA-Z\s]+)>/;function Tf(e){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];var t=e.match(Cf),n=t?t[1]:void 0;return(0,Sf.formatDOM)((0,Ef.default)(e),null,n)}Di.default=Tf;var fs={},ht={},hs={},_f=0;hs.SAME=_f;var jf=1;hs.CAMELCASE=jf;hs.possibleStandardNames={accept:0,acceptCharset:1,"accept-charset":"acceptCharset",accessKey:1,action:0,allowFullScreen:1,alt:0,as:0,async:0,autoCapitalize:1,autoComplete:1,autoCorrect:1,autoFocus:1,autoPlay:1,autoSave:1,capture:0,cellPadding:1,cellSpacing:1,challenge:0,charSet:1,checked:0,children:0,cite:0,class:"className",classID:1,className:1,cols:0,colSpan:1,content:0,contentEditable:1,contextMenu:1,controls:0,controlsList:1,coords:0,crossOrigin:1,dangerouslySetInnerHTML:1,data:0,dateTime:1,default:0,defaultChecked:1,defaultValue:1,defer:0,dir:0,disabled:0,disablePictureInPicture:1,disableRemotePlayback:1,download:0,draggable:0,encType:1,enterKeyHint:1,for:"htmlFor",form:0,formMethod:1,formAction:1,formEncType:1,formNoValidate:1,formTarget:1,frameBorder:1,headers:0,height:0,hidden:0,high:0,href:0,hrefLang:1,htmlFor:1,httpEquiv:1,"http-equiv":"httpEquiv",icon:0,id:0,innerHTML:1,inputMode:1,integrity:0,is:0,itemID:1,itemProp:1,itemRef:1,itemScope:1,itemType:1,keyParams:1,keyType:1,kind:0,label:0,lang:0,list:0,loop:0,low:0,manifest:0,marginWidth:1,marginHeight:1,max:0,maxLength:1,media:0,mediaGroup:1,method:0,min:0,minLength:1,multiple:0,muted:0,name:0,noModule:1,nonce:0,noValidate:1,open:0,optimum:0,pattern:0,placeholder:0,playsInline:1,poster:0,preload:0,profile:0,radioGroup:1,readOnly:1,referrerPolicy:1,rel:0,required:0,reversed:0,role:0,rows:0,rowSpan:1,sandbox:0,scope:0,scoped:0,scrolling:0,seamless:0,selected:0,shape:0,size:0,sizes:0,span:0,spellCheck:1,src:0,srcDoc:1,srcLang:1,srcSet:1,start:0,step:0,style:0,summary:0,tabIndex:1,target:0,title:0,type:0,useMap:1,value:0,width:0,wmode:0,wrap:0,about:0,accentHeight:1,"accent-height":"accentHeight",accumulate:0,additive:0,alignmentBaseline:1,"alignment-baseline":"alignmentBaseline",allowReorder:1,alphabetic:0,amplitude:0,arabicForm:1,"arabic-form":"arabicForm",ascent:0,attributeName:1,attributeType:1,autoReverse:1,azimuth:0,baseFrequency:1,baselineShift:1,"baseline-shift":"baselineShift",baseProfile:1,bbox:0,begin:0,bias:0,by:0,calcMode:1,capHeight:1,"cap-height":"capHeight",clip:0,clipPath:1,"clip-path":"clipPath",clipPathUnits:1,clipRule:1,"clip-rule":"clipRule",color:0,colorInterpolation:1,"color-interpolation":"colorInterpolation",colorInterpolationFilters:1,"color-interpolation-filters":"colorInterpolationFilters",colorProfile:1,"color-profile":"colorProfile",colorRendering:1,"color-rendering":"colorRendering",contentScriptType:1,contentStyleType:1,cursor:0,cx:0,cy:0,d:0,datatype:0,decelerate:0,descent:0,diffuseConstant:1,direction:0,display:0,divisor:0,dominantBaseline:1,"dominant-baseline":"dominantBaseline",dur:0,dx:0,dy:0,edgeMode:1,elevation:0,enableBackground:1,"enable-background":"enableBackground",end:0,exponent:0,externalResourcesRequired:1,fill:0,fillOpacity:1,"fill-opacity":"fillOpacity",fillRule:1,"fill-rule":"fillRule",filter:0,filterRes:1,filterUnits:1,floodOpacity:1,"flood-opacity":"floodOpacity",floodColor:1,"flood-color":"floodColor",focusable:0,fontFamily:1,"font-family":"fontFamily",fontSize:1,"font-size":"fontSize",fontSizeAdjust:1,"font-size-adjust":"fontSizeAdjust",fontStretch:1,"font-stretch":"fontStretch",fontStyle:1,"font-style":"fontStyle",fontVariant:1,"font-variant":"fontVariant",fontWeight:1,"font-weight":"fontWeight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:1,"glyph-name":"glyphName",glyphOrientationHorizontal:1,"glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphOrientationVertical:1,"glyph-orientation-vertical":"glyphOrientationVertical",glyphRef:1,gradientTransform:1,gradientUnits:1,hanging:0,horizAdvX:1,"horiz-adv-x":"horizAdvX",horizOriginX:1,"horiz-origin-x":"horizOriginX",ideographic:0,imageRendering:1,"image-rendering":"imageRendering",in2:0,in:0,inlist:0,intercept:0,k1:0,k2:0,k3:0,k4:0,k:0,kernelMatrix:1,kernelUnitLength:1,kerning:0,keyPoints:1,keySplines:1,keyTimes:1,lengthAdjust:1,letterSpacing:1,"letter-spacing":"letterSpacing",lightingColor:1,"lighting-color":"lightingColor",limitingConeAngle:1,local:0,markerEnd:1,"marker-end":"markerEnd",markerHeight:1,markerMid:1,"marker-mid":"markerMid",markerStart:1,"marker-start":"markerStart",markerUnits:1,markerWidth:1,mask:0,maskContentUnits:1,maskUnits:1,mathematical:0,mode:0,numOctaves:1,offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:1,"overline-position":"overlinePosition",overlineThickness:1,"overline-thickness":"overlineThickness",paintOrder:1,"paint-order":"paintOrder",panose1:0,"panose-1":"panose1",pathLength:1,patternContentUnits:1,patternTransform:1,patternUnits:1,pointerEvents:1,"pointer-events":"pointerEvents",points:0,pointsAtX:1,pointsAtY:1,pointsAtZ:1,prefix:0,preserveAlpha:1,preserveAspectRatio:1,primitiveUnits:1,property:0,r:0,radius:0,refX:1,refY:1,renderingIntent:1,"rendering-intent":"renderingIntent",repeatCount:1,repeatDur:1,requiredExtensions:1,requiredFeatures:1,resource:0,restart:0,result:0,results:0,rotate:0,rx:0,ry:0,scale:0,security:0,seed:0,shapeRendering:1,"shape-rendering":"shapeRendering",slope:0,spacing:0,specularConstant:1,specularExponent:1,speed:0,spreadMethod:1,startOffset:1,stdDeviation:1,stemh:0,stemv:0,stitchTiles:1,stopColor:1,"stop-color":"stopColor",stopOpacity:1,"stop-opacity":"stopOpacity",strikethroughPosition:1,"strikethrough-position":"strikethroughPosition",strikethroughThickness:1,"strikethrough-thickness":"strikethroughThickness",string:0,stroke:0,strokeDasharray:1,"stroke-dasharray":"strokeDasharray",strokeDashoffset:1,"stroke-dashoffset":"strokeDashoffset",strokeLinecap:1,"stroke-linecap":"strokeLinecap",strokeLinejoin:1,"stroke-linejoin":"strokeLinejoin",strokeMiterlimit:1,"stroke-miterlimit":"strokeMiterlimit",strokeWidth:1,"stroke-width":"strokeWidth",strokeOpacity:1,"stroke-opacity":"strokeOpacity",suppressContentEditableWarning:1,suppressHydrationWarning:1,surfaceScale:1,systemLanguage:1,tableValues:1,targetX:1,targetY:1,textAnchor:1,"text-anchor":"textAnchor",textDecoration:1,"text-decoration":"textDecoration",textLength:1,textRendering:1,"text-rendering":"textRendering",to:0,transform:0,typeof:0,u1:0,u2:0,underlinePosition:1,"underline-position":"underlinePosition",underlineThickness:1,"underline-thickness":"underlineThickness",unicode:0,unicodeBidi:1,"unicode-bidi":"unicodeBidi",unicodeRange:1,"unicode-range":"unicodeRange",unitsPerEm:1,"units-per-em":"unitsPerEm",unselectable:0,vAlphabetic:1,"v-alphabetic":"vAlphabetic",values:0,vectorEffect:1,"vector-effect":"vectorEffect",version:0,vertAdvY:1,"vert-adv-y":"vertAdvY",vertOriginX:1,"vert-origin-x":"vertOriginX",vertOriginY:1,"vert-origin-y":"vertOriginY",vHanging:1,"v-hanging":"vHanging",vIdeographic:1,"v-ideographic":"vIdeographic",viewBox:1,viewTarget:1,visibility:0,vMathematical:1,"v-mathematical":"vMathematical",vocab:0,widths:0,wordSpacing:1,"word-spacing":"wordSpacing",writingMode:1,"writing-mode":"writingMode",x1:0,x2:0,x:0,xChannelSelector:1,xHeight:1,"x-height":"xHeight",xlinkActuate:1,"xlink:actuate":"xlinkActuate",xlinkArcrole:1,"xlink:arcrole":"xlinkArcrole",xlinkHref:1,"xlink:href":"xlinkHref",xlinkRole:1,"xlink:role":"xlinkRole",xlinkShow:1,"xlink:show":"xlinkShow",xlinkTitle:1,"xlink:title":"xlinkTitle",xlinkType:1,"xlink:type":"xlinkType",xmlBase:1,"xml:base":"xmlBase",xmlLang:1,"xml:lang":"xmlLang",xmlns:0,"xml:space":"xmlSpace",xmlnsXlink:1,"xmlns:xlink":"xmlnsXlink",xmlSpace:1,y1:0,y2:0,y:0,yChannelSelector:1,z:0,zoomAndPan:1};const Il=0,Yt=1,ms=2,ps=3,$i=4,Ol=5,Rl=6;function Af(e){return De.hasOwnProperty(e)?De[e]:null}function qe(e,t,n,r,s,i,l){this.acceptsBooleans=t===ms||t===ps||t===$i,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}const De={},If=["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"];If.forEach(e=>{De[e]=new qe(e,Il,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(([e,t])=>{De[e]=new qe(e,Yt,!1,t,null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(e=>{De[e]=new qe(e,ms,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(e=>{De[e]=new qe(e,ms,!1,e,null,!1,!1)});["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach(e=>{De[e]=new qe(e,ps,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(e=>{De[e]=new qe(e,ps,!0,e,null,!1,!1)});["capture","download"].forEach(e=>{De[e]=new qe(e,$i,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(e=>{De[e]=new qe(e,Rl,!1,e,null,!1,!1)});["rowSpan","start"].forEach(e=>{De[e]=new qe(e,Ol,!1,e.toLowerCase(),null,!1,!1)});const Bi=/[\-\:]([a-z])/g,zi=e=>e[1].toUpperCase();["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach(e=>{const t=e.replace(Bi,zi);De[t]=new qe(t,Yt,!1,e,null,!1,!1)});["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach(e=>{const t=e.replace(Bi,zi);De[t]=new qe(t,Yt,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(e=>{const t=e.replace(Bi,zi);De[t]=new qe(t,Yt,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(e=>{De[e]=new qe(e,Yt,!1,e.toLowerCase(),null,!1,!1)});const Of="xlinkHref";De[Of]=new qe("xlinkHref",Yt,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(e=>{De[e]=new qe(e,Yt,!1,e.toLowerCase(),null,!0,!0)});const{CAMELCASE:Rf,SAME:kf,possibleStandardNames:Aa}=hs,Mf=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",Pf=Mf+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",Nf=RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+Pf+"]*$")),Ff=Object.keys(Aa).reduce((e,t)=>{const n=Aa[t];return n===kf?e[t]=t:n===Rf?e[t.toLowerCase()]=t:e[t]=n,e},{});ht.BOOLEAN=ps;ht.BOOLEANISH_STRING=ms;ht.NUMERIC=Ol;ht.OVERLOADED_BOOLEAN=$i;ht.POSITIVE_NUMERIC=Rl;ht.RESERVED=Il;ht.STRING=Yt;ht.getPropertyInfo=Af;ht.isCustomAttribute=Nf;ht.possibleStandardNames=Ff;var Hi={},Wi={},Ia=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,Df=/\n/g,Lf=/^\s*/,Vf=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,Uf=/^:\s*/,$f=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,Bf=/^[;\s]*/,zf=/^\s+|\s+$/g,Hf=`
`,Oa="/",Ra="*",rn="",Wf="comment",qf="declaration",Xf=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function s(w){var h=w.match(Df);h&&(n+=h.length);var y=w.lastIndexOf(Hf);r=~y?w.length-y:r+w.length}function i(){var w={line:n,column:r};return function(h){return h.position=new l(w),u(),h}}function l(w){this.start=w,this.end={line:n,column:r},this.source=t.source}l.prototype.content=e;function o(w){var h=new Error(t.source+":"+n+":"+r+": "+w);if(h.reason=w,h.filename=t.source,h.line=n,h.column=r,h.source=e,!t.silent)throw h}function c(w){var h=w.exec(e);if(h){var y=h[0];return s(y),e=e.slice(y.length),h}}function u(){c(Lf)}function d(w){var h;for(w=w||[];h=f();)h!==!1&&w.push(h);return w}function f(){var w=i();if(!(Oa!=e.charAt(0)||Ra!=e.charAt(1))){for(var h=2;rn!=e.charAt(h)&&(Ra!=e.charAt(h)||Oa!=e.charAt(h+1));)++h;if(h+=2,rn===e.charAt(h-1))return o("End of comment missing");var y=e.slice(2,h-2);return r+=2,s(y),e=e.slice(h),r+=2,w({type:Wf,comment:y})}}function p(){var w=i(),h=c(Vf);if(h){if(f(),!c(Uf))return o("property missing ':'");var y=c($f),g=w({type:qf,property:ka(h[0].replace(Ia,rn)),value:y?ka(y[0].replace(Ia,rn)):rn});return c(Bf),g}}function S(){var w=[];d(w);for(var h;h=p();)h!==!1&&(w.push(h),d(w));return w}return u(),S()};function ka(e){return e?e.replace(zf,rn):rn}var Yf=ye&&ye.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Wi,"__esModule",{value:!0});var Gf=Yf(Xf);function Kf(e,t){var n=null;if(!e||typeof e!="string")return n;var r=(0,Gf.default)(e),s=typeof t=="function";return r.forEach(function(i){if(i.type==="declaration"){var l=i.property,o=i.value;s?t(l,o,i):o&&(n=n||{},n[l]=o)}}),n}Wi.default=Kf;var gs={};Object.defineProperty(gs,"__esModule",{value:!0});gs.camelCase=void 0;var Qf=/^--[a-zA-Z0-9-]+$/,Zf=/-([a-z])/g,Jf=/^[^-]+$/,eh=/^-(webkit|moz|ms|o|khtml)-/,th=/^-(ms)-/,nh=function(e){return!e||Jf.test(e)||Qf.test(e)},rh=function(e,t){return t.toUpperCase()},Ma=function(e,t){return"".concat(t,"-")},sh=function(e,t){return t===void 0&&(t={}),nh(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(th,Ma):e=e.replace(eh,Ma),e.replace(Zf,rh))};gs.camelCase=sh;var ih=ye&&ye.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},ah=ih(Wi),oh=gs;function ti(e,t){var n={};return!e||typeof e!="string"||(0,ah.default)(e,function(r,s){r&&s&&(n[(0,oh.camelCase)(r,t)]=s)}),n}ti.default=ti;var lh=ti;(function(e){var t=ye&&ye.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0}),e.returnFirstArg=e.canTextBeChildOfNode=e.ELEMENTS_WITH_NO_TEXT_CHILDREN=e.PRESERVE_CUSTOM_ATTRIBUTES=e.setStyleProp=e.isCustomComponent=void 0;var n=x,r=t(lh),s=new Set(["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"]);function i(d,f){return d.includes("-")?!s.has(d):!!(f&&typeof f.is=="string")}e.isCustomComponent=i;var l={reactCompat:!0};function o(d,f){if(typeof d=="string"){if(!d.trim()){f.style={};return}try{f.style=(0,r.default)(d,l)}catch{f.style={}}}}e.setStyleProp=o,e.PRESERVE_CUSTOM_ATTRIBUTES=Number(n.version.split(".")[0])>=16,e.ELEMENTS_WITH_NO_TEXT_CHILDREN=new Set(["tr","tbody","thead","tfoot","colgroup","table","head","html","frameset"]);var c=function(d){return!e.ELEMENTS_WITH_NO_TEXT_CHILDREN.has(d.name)};e.canTextBeChildOfNode=c;var u=function(d){return d};e.returnFirstArg=u})(Hi);Object.defineProperty(fs,"__esModule",{value:!0});var zn=ht,Pa=Hi,ch=["checked","value"],uh=["input","select","textarea"],dh={reset:!0,submit:!0};function fh(e,t){e===void 0&&(e={});var n={},r=!!(e.type&&dh[e.type]);for(var s in e){var i=e[s];if((0,zn.isCustomAttribute)(s)){n[s]=i;continue}var l=s.toLowerCase(),o=Na(l);if(o){var c=(0,zn.getPropertyInfo)(o);switch(ch.includes(o)&&uh.includes(t)&&!r&&(o=Na("default"+l)),n[o]=i,c&&c.type){case zn.BOOLEAN:n[o]=!0;break;case zn.OVERLOADED_BOOLEAN:i===""&&(n[o]=!0);break}continue}Pa.PRESERVE_CUSTOM_ATTRIBUTES&&(n[s]=i)}return(0,Pa.setStyleProp)(e.style,n),n}fs.default=fh;function Na(e){return zn.possibleStandardNames[e]}var qi={},hh=ye&&ye.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qi,"__esModule",{value:!0});var Ns=x,mh=hh(fs),qn=Hi,ph={cloneElement:Ns.cloneElement,createElement:Ns.createElement,isValidElement:Ns.isValidElement};function kl(e,t){t===void 0&&(t={});for(var n=[],r=typeof t.replace=="function",s=t.transform||qn.returnFirstArg,i=t.library||ph,l=i.cloneElement,o=i.createElement,c=i.isValidElement,u=e.length,d=0;d<u;d++){var f=e[d];if(r){var p=t.replace(f,d);if(c(p)){u>1&&(p=l(p,{key:p.key||d})),n.push(s(p,f,d));continue}}if(f.type==="text"){var S=!f.data.trim().length;if(S&&f.parent&&!(0,qn.canTextBeChildOfNode)(f.parent)||t.trim&&S)continue;n.push(s(f.data,f,d));continue}var w=f,h={};gh(w)?((0,qn.setStyleProp)(w.attribs.style,w.attribs),h=w.attribs):w.attribs&&(h=(0,mh.default)(w.attribs,w.name));var y=void 0;switch(f.type){case"script":case"style":f.children[0]&&(h.dangerouslySetInnerHTML={__html:f.children[0].data});break;case"tag":f.name==="textarea"&&f.children[0]?h.defaultValue=f.children[0].data:f.children&&f.children.length&&(y=kl(f.children,t));break;default:continue}u>1&&(h.key=d),n.push(s(o(f.name,h,y),f,d))}return n.length===1?n[0]:n}qi.default=kl;function gh(e){return qn.PRESERVE_CUSTOM_ATTRIBUTES&&e.type==="tag"&&(0,qn.isCustomComponent)(e.name,e.attribs)}var Ml={},de={},Gt=ye&&ye.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(r[i]=s[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xn=ye&&ye.__assign||function(){return Xn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Xn.apply(this,arguments)};Object.defineProperty(de,"__esModule",{value:!0});de.cloneNode=de.hasChildren=de.isDocument=de.isDirective=de.isComment=de.isText=de.isCDATA=de.isTag=de.Element=de.Document=de.CDATA=de.NodeWithChildren=de.ProcessingInstruction=de.Comment=de.Text=de.DataNode=de.Node=void 0;var Ge=gr,Xi=function(){function e(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent},set:function(t){this.parent=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return this.prev},set:function(t){this.prev=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return this.next},set:function(t){this.next=t},enumerable:!1,configurable:!0}),e.prototype.cloneNode=function(t){return t===void 0&&(t=!1),Yi(this,t)},e}();de.Node=Xi;var vs=function(e){Gt(t,e);function t(n){var r=e.call(this)||this;return r.data=n,r}return Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.data},set:function(n){this.data=n},enumerable:!1,configurable:!0}),t}(Xi);de.DataNode=vs;var Pl=function(e){Gt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=Ge.ElementType.Text,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),t}(vs);de.Text=Pl;var Nl=function(e){Gt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=Ge.ElementType.Comment,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),t}(vs);de.Comment=Nl;var Fl=function(e){Gt(t,e);function t(n,r){var s=e.call(this,r)||this;return s.name=n,s.type=Ge.ElementType.Directive,s}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),t}(vs);de.ProcessingInstruction=Fl;var ys=function(e){Gt(t,e);function t(n){var r=e.call(this)||this;return r.children=n,r}return Object.defineProperty(t.prototype,"firstChild",{get:function(){var n;return(n=this.children[0])!==null&&n!==void 0?n:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.children},set:function(n){this.children=n},enumerable:!1,configurable:!0}),t}(Xi);de.NodeWithChildren=ys;var Dl=function(e){Gt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=Ge.ElementType.CDATA,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),t}(ys);de.CDATA=Dl;var Ll=function(e){Gt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=Ge.ElementType.Root,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),t}(ys);de.Document=Ll;var Vl=function(e){Gt(t,e);function t(n,r,s,i){s===void 0&&(s=[]),i===void 0&&(i=n==="script"?Ge.ElementType.Script:n==="style"?Ge.ElementType.Style:Ge.ElementType.Tag);var l=e.call(this,s)||this;return l.name=n,l.attribs=r,l.type=i,l}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tagName",{get:function(){return this.name},set:function(n){this.name=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){var n=this;return Object.keys(this.attribs).map(function(r){var s,i;return{name:r,value:n.attribs[r],namespace:(s=n["x-attribsNamespace"])===null||s===void 0?void 0:s[r],prefix:(i=n["x-attribsPrefix"])===null||i===void 0?void 0:i[r]}})},enumerable:!1,configurable:!0}),t}(ys);de.Element=Vl;function Ul(e){return(0,Ge.isTag)(e)}de.isTag=Ul;function $l(e){return e.type===Ge.ElementType.CDATA}de.isCDATA=$l;function Bl(e){return e.type===Ge.ElementType.Text}de.isText=Bl;function zl(e){return e.type===Ge.ElementType.Comment}de.isComment=zl;function Hl(e){return e.type===Ge.ElementType.Directive}de.isDirective=Hl;function Wl(e){return e.type===Ge.ElementType.Root}de.isDocument=Wl;function vh(e){return Object.prototype.hasOwnProperty.call(e,"children")}de.hasChildren=vh;function Yi(e,t){t===void 0&&(t=!1);var n;if(Bl(e))n=new Pl(e.data);else if(zl(e))n=new Nl(e.data);else if(Ul(e)){var r=t?Fs(e.children):[],s=new Vl(e.name,Xn({},e.attribs),r);r.forEach(function(c){return c.parent=s}),e.namespace!=null&&(s.namespace=e.namespace),e["x-attribsNamespace"]&&(s["x-attribsNamespace"]=Xn({},e["x-attribsNamespace"])),e["x-attribsPrefix"]&&(s["x-attribsPrefix"]=Xn({},e["x-attribsPrefix"])),n=s}else if($l(e)){var r=t?Fs(e.children):[],i=new Dl(r);r.forEach(function(u){return u.parent=i}),n=i}else if(Wl(e)){var r=t?Fs(e.children):[],l=new Ll(r);r.forEach(function(u){return u.parent=l}),e["x-mode"]&&(l["x-mode"]=e["x-mode"]),n=l}else if(Hl(e)){var o=new Fl(e.name,e.data);e["x-name"]!=null&&(o["x-name"]=e["x-name"],o["x-publicId"]=e["x-publicId"],o["x-systemId"]=e["x-systemId"]),n=o}else throw new Error("Not implemented yet: ".concat(e.type));return n.startIndex=e.startIndex,n.endIndex=e.endIndex,e.sourceCodeLocation!=null&&(n.sourceCodeLocation=e.sourceCodeLocation),n}de.cloneNode=Yi;function Fs(e){for(var t=e.map(function(r){return Yi(r,!0)}),n=1;n<t.length;n++)t[n].prev=t[n-1],t[n-1].next=t[n];return t}(function(e){var t=ye&&ye.__createBinding||(Object.create?function(o,c,u,d){d===void 0&&(d=u);var f=Object.getOwnPropertyDescriptor(c,u);(!f||("get"in f?!c.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return c[u]}}),Object.defineProperty(o,d,f)}:function(o,c,u,d){d===void 0&&(d=u),o[d]=c[u]}),n=ye&&ye.__exportStar||function(o,c){for(var u in o)u!=="default"&&!Object.prototype.hasOwnProperty.call(c,u)&&t(c,o,u)};Object.defineProperty(e,"__esModule",{value:!0}),e.DomHandler=void 0;var r=gr,s=de;n(de,e);var i={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},l=function(){function o(c,u,d){this.dom=[],this.root=new s.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof u=="function"&&(d=u,u=i),typeof c=="object"&&(u=c,c=void 0),this.callback=c??null,this.options=u??i,this.elementCB=d??null}return o.prototype.onparserinit=function(c){this.parser=c},o.prototype.onreset=function(){this.dom=[],this.root=new s.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},o.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},o.prototype.onerror=function(c){this.handleCallback(c)},o.prototype.onclosetag=function(){this.lastNode=null;var c=this.tagStack.pop();this.options.withEndIndices&&(c.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(c)},o.prototype.onopentag=function(c,u){var d=this.options.xmlMode?r.ElementType.Tag:void 0,f=new s.Element(c,u,void 0,d);this.addNode(f),this.tagStack.push(f)},o.prototype.ontext=function(c){var u=this.lastNode;if(u&&u.type===r.ElementType.Text)u.data+=c,this.options.withEndIndices&&(u.endIndex=this.parser.endIndex);else{var d=new s.Text(c);this.addNode(d),this.lastNode=d}},o.prototype.oncomment=function(c){if(this.lastNode&&this.lastNode.type===r.ElementType.Comment){this.lastNode.data+=c;return}var u=new s.Comment(c);this.addNode(u),this.lastNode=u},o.prototype.oncommentend=function(){this.lastNode=null},o.prototype.oncdatastart=function(){var c=new s.Text(""),u=new s.CDATA([c]);this.addNode(u),c.parent=u,this.lastNode=c},o.prototype.oncdataend=function(){this.lastNode=null},o.prototype.onprocessinginstruction=function(c,u){var d=new s.ProcessingInstruction(c,u);this.addNode(d)},o.prototype.handleCallback=function(c){if(typeof this.callback=="function")this.callback(c,this.dom);else if(c)throw c},o.prototype.addNode=function(c){var u=this.tagStack[this.tagStack.length-1],d=u.children[u.children.length-1];this.options.withStartIndices&&(c.startIndex=this.parser.startIndex),this.options.withEndIndices&&(c.endIndex=this.parser.endIndex),u.children.push(c),d&&(c.prev=d,d.next=c),c.parent=u,this.lastNode=null},o}();e.DomHandler=l,e.default=l})(Ml);(function(e){var t=ye&&ye.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(e,"__esModule",{value:!0}),e.htmlToDOM=e.domToReact=e.attributesToProps=e.Text=e.ProcessingInstruction=e.Element=e.Comment=void 0;var n=t(Di);e.htmlToDOM=n.default;var r=t(fs);e.attributesToProps=r.default;var s=t(qi);e.domToReact=s.default;var i=Ml;Object.defineProperty(e,"Comment",{enumerable:!0,get:function(){return i.Comment}}),Object.defineProperty(e,"Element",{enumerable:!0,get:function(){return i.Element}}),Object.defineProperty(e,"ProcessingInstruction",{enumerable:!0,get:function(){return i.ProcessingInstruction}}),Object.defineProperty(e,"Text",{enumerable:!0,get:function(){return i.Text}});var l={lowerCaseAttributeNames:!1};function o(c,u){if(typeof c!="string")throw new TypeError("First argument must be a string");return c?(0,s.default)((0,n.default)(c,(u==null?void 0:u.htmlparser2)||l),u):[]}e.default=o})(fl);const Fa=Zr(fl),yh=Fa.default||Fa;function Ve(){return Ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ve.apply(this,arguments)}function Gi(e,t){if(e==null)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)t.indexOf(n=i[r])>=0||(s[n]=e[n]);return s}function Dr(e){var t=x.useRef({fn:e,curr:void 0}).current;if(t.fn=e,!t.curr){var n=Object.create(null);Object.keys(e).forEach(function(r){n[r]=function(){var s;return(s=t.fn[r]).call.apply(s,[t.fn].concat([].slice.call(arguments)))}}),t.curr=n}return t.curr}function ni(e){return x.useReducer(function(t,n){return Ve({},t,typeof n=="function"?n(t):n)},e)}x.createContext(void 0);var It=typeof window<"u"&&"ontouchstart"in window,ri=function(e,t,n){return Math.max(Math.min(e,n),t)},Ir=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=0),ri(e,1*(1-n),Math.max(6,t)*(1+n))},si=typeof window>"u"||/ServerSideRendering/.test(navigator&&navigator.userAgent)?x.useEffect:x.useLayoutEffect;function En(e,t,n){var r=x.useRef(t);r.current=t,x.useEffect(function(){function s(i){r.current(i)}return e&&window.addEventListener(e,s,n),function(){e&&window.removeEventListener(e,s)}},[e])}var bh=["container"];function xh(e){var t=e.container,n=t===void 0?document.body:t,r=Gi(e,bh);return So.createPortal(oe.createElement("div",Ve({},r)),n)}function wh(e){return oe.createElement("svg",Ve({width:"44",height:"44",viewBox:"0 0 768 768"},e),oe.createElement("path",{d:"M607.5 205.5l-178.5 178.5 178.5 178.5-45 45-178.5-178.5-178.5 178.5-45-45 178.5-178.5-178.5-178.5 45-45 178.5 178.5 178.5-178.5z"}))}function Eh(e){return oe.createElement("svg",Ve({width:"44",height:"44",viewBox:"0 0 768 768"},e),oe.createElement("path",{d:"M640.5 352.5v63h-390l178.5 180-45 45-256.5-256.5 256.5-256.5 45 45-178.5 180h390z"}))}function Sh(e){return oe.createElement("svg",Ve({width:"44",height:"44",viewBox:"0 0 768 768"},e),oe.createElement("path",{d:"M384 127.5l256.5 256.5-256.5 256.5-45-45 178.5-180h-390v-63h390l-178.5-180z"}))}function Ch(){return x.useEffect(function(){var e=document.body.style,t=e.overflow;return e.overflow="hidden",function(){e.overflow=t}},[]),null}function Da(e){var t=e.touches[0],n=t.clientX,r=t.clientY;if(e.touches.length>=2){var s=e.touches[1],i=s.clientX,l=s.clientY;return[(n+i)/2,(r+l)/2,Math.sqrt(Math.pow(i-n,2)+Math.pow(l-r,2))]}return[n,r,0]}var Ut=function(e,t,n,r){var s=n*t,i=(s-r)/2,l=void 0,o=e;return s<=r?(l=1,o=0):e>0&&i-e<=0?(l=2,o=i):e<0&&i+e<=0&&(l=3,o=-i),[l,o]};function Ds(e,t,n,r,s,i,l,o,c,u){l===void 0&&(l=innerWidth/2),o===void 0&&(o=innerHeight/2),c===void 0&&(c=0),u===void 0&&(u=0);var d=Ut(e,i,n,innerWidth)[0],f=Ut(t,i,r,innerHeight),p=innerWidth/2,S=innerHeight/2;return{x:l-i/s*(l-(p+e))-p+(r/n>=3&&n*i===innerWidth?0:d?c/2:c),y:o-i/s*(o-(S+t))-S+(f[0]?u/2:u),lastCX:l,lastCY:o}}function ii(e,t,n){var r=e%180!=0;return r?[n,t,r]:[t,n,r]}function Ls(e,t,n){var r=ii(n,innerWidth,innerHeight),s=r[0],i=r[1],l=0,o=s,c=i,u=e/t*i,d=t/e*s;return e<s&&t<i?(o=e,c=t):e<s&&t>=i?o=u:e>=s&&t<i||e/t>s/i?c=d:t/e>=3&&!r[2]?l=((c=d)-i)/2:o=u,{width:o,height:c,x:0,y:l,pause:!0}}function Or(e,t){var n=t.leading,r=n!==void 0&&n,s=t.maxWait,i=t.wait,l=i===void 0?s||0:i,o=x.useRef(e);o.current=e;var c=x.useRef(0),u=x.useRef(),d=function(){return u.current&&clearTimeout(u.current)},f=x.useCallback(function(){var p=[].slice.call(arguments),S=Date.now();function w(){c.current=S,d(),o.current.apply(null,p)}var h=c.current,y=S-h;if(h===0&&(r&&w(),c.current=S),s!==void 0){if(y>s)return void w()}else y<l&&(c.current=S);d(),u.current=setTimeout(function(){w(),c.current=0},l)},[l,s,r]);return f.cancel=d,f}var La=function(e,t,n){return sn(e,t,n,100,function(r){return r},function(){return sn(t,e,n)})},Th=function(e){return 1-Math.pow(1-e,4)};function sn(e,t,n,r,s,i){r===void 0&&(r=400),s===void 0&&(s=Th);var l=t-e;if(l!==0){var o=Date.now(),c=0,u=function(){var f=Math.min(1,(Date.now()-o)/r);n(e+s(f)*l)&&f<1?d():(cancelAnimationFrame(c),f>=1&&i&&i())};d()}function d(){c=requestAnimationFrame(u)}}var _h={T:0,L:0,W:0,H:0,FIT:void 0},ql=function(){var e=x.useRef(!1);return x.useEffect(function(){return e.current=!0,function(){e.current=!1}},[]),e},jh=["className"];function Ah(e){var t=e.className,n=Gi(e,jh);return oe.createElement("div",Ve({className:"PhotoView__Spinner "+t},n),oe.createElement("svg",{viewBox:"0 0 32 32",width:"36",height:"36",fill:"white"},oe.createElement("path",{opacity:".25",d:"M16 0 A16 16 0 0 0 16 32 A16 16 0 0 0 16 0 M16 4 A12 12 0 0 1 16 28 A12 12 0 0 1 16 4"}),oe.createElement("path",{d:"M16 0 A16 16 0 0 1 32 16 L28 16 A12 12 0 0 0 16 4z"})))}var Ih=["src","loaded","broken","className","onPhotoLoad","loadingElement","brokenElement"];function Oh(e){var t=e.src,n=e.loaded,r=e.broken,s=e.className,i=e.onPhotoLoad,l=e.loadingElement,o=e.brokenElement,c=Gi(e,Ih),u=ql();return t&&!r?oe.createElement(oe.Fragment,null,oe.createElement("img",Ve({className:"PhotoView__Photo"+(s?" "+s:""),src:t,onLoad:function(d){var f=d.target;u.current&&i({loaded:!0,naturalWidth:f.naturalWidth,naturalHeight:f.naturalHeight})},onError:function(){u.current&&i({broken:!0})},alt:""},c)),!n&&(oe.createElement("span",{className:"PhotoView__icon"},l)||oe.createElement(Ah,{className:"PhotoView__icon"}))):o?oe.createElement("span",{className:"PhotoView__icon"},typeof o=="function"?o({src:t}):o):null}var Rh={naturalWidth:void 0,naturalHeight:void 0,width:void 0,height:void 0,loaded:void 0,broken:!1,x:0,y:0,touched:!1,maskTouched:!1,rotate:0,scale:1,CX:0,CY:0,lastX:0,lastY:0,lastCX:0,lastCY:0,lastScale:1,touchTime:0,touchLength:0,pause:!0,stopRaf:!0,reach:void 0};function kh(e){var t=e.item,n=t.src,r=t.render,s=t.width,i=s===void 0?0:s,l=t.height,o=l===void 0?0:l,c=t.originRef,u=e.visible,d=e.speed,f=e.easing,p=e.wrapClassName,S=e.className,w=e.style,h=e.loadingElement,y=e.brokenElement,g=e.onPhotoTap,v=e.onMaskTap,E=e.onReachMove,T=e.onReachUp,C=e.onPhotoResize,j=e.isActive,N=e.expose,F=ni(Rh),A=F[0],U=F[1],W=x.useRef(0),le=ql(),se=A.naturalWidth,ee=se===void 0?i:se,pe=A.naturalHeight,be=pe===void 0?o:pe,Re=A.width,xe=Re===void 0?i:Re,$e=A.height,b=$e===void 0?o:$e,m=A.loaded,M=m===void 0?!n:m,L=A.broken,V=A.x,$=A.y,H=A.touched,z=A.stopRaf,G=A.maskTouched,te=A.rotate,q=A.scale,ce=A.CX,R=A.CY,k=A.lastX,P=A.lastY,I=A.lastCX,re=A.lastCY,B=A.lastScale,D=A.touchTime,Y=A.touchLength,K=A.pause,Pe=A.reach,Be=Dr({onScale:function(_){return Ne(Ir(_))},onRotate:function(_){te!==_&&(N({rotate:_}),U(Ve({rotate:_},Ls(ee,be,_))))}});function Ne(_,J,ve){q!==_&&(N({scale:_}),U(Ve({scale:_},Ds(V,$,xe,b,q,_,J,ve),_<=1&&{x:0,y:0})))}var me=Or(function(_,J,ve){if(ve===void 0&&(ve=0),(H||G)&&j){var Qt=ii(te,xe,b),wt=Qt[0],st=Qt[1];if(ve===0&&W.current===0){var Fe=Math.abs(_-ce)<=20,Ke=Math.abs(J-R)<=20;if(Fe&&Ke)return void U({lastCX:_,lastCY:J});W.current=Fe?J>R?3:2:1}var Zt=_-I,Jt=J-re,it=void 0;if(ve===0){var en=Ut(Zt+k,q,wt,innerWidth)[0],pn=Ut(Jt+P,q,st,innerHeight);it=function(Nt,St,Ct,pt){return St&&Nt===1||pt==="x"?"x":Ct&&Nt>1||pt==="y"?"y":void 0}(W.current,en,pn[0],Pe),it!==void 0&&E(it,_,J,q)}if(it==="x"||G)return void U({reach:"x"});var Et=Ir(q+(ve-Y)/100/2*q,ee/xe,.2);N({scale:Et}),U(Ve({touchLength:ve,reach:it,scale:Et},Ds(V,$,xe,b,q,Et,_,J,Zt,Jt)))}},{maxWait:8});function Ee(_){return!z&&!H&&(le.current&&U(Ve({},_,{pause:u})),le.current)}var Ae,Le,ke,Mt,Kt,Pt,fn,ze,xr=(Kt=function(_){return Ee({x:_})},Pt=function(_){return Ee({y:_})},fn=function(_){return le.current&&(N({scale:_}),U({scale:_})),!H&&le.current},ze=Dr({X:function(_){return Kt(_)},Y:function(_){return Pt(_)},S:function(_){return fn(_)}}),function(_,J,ve,Qt,wt,st,Fe,Ke,Zt,Jt,it){var en=ii(Jt,wt,st),pn=en[0],Et=en[1],Nt=Ut(_,Ke,pn,innerWidth),St=Nt[0],Ct=Nt[1],pt=Ut(J,Ke,Et,innerHeight),gn=pt[0],Er=pt[1],vn=Date.now()-it;if(vn>=200||Ke!=Fe||Math.abs(Zt-Fe)>1){var Ft=Ds(_,J,wt,st,Fe,Ke),Tt=Ft.x,tn=Ft.y,Ze=St?Ct:Tt!==_?Tt:null,yn=gn?Er:tn!==J?tn:null;return Ze!==null&&sn(_,Ze,ze.X),yn!==null&&sn(J,yn,ze.Y),void(Ke!=Fe&&sn(Fe,Ke,ze.S))}var nn=(_-ve)/vn,Dt=(J-Qt)/vn,Lt=Math.sqrt(Math.pow(nn,2)+Math.pow(Dt,2)),_t=!1,jt=!1;(function(at,He){var We=at,At=0,ot=void 0,Je=0,bn=function(Fn){ot||(ot=Fn);var Dn=Fn-ot,ua=Math.sign(at),da=-.001*ua,fa=Math.sign(-We)*Math.pow(We,2)*2e-4,Oc=We*Dn+(da+fa)*Math.pow(Dn,2)/2;At+=Oc,ot=Fn,ua*(We+=(da+fa)*Dn)<=0?et():He(At)?gt():et()};function gt(){Je=requestAnimationFrame(bn)}function et(){cancelAnimationFrame(Je)}gt()})(Lt,function(at){var He=_+at*(nn/Lt),We=J+at*(Dt/Lt),At=Ut(He,Fe,pn,innerWidth),ot=At[0],Je=At[1],bn=Ut(We,Fe,Et,innerHeight),gt=bn[0],et=bn[1];if(ot&&!_t&&(_t=!0,St?sn(He,Je,ze.X):La(Je,He+(He-Je),ze.X)),gt&&!jt&&(jt=!0,gn?sn(We,et,ze.Y):La(et,We+(We-et),ze.Y)),_t&&jt)return!1;var Fn=_t||ze.X(Je),Dn=jt||ze.Y(et);return Fn&&Dn})}),hn=(Ae=g,Le=function(_,J){Pe||Ne(q!==1?1:Math.max(2,ee/xe),_,J)},ke=x.useRef(0),Mt=Or(function(){ke.current=0,Ae.apply(void 0,[].slice.call(arguments))},{wait:300}),function(){var _=[].slice.call(arguments);ke.current+=1,Mt.apply(void 0,_),ke.current>=2&&(Mt.cancel(),ke.current=0,Le.apply(void 0,_))});function mn(_,J){if(W.current=0,(H||G)&&j){U({touched:!1,maskTouched:!1,pause:!1,stopRaf:!1,reach:void 0});var ve=Ir(q,ee/xe);if(xr(V,$,k,P,xe,b,q,ve,B,te,D),T(_,J),ce===_&&R===J){if(H)return void hn(_,J);G&&v(_,J)}}}function Nn(_,J,ve){ve===void 0&&(ve=0),U({touched:!0,CX:_,CY:J,lastCX:_,lastCY:J,lastX:V,lastY:$,lastScale:q,touchLength:ve,touchTime:Date.now()})}function wr(_){U({maskTouched:!0,CX:_.clientX,CY:_.clientY,lastX:V,lastY:$})}En(It?void 0:"mousemove",function(_){_.preventDefault(),me(_.clientX,_.clientY)}),En(It?void 0:"mouseup",function(_){mn(_.clientX,_.clientY)}),En(It?"touchmove":void 0,function(_){_.preventDefault();var J=Da(_);me.apply(void 0,J)},{passive:!1}),En(It?"touchend":void 0,function(_){var J=_.changedTouches[0];mn(J.clientX,J.clientY)},{passive:!1}),En("resize",Or(function(){M&&!H&&(U(Ls(ee,be,te)),C())},{maxWait:8})),si(function(){j&&N(Ve({scale:q,rotate:te},Be))},[j]);var mt=function(_,J,ve,Qt,wt,st,Fe,Ke,Zt,Jt){var it=function(Tt,tn,Ze,yn,nn){var Dt=x.useRef(!1),Lt=ni({lead:!0,scale:Ze}),_t=Lt[0],jt=_t.lead,at=_t.scale,He=Lt[1],We=Or(function(At){try{return nn(!0),He({lead:!1,scale:At}),Promise.resolve()}catch(ot){return Promise.reject(ot)}},{wait:yn});return si(function(){Dt.current?(nn(!1),He({lead:!0}),We(Ze)):Dt.current=!0},[Ze]),jt?[Tt*at,tn*at,Ze/at]:[Tt*Ze,tn*Ze,1]}(st,Fe,Ke,Zt,Jt),en=it[0],pn=it[1],Et=it[2],Nt=function(Tt,tn,Ze,yn,nn){var Dt=x.useState(_h),Lt=Dt[0],_t=Dt[1],jt=x.useState(0),at=jt[0],He=jt[1],We=x.useRef(),At=Dr({OK:function(){return Tt&&He(4)}});function ot(Je){nn(!1),He(Je)}return x.useEffect(function(){if(We.current||(We.current=Date.now()),Ze){if(function(Je,bn){var gt=Je&&Je.current;if(gt&&gt.nodeType===1){var et=gt.getBoundingClientRect();bn({T:et.top,L:et.left,W:et.width,H:et.height,FIT:gt.tagName==="IMG"?getComputedStyle(gt).objectFit:void 0})}}(tn,_t),Tt)return Date.now()-We.current<250?(He(1),requestAnimationFrame(function(){He(2),requestAnimationFrame(function(){return ot(3)})}),void setTimeout(At.OK,yn)):void He(4);ot(5)}},[Tt,Ze]),[at,Lt]}(_,J,ve,Zt,Jt),St=Nt[0],Ct=Nt[1],pt=Ct.W,gn=Ct.FIT,Er=innerWidth/2,vn=innerHeight/2,Ft=St<3||St>4;return[Ft?pt?Ct.L:Er:Qt+(Er-st*Ke/2),Ft?pt?Ct.T:vn:wt+(vn-Fe*Ke/2),en,Ft&&gn?en*(Ct.H/pt):pn,St===0?Et:Ft?pt/(st*Ke)||.01:Et,Ft?gn?1:0:1,St,gn]}(u,c,M,V,$,xe,b,q,d,function(_){return U({pause:_})}),ae=mt[4],Se=mt[6],Ie="transform "+d+"ms "+f,je={className:S,onMouseDown:It?void 0:function(_){_.stopPropagation(),_.button===0&&Nn(_.clientX,_.clientY,0)},onTouchStart:It?function(_){_.stopPropagation(),Nn.apply(void 0,Da(_))}:void 0,onWheel:function(_){if(!Pe){var J=Ir(q-_.deltaY/100/2,ee/xe);U({stopRaf:!0}),Ne(J,_.clientX,_.clientY)}},style:{width:mt[2],height:mt[3],opacity:mt[5],objectFit:Se===4?void 0:mt[7],transform:te?"rotate("+te+"deg)":void 0,transition:Se>2?Ie+", opacity "+d+"ms ease, height "+(Se<4?d/2:Se>4?d:0)+"ms "+f:void 0}};return oe.createElement("div",{className:"PhotoView__PhotoWrap"+(p?" "+p:""),style:w,onMouseDown:!It&&j?wr:void 0,onTouchStart:It&&j?function(_){return wr(_.touches[0])}:void 0},oe.createElement("div",{className:"PhotoView__PhotoBox",style:{transform:"matrix("+ae+", 0, 0, "+ae+", "+mt[0]+", "+mt[1]+")",transition:H||K?void 0:Ie,willChange:j?"transform":void 0}},n?oe.createElement(Oh,Ve({src:n,loaded:M,broken:L},je,{onPhotoLoad:function(_){U(Ve({},_,_.loaded&&Ls(_.naturalWidth||0,_.naturalHeight||0,te)))},loadingElement:h,brokenElement:y})):r&&r({attrs:je,scale:ae,rotate:te})))}var Va={x:0,touched:!1,pause:!1,lastCX:void 0,lastCY:void 0,bg:void 0,lastBg:void 0,overlay:!0,minimal:!0,scale:1,rotate:0};function Mh(e){var t=e.loop,n=t===void 0?3:t,r=e.speed,s=e.easing,i=e.photoClosable,l=e.maskClosable,o=l===void 0||l,c=e.maskOpacity,u=c===void 0?1:c,d=e.pullClosable,f=d===void 0||d,p=e.bannerVisible,S=p===void 0||p,w=e.overlayRender,h=e.toolbarRender,y=e.className,g=e.maskClassName,v=e.photoClassName,E=e.photoWrapClassName,T=e.loadingElement,C=e.brokenElement,j=e.images,N=e.index,F=N===void 0?0:N,A=e.onIndexChange,U=e.visible,W=e.onClose,le=e.afterClose,se=e.portalContainer,ee=ni(Va),pe=ee[0],be=ee[1],Re=x.useState(0),xe=Re[0],$e=Re[1],b=pe.x,m=pe.touched,M=pe.pause,L=pe.lastCX,V=pe.lastCY,$=pe.bg,H=$===void 0?u:$,z=pe.lastBg,G=pe.overlay,te=pe.minimal,q=pe.scale,ce=pe.rotate,R=pe.onScale,k=pe.onRotate,P=e.hasOwnProperty("index"),I=P?F:xe,re=P?A:$e,B=x.useRef(I),D=j.length,Y=j[I],K=typeof n=="boolean"?n:D>n,Pe=function(ae,Se){var Ie=x.useReducer(function(ve){return!ve},!1)[1],je=x.useRef(0),_=function(ve,Qt){var wt=x.useRef(ve);function st(Fe){wt.current=Fe}return x.useMemo(function(){(function(Fe){ae?(Fe(ae),je.current=1):je.current=2})(st)},[ve]),[wt.current,st]}(ae),J=_[1];return[_[0],je.current,function(){Ie(),je.current===2&&(J(!1),Se&&Se()),je.current=0}]}(U,le),Be=Pe[0],Ne=Pe[1],me=Pe[2];si(function(){if(Be)return be({pause:!0,x:I*-(innerWidth+20)}),void(B.current=I);be(Va)},[Be]);var Ee=Dr({close:function(ae){k&&k(0),be({overlay:!0,lastBg:H}),W(ae)},changeIndex:function(ae,Se){Se===void 0&&(Se=!1);var Ie=K?B.current+(ae-I):ae,je=D-1,_=ri(Ie,0,je),J=K?Ie:_,ve=innerWidth+20;be({touched:!1,lastCX:void 0,lastCY:void 0,x:-ve*J,pause:Se}),B.current=J,re&&re(K?ae<0?je:ae>je?0:ae:_)}}),Ae=Ee.close,Le=Ee.changeIndex;function ke(ae){return ae?Ae():be({overlay:!G})}function Mt(){be({x:-(innerWidth+20)*I,lastCX:void 0,lastCY:void 0,pause:!0}),B.current=I}function Kt(ae,Se,Ie,je){ae==="x"?function(_){if(L!==void 0){var J=_-L,ve=J;!K&&(I===0&&J>0||I===D-1&&J<0)&&(ve=J/2),be({touched:!0,lastCX:L,x:-(innerWidth+20)*B.current+ve,pause:!1})}else be({touched:!0,lastCX:_,x:b,pause:!1})}(Se):ae==="y"&&function(_,J){if(V!==void 0){var ve=u===null?null:ri(u,.01,u-Math.abs(_-V)/100/4);be({touched:!0,lastCY:V,bg:J===1?ve:u,minimal:J===1})}else be({touched:!0,lastCY:_,bg:H,minimal:!0})}(Ie,je)}function Pt(ae,Se){var Ie=ae-(L??ae),je=Se-(V??Se),_=!1;if(Ie<-40)Le(I+1);else if(Ie>40)Le(I-1);else{var J=-(innerWidth+20)*B.current;Math.abs(je)>100&&te&&f&&(_=!0,Ae()),be({touched:!1,x:J,lastCX:void 0,lastCY:void 0,bg:u,overlay:!!_||G})}}En("keydown",function(ae){if(U)switch(ae.key){case"ArrowLeft":Le(I-1,!0);break;case"ArrowRight":Le(I+1,!0);break;case"Escape":Ae()}});var fn=function(ae,Se,Ie){return x.useMemo(function(){var je=ae.length;return Ie?ae.concat(ae).concat(ae).slice(je+Se-1,je+Se+2):ae.slice(Math.max(Se-1,0),Math.min(Se+2,je+1))},[ae,Se,Ie])}(j,I,K);if(!Be)return null;var ze=G&&!Ne,xr=U?H:z,hn=R&&k&&{images:j,index:I,visible:U,onClose:Ae,onIndexChange:Le,overlayVisible:ze,overlay:Y&&Y.overlay,scale:q,rotate:ce,onScale:R,onRotate:k},mn=r?r(Ne):400,Nn=s?s(Ne):"cubic-bezier(0.25, 0.8, 0.25, 1)",wr=r?r(3):600,mt=s?s(3):"cubic-bezier(0.25, 0.8, 0.25, 1)";return oe.createElement(xh,{className:"PhotoView-Portal"+(ze?"":" PhotoView-Slider__clean")+(U?"":" PhotoView-Slider__willClose")+(y?" "+y:""),role:"dialog",onClick:function(ae){return ae.stopPropagation()},container:se},U&&oe.createElement(Ch,null),oe.createElement("div",{className:"PhotoView-Slider__Backdrop"+(g?" "+g:"")+(Ne===1?" PhotoView-Slider__fadeIn":Ne===2?" PhotoView-Slider__fadeOut":""),style:{background:xr?"rgba(0, 0, 0, "+xr+")":void 0,transitionTimingFunction:Nn,transitionDuration:(m?0:mn)+"ms",animationDuration:mn+"ms"},onAnimationEnd:me}),S&&oe.createElement("div",{className:"PhotoView-Slider__BannerWrap"},oe.createElement("div",{className:"PhotoView-Slider__Counter"},I+1," / ",D),oe.createElement("div",{className:"PhotoView-Slider__BannerRight"},h&&hn&&h(hn),oe.createElement(wh,{className:"PhotoView-Slider__toolbarIcon",onClick:Ae}))),fn.map(function(ae,Se){var Ie=K||I!==0?B.current-1+Se:I+Se;return oe.createElement(kh,{key:K?ae.key+"/"+ae.src+"/"+Ie:ae.key,item:ae,speed:mn,easing:Nn,visible:U,onReachMove:Kt,onReachUp:Pt,onPhotoTap:function(){return ke(i)},onMaskTap:function(){return ke(o)},wrapClassName:E,className:v,style:{left:(innerWidth+20)*Ie+"px",transform:"translate3d("+b+"px, 0px, 0)",transition:m||M?void 0:"transform "+wr+"ms "+mt},loadingElement:T,brokenElement:C,onPhotoResize:Mt,isActive:B.current===Ie,expose:be})}),!It&&S&&oe.createElement(oe.Fragment,null,(K||I!==0)&&oe.createElement("div",{className:"PhotoView-Slider__ArrowLeft",onClick:function(){return Le(I-1,!0)}},oe.createElement(Eh,null)),(K||I+1<D)&&oe.createElement("div",{className:"PhotoView-Slider__ArrowRight",onClick:function(){return Le(I+1,!0)}},oe.createElement(Sh,null))),w&&hn&&oe.createElement("div",{className:"PhotoView-Slider__Overlay"},w(hn)))}const Ph=e=>{const n=new DOMParser().parseFromString(e,"text/html").querySelectorAll("img");return Array.from(n).map(r=>r.getAttribute("src"))},Nh=({info:e,handleEntryClick:t,getEntries:n})=>{const{activeContent:r}=kn(),{handleFetchContent:s,handleToggleStarred:i,handleToggleStatus:l}=Ni(),{handleLeftKey:o,handleRightKey:c,handleEscapeKey:u}=dl(e,t,n);if(!r)return null;const d=r.status==="unread",f=r.starred;return a.jsxs(Te.Group,{className:"action-buttons",children:[a.jsx(Te,{icon:a.jsx(su,{}),onClick:u,shape:"round",type:"primary"}),a.jsx(Te,{icon:d?a.jsx(Co,{}):a.jsx(To,{}),onClick:()=>l(r),type:"primary"}),a.jsx(Te,{onClick:()=>i(r),type:"primary",icon:f?a.jsx(bi,{style:{color:"#ffcd00"}}):a.jsx(yi,{})}),a.jsx(Te,{icon:a.jsx(iu,{}),onClick:o,type:"primary"}),a.jsx(Te,{icon:a.jsx(au,{}),onClick:c,type:"primary"}),a.jsx(Te,{icon:a.jsx(ou,{}),onClick:s,shape:"round",type:"primary"})]})},Fh=({url:e,text:t})=>{const[n,r]=x.useState(!1),s=()=>r(!0),i=()=>r(!1);return a.jsx(cu,{to:e,style:{color:"inherit",textDecoration:n?"underline":"none"},onMouseEnter:s,onMouseLeave:i,children:t})},Dh=({node:e,index:t,togglePhotoSlider:n})=>{const[r,s]=x.useState(!1),{isMobileView:i}=hr();return a.jsx("div",{style:{textAlign:"center",position:"relative"},children:a.jsxs("div",{style:{display:"inline-block",position:"relative"},onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:[a.jsx("img",{...e.attribs,alt:e.attribs.alt}),a.jsx(Te,{icon:a.jsx(uu,{}),style:{position:"absolute",top:30,right:10,backgroundColor:"rgba(0, 0, 0, 0.5)",opacity:i||r?1:0,transition:"opacity 0.3s"},onClick:l=>{l.preventDefault(),n(t)}})]})})},Lh=(e,t)=>({replace:n=>{if(n.type==="tag"&&n.name==="img"){const r=e.findIndex(s=>s===n.attribs.src);return a.jsx(Dh,{node:n,index:r,togglePhotoSlider:t})}return n}}),Vh=x.forwardRef(({info:e,handleEntryClick:t,getEntries:n,isFilteredEntriesUpdated:r,setIsFilteredEntriesUpdated:s},i)=>{const l=dr(),{activeContent:o}=kn(),c=Z(Oe),{articleWidth:u,fontSize:d}=c,f=ge(ul),[p,S]=x.useState(!1),[w,h]=x.useState(0),y=j=>{h(j),S(N=>!N)};if(!o)return a.jsxs("div",{ref:i,className:"content-empty",children:[a.jsx(lu,{style:{fontSize:"64px"}}),a.jsx(Q.Title,{heading:6,style:{color:"var(--color-text-3)",marginTop:"10px"},children:"ReactFlux"})]});const g=Ph(o.content),v=Lh(g,y),E=yh(o.content,v),T=o.feed.category.id,C=o.feed.category.title;return a.jsxs("div",{className:"article-content",onBlur:()=>f(!1),onFocus:()=>f(!0),ref:i,children:[a.jsxs("div",{className:"scroll-container",children:[a.jsxs("div",{className:"article-header",style:{width:`${u}%`},children:[a.jsx(Q.Title,{className:"article-title",heading:5,children:a.jsx("a",{href:o.url,target:"_blank",rel:"noopener noreferrer",children:o.title})}),a.jsxs("div",{className:"article-meta",children:[a.jsx(Q.Text,{children:a.jsx(Fh,{url:`/feed/${o.feed.id}`,text:o.feed.title})}),a.jsx(Q.Text,{children:` - ${o.author}`}),a.jsx(Q.Text,{children:a.jsx(Jn,{size:"small",onClick:()=>{l(`/category/${T}`)},style:{marginLeft:"10px",cursor:"pointer"},children:C})})]}),a.jsx(Q.Text,{className:"article-date",children:qt(o.published_at).format("dddd, MMMM D, YYYY [at] h:mm A")}),a.jsx(ct,{})]}),a.jsxs("div",{className:"article-body",style:{fontSize:`${d}rem`,width:`${u}%`},children:[E,a.jsx(Mh,{images:g.map(j=>({src:j,key:j})),visible:p,onClose:()=>{S(!1),f(!0)},index:w,onIndexChange:h})]},o.id)]}),a.jsx(Nh,{info:e,handleEntryClick:t,getEntries:n,isFilteredEntriesUpdated:r,setIsFilteredEntriesUpdated:s})]})});var Uh=Object.defineProperty,$h=(e,t)=>{for(var n in t)Uh(e,n,{get:t[n],enumerable:!0})},ft={};$h(ft,{assign:()=>Hh,colors:()=>Wt,createStringInterpolator:()=>na,skipAnimation:()=>Jl,to:()=>Zl,willAdvance:()=>ra});var Ki=yr(),ne=e=>vr(e,Ki),Qi=yr();ne.write=e=>vr(e,Qi);var bs=yr();ne.onStart=e=>vr(e,bs);var Zi=yr();ne.onFrame=e=>vr(e,Zi);var Ji=yr();ne.onFinish=e=>vr(e,Ji);var Tn=[];ne.setTimeout=(e,t)=>{const n=ne.now()+t,r=()=>{const i=Tn.findIndex(l=>l.cancel==r);~i&&Tn.splice(i,1),Ht-=~i?1:0},s={time:n,handler:e,cancel:r};return Tn.splice(Xl(n),0,s),Ht+=1,Yl(),s};var Xl=e=>~(~Tn.findIndex(t=>t.time>e)||~Tn.length);ne.cancel=e=>{bs.delete(e),Zi.delete(e),Ji.delete(e),Ki.delete(e),Qi.delete(e)};ne.sync=e=>{ai=!0,ne.batchedUpdates(e),ai=!1};ne.throttle=e=>{let t;function n(){try{e(...t)}finally{t=null}}function r(...s){t=s,ne.onStart(n)}return r.handler=e,r.cancel=()=>{bs.delete(n),t=null},r};var ea=typeof window<"u"?window.requestAnimationFrame:()=>{};ne.use=e=>ea=e;ne.now=typeof performance<"u"?()=>performance.now():Date.now;ne.batchedUpdates=e=>e();ne.catch=console.error;ne.frameLoop="always";ne.advance=()=>{ne.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):Kl()};var zt=-1,Ht=0,ai=!1;function vr(e,t){ai?(t.delete(e),e(0)):(t.add(e),Yl())}function Yl(){zt<0&&(zt=0,ne.frameLoop!=="demand"&&ea(Gl))}function Bh(){zt=-1}function Gl(){~zt&&(ea(Gl),ne.batchedUpdates(Kl))}function Kl(){const e=zt;zt=ne.now();const t=Xl(zt);if(t&&(Ql(Tn.splice(0,t),n=>n.handler()),Ht-=t),!Ht){Bh();return}bs.flush(),Ki.flush(e?Math.min(64,zt-e):16.667),Zi.flush(),Qi.flush(),Ji.flush()}function yr(){let e=new Set,t=e;return{add(n){Ht+=t==e&&!e.has(n)?1:0,e.add(n)},delete(n){return Ht-=t==e&&e.has(n)?1:0,e.delete(n)},flush(n){t.size&&(e=new Set,Ht-=t.size,Ql(t,r=>r(n)&&e.add(r)),Ht+=e.size,t=e)}}}function Ql(e,t){e.forEach(n=>{try{t(n)}catch(r){ne.catch(r)}})}function oi(){}var zh=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),O={arr:Array.isArray,obj:e=>!!e&&e.constructor.name==="Object",fun:e=>typeof e=="function",str:e=>typeof e=="string",num:e=>typeof e=="number",und:e=>e===void 0};function Ot(e,t){if(O.arr(e)){if(!O.arr(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}var he=(e,t)=>e.forEach(t);function xt(e,t,n){if(O.arr(e)){for(let r=0;r<e.length;r++)t.call(n,e[r],`${r}`);return}for(const r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r)}var Qe=e=>O.und(e)?[]:O.arr(e)?e:[e];function Yn(e,t){if(e.size){const n=Array.from(e);e.clear(),he(n,t)}}var Hn=(e,...t)=>Yn(e,n=>n(...t)),ta=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),na,Zl,Wt=null,Jl=!1,ra=oi,Hh=e=>{e.to&&(Zl=e.to),e.now&&(ne.now=e.now),e.colors!==void 0&&(Wt=e.colors),e.skipAnimation!=null&&(Jl=e.skipAnimation),e.createStringInterpolator&&(na=e.createStringInterpolator),e.requestAnimationFrame&&ne.use(e.requestAnimationFrame),e.batchedUpdates&&(ne.batchedUpdates=e.batchedUpdates),e.willAdvance&&(ra=e.willAdvance),e.frameLoop&&(ne.frameLoop=e.frameLoop)},Gn=new Set,rt=[],Vs=[],Xr=0,xs={get idle(){return!Gn.size&&!rt.length},start(e){Xr>e.priority?(Gn.add(e),ne.onStart(Wh)):(ec(e),ne(li))},advance:li,sort(e){if(Xr)ne.onFrame(()=>xs.sort(e));else{const t=rt.indexOf(e);~t&&(rt.splice(t,1),tc(e))}},clear(){rt=[],Gn.clear()}};function Wh(){Gn.forEach(ec),Gn.clear(),ne(li)}function ec(e){rt.includes(e)||tc(e)}function tc(e){rt.splice(qh(rt,t=>t.priority>e.priority),0,e)}function li(e){const t=Vs;for(let n=0;n<rt.length;n++){const r=rt[n];Xr=r.priority,r.idle||(ra(r),r.advance(e),r.idle||t.push(r))}return Xr=0,Vs=rt,Vs.length=0,rt=t,rt.length>0}function qh(e,t){const n=e.findIndex(t);return n<0?e.length:n}var Xh=(e,t,n)=>Math.min(Math.max(n,e),t),Yh={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},dt="[-+]?\\d*\\.?\\d+",Yr=dt+"%";function ws(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}var Gh=new RegExp("rgb"+ws(dt,dt,dt)),Kh=new RegExp("rgba"+ws(dt,dt,dt,dt)),Qh=new RegExp("hsl"+ws(dt,Yr,Yr)),Zh=new RegExp("hsla"+ws(dt,Yr,Yr,dt)),Jh=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,em=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,tm=/^#([0-9a-fA-F]{6})$/,nm=/^#([0-9a-fA-F]{8})$/;function rm(e){let t;return typeof e=="number"?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=tm.exec(e))?parseInt(t[1]+"ff",16)>>>0:Wt&&Wt[e]!==void 0?Wt[e]:(t=Gh.exec(e))?(wn(t[1])<<24|wn(t[2])<<16|wn(t[3])<<8|255)>>>0:(t=Kh.exec(e))?(wn(t[1])<<24|wn(t[2])<<16|wn(t[3])<<8|Ba(t[4]))>>>0:(t=Jh.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=nm.exec(e))?parseInt(t[1],16)>>>0:(t=em.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=Qh.exec(e))?(Ua($a(t[1]),Rr(t[2]),Rr(t[3]))|255)>>>0:(t=Zh.exec(e))?(Ua($a(t[1]),Rr(t[2]),Rr(t[3]))|Ba(t[4]))>>>0:null}function Us(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Ua(e,t,n){const r=n<.5?n*(1+t):n+t-n*t,s=2*n-r,i=Us(s,r,e+1/3),l=Us(s,r,e),o=Us(s,r,e-1/3);return Math.round(i*255)<<24|Math.round(l*255)<<16|Math.round(o*255)<<8}function wn(e){const t=parseInt(e,10);return t<0?0:t>255?255:t}function $a(e){return(parseFloat(e)%360+360)%360/360}function Ba(e){const t=parseFloat(e);return t<0?0:t>1?255:Math.round(t*255)}function Rr(e){const t=parseFloat(e);return t<0?0:t>100?1:t/100}function za(e){let t=rm(e);if(t===null)return e;t=t||0;const n=(t&4278190080)>>>24,r=(t&16711680)>>>16,s=(t&65280)>>>8,i=(t&255)/255;return`rgba(${n}, ${r}, ${s}, ${i})`}var nr=(e,t,n)=>{if(O.fun(e))return e;if(O.arr(e))return nr({range:e,output:t,extrapolate:n});if(O.str(e.output[0]))return na(e);const r=e,s=r.output,i=r.range||[0,1],l=r.extrapolateLeft||r.extrapolate||"extend",o=r.extrapolateRight||r.extrapolate||"extend",c=r.easing||(u=>u);return u=>{const d=im(u,i);return sm(u,i[d],i[d+1],s[d],s[d+1],c,l,o,r.map)}};function sm(e,t,n,r,s,i,l,o,c){let u=c?c(e):e;if(u<t){if(l==="identity")return u;l==="clamp"&&(u=t)}if(u>n){if(o==="identity")return u;o==="clamp"&&(u=n)}return r===s?r:t===n?e<=t?r:s:(t===-1/0?u=-u:n===1/0?u=u-t:u=(u-t)/(n-t),u=i(u),r===-1/0?u=-u:s===1/0?u=u+r:u=u*(s-r)+r,u)}function im(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}var am=(e,t="end")=>n=>{n=t==="end"?Math.min(n,.999):Math.max(n,.001);const r=n*e,s=t==="end"?Math.floor(r):Math.ceil(r);return Xh(0,1,s/e)},Gr=1.70158,kr=Gr*1.525,Ha=Gr+1,Wa=2*Math.PI/3,qa=2*Math.PI/4.5,Mr=e=>e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,om={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>1-(1-e)*(1-e),easeInOutQuad:e=>e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2,easeInCubic:e=>e*e*e,easeOutCubic:e=>1-Math.pow(1-e,3),easeInOutCubic:e=>e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2,easeInQuart:e=>e*e*e*e,easeOutQuart:e=>1-Math.pow(1-e,4),easeInOutQuart:e=>e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2,easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>1-Math.pow(1-e,5),easeInOutQuint:e=>e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2,easeInSine:e=>1-Math.cos(e*Math.PI/2),easeOutSine:e=>Math.sin(e*Math.PI/2),easeInOutSine:e=>-(Math.cos(Math.PI*e)-1)/2,easeInExpo:e=>e===0?0:Math.pow(2,10*e-10),easeOutExpo:e=>e===1?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>e===0?0:e===1?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2,easeInCirc:e=>1-Math.sqrt(1-Math.pow(e,2)),easeOutCirc:e=>Math.sqrt(1-Math.pow(e-1,2)),easeInOutCirc:e=>e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2,easeInBack:e=>Ha*e*e*e-Gr*e*e,easeOutBack:e=>1+Ha*Math.pow(e-1,3)+Gr*Math.pow(e-1,2),easeInOutBack:e=>e<.5?Math.pow(2*e,2)*((kr+1)*2*e-kr)/2:(Math.pow(2*e-2,2)*((kr+1)*(e*2-2)+kr)+2)/2,easeInElastic:e=>e===0?0:e===1?1:-Math.pow(2,10*e-10)*Math.sin((e*10-10.75)*Wa),easeOutElastic:e=>e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin((e*10-.75)*Wa)+1,easeInOutElastic:e=>e===0?0:e===1?1:e<.5?-(Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*qa))/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*qa)/2+1,easeInBounce:e=>1-Mr(1-e),easeOutBounce:Mr,easeInOutBounce:e=>e<.5?(1-Mr(1-2*e))/2:(1+Mr(2*e-1))/2,steps:am},rr=Symbol.for("FluidValue.get"),In=Symbol.for("FluidValue.observers"),tt=e=>!!(e&&e[rr]),Xe=e=>e&&e[rr]?e[rr]():e,Xa=e=>e[In]||null;function lm(e,t){e.eventObserved?e.eventObserved(t):e(t)}function sr(e,t){const n=e[In];n&&n.forEach(r=>{lm(r,t)})}var nc=class{constructor(e){if(!e&&!(e=this.get))throw Error("Unknown getter");cm(this,e)}},cm=(e,t)=>rc(e,rr,t);function Mn(e,t){if(e[rr]){let n=e[In];n||rc(e,In,n=new Set),n.has(t)||(n.add(t),e.observerAdded&&e.observerAdded(n.size,t))}return t}function ir(e,t){const n=e[In];if(n&&n.has(t)){const r=n.size-1;r?n.delete(t):e[In]=null,e.observerRemoved&&e.observerRemoved(r,t)}}var rc=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),Lr=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,um=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,Ya=new RegExp(`(${Lr.source})(%|[a-z]+)`,"i"),dm=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,Es=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,sc=e=>{const[t,n]=fm(e);if(!t||ta())return e;const r=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(r)return r.trim();if(n&&n.startsWith("--")){const s=window.getComputedStyle(document.documentElement).getPropertyValue(n);return s||e}else{if(n&&Es.test(n))return sc(n);if(n)return n}return e},fm=e=>{const t=Es.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]},$s,hm=(e,t,n,r,s)=>`rgba(${Math.round(t)}, ${Math.round(n)}, ${Math.round(r)}, ${s})`,ic=e=>{$s||($s=Wt?new RegExp(`(${Object.keys(Wt).join("|")})(?!\\w)`,"g"):/^\b$/);const t=e.output.map(i=>Xe(i).replace(Es,sc).replace(um,za).replace($s,za)),n=t.map(i=>i.match(Lr).map(Number)),s=n[0].map((i,l)=>n.map(o=>{if(!(l in o))throw Error('The arity of each "output" value must be equal');return o[l]})).map(i=>nr({...e,output:i}));return i=>{var c;const l=!Ya.test(t[0])&&((c=t.find(u=>Ya.test(u)))==null?void 0:c.replace(Lr,""));let o=0;return t[0].replace(Lr,()=>`${s[o++](i)}${l||""}`).replace(dm,hm)}},sa="react-spring: ",ac=e=>{const t=e;let n=!1;if(typeof t!="function")throw new TypeError(`${sa}once requires a function parameter`);return(...r)=>{n||(t(...r),n=!0)}},mm=ac(console.warn);function pm(){mm(`${sa}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var gm=ac(console.warn);function vm(){gm(`${sa}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function Ss(e){return O.str(e)&&(e[0]=="#"||/\d/.test(e)||!ta()&&Es.test(e)||e in(Wt||{}))}var ia=ta()?x.useEffect:x.useLayoutEffect,ym=()=>{const e=x.useRef(!1);return ia(()=>(e.current=!0,()=>{e.current=!1}),[]),e};function oc(){const e=x.useState()[1],t=ym();return()=>{t.current&&e(Math.random())}}function bm(e,t){const[n]=x.useState(()=>({inputs:t,result:e()})),r=x.useRef(),s=r.current;let i=s;return i?t&&i.inputs&&xm(t,i.inputs)||(i={inputs:t,result:e()}):i=n,x.useEffect(()=>{r.current=i,s==n&&(n.inputs=n.result=void 0)},[i]),i.result}function xm(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}var lc=e=>x.useEffect(e,wm),wm=[];function Ga(e){const t=x.useRef();return x.useEffect(()=>{t.current=e}),t.current}var ar=Symbol.for("Animated:node"),Em=e=>!!e&&e[ar]===e,vt=e=>e&&e[ar],aa=(e,t)=>zh(e,ar,t),Cs=e=>e&&e[ar]&&e[ar].getPayload(),cc=class{constructor(){aa(this,this)}getPayload(){return this.payload||[]}},br=class extends cc{constructor(e){super(),this._value=e,this.done=!0,this.durationProgress=0,O.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new br(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return O.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value===e?!1:(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,O.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}},or=class extends br{constructor(e){super(0),this._string=null,this._toString=nr({output:[e,e]})}static create(e){return new or(e)}getValue(){const e=this._string;return e??(this._string=this._toString(this._value))}setValue(e){if(O.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else if(super.setValue(e))this._string=null;else return!1;return!0}reset(e){e&&(this._toString=nr({output:[this.getValue(),e]})),this._value=0,super.reset()}},Kr={dependencies:null},Ts=class extends cc{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const t={};return xt(this.source,(n,r)=>{Em(n)?t[r]=n.getValue(e):tt(n)?t[r]=Xe(n):e||(t[r]=n)}),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&he(this.payload,e=>e.reset())}_makePayload(e){if(e){const t=new Set;return xt(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){Kr.dependencies&&tt(e)&&Kr.dependencies.add(e);const t=Cs(e);t&&he(t,n=>this.add(n))}},uc=class extends Ts{constructor(e){super(e)}static create(e){return new uc(e)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){const t=this.getPayload();return e.length==t.length?t.map((n,r)=>n.setValue(e[r])).some(Boolean):(super.setValue(e.map(Sm)),!0)}};function Sm(e){return(Ss(e)?or:br).create(e)}function ci(e){const t=vt(e);return t?t.constructor:O.arr(e)?uc:Ss(e)?or:br}var Ka=(e,t)=>{const n=!O.fun(e)||e.prototype&&e.prototype.isReactComponent;return x.forwardRef((r,s)=>{const i=x.useRef(null),l=n&&x.useCallback(w=>{i.current=_m(s,w)},[s]),[o,c]=Tm(r,t),u=oc(),d=()=>{const w=i.current;if(n&&!w)return;(w?t.applyAnimatedValues(w,o.getValue(!0)):!1)===!1&&u()},f=new Cm(d,c),p=x.useRef();ia(()=>(p.current=f,he(c,w=>Mn(w,f)),()=>{p.current&&(he(p.current.deps,w=>ir(w,p.current)),ne.cancel(p.current.update))})),x.useEffect(d,[]),lc(()=>()=>{const w=p.current;he(w.deps,h=>ir(h,w))});const S=t.getComponentProps(o.getValue());return x.createElement(e,{...S,ref:l})})},Cm=class{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){e.type=="change"&&ne.write(this.update)}};function Tm(e,t){const n=new Set;return Kr.dependencies=n,e.style&&(e={...e,style:t.createAnimatedStyle(e.style)}),e=new Ts(e),Kr.dependencies=null,[e,n]}function _m(e,t){return e&&(O.fun(e)?e(t):e.current=t),t}var Qa=Symbol.for("AnimatedComponent"),jm=(e,{applyAnimatedValues:t=()=>!1,createAnimatedStyle:n=s=>new Ts(s),getComponentProps:r=s=>s}={})=>{const s={applyAnimatedValues:t,createAnimatedStyle:n,getComponentProps:r},i=l=>{const o=Za(l)||"Anonymous";return O.str(l)?l=i[l]||(i[l]=Ka(l,s)):l=l[Qa]||(l[Qa]=Ka(l,s)),l.displayName=`Animated(${o})`,l};return xt(e,(l,o)=>{O.arr(e)&&(o=Za(l)),i[o]=i(l)}),{animated:i}},Za=e=>O.str(e)?e:e&&O.str(e.displayName)?e.displayName:O.fun(e)&&e.name||null;function an(e,...t){return O.fun(e)?e(...t):e}var Kn=(e,t)=>e===!0||!!(t&&e&&(O.fun(e)?e(t):Qe(e).includes(t))),dc=(e,t)=>O.obj(e)?t&&e[t]:e,fc=(e,t)=>e.default===!0?e[t]:e.default?e.default[t]:void 0,Am=e=>e,oa=(e,t=Am)=>{let n=Im;e.default&&e.default!==!0&&(e=e.default,n=Object.keys(e));const r={};for(const s of n){const i=t(e[s],s);O.und(i)||(r[s]=i)}return r},Im=["config","onProps","onStart","onChange","onPause","onResume","onRest"],Om={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function Rm(e){const t={};let n=0;if(xt(e,(r,s)=>{Om[s]||(t[s]=r,n++)}),n)return t}function hc(e){const t=Rm(e);if(t){const n={to:t};return xt(e,(r,s)=>s in t||(n[s]=r)),n}return{...e}}function lr(e){return e=Xe(e),O.arr(e)?e.map(lr):Ss(e)?ft.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function km(e){for(const t in e)return!0;return!1}function ui(e){return O.fun(e)||O.arr(e)&&O.obj(e[0])}function Mm(e,t){var n;(n=e.ref)==null||n.delete(e),t==null||t.delete(e)}function Pm(e,t){var n;t&&e.ref!==t&&((n=e.ref)==null||n.delete(e),t.add(e),e.ref=t)}var Nm={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},di={...Nm.default,mass:1,damping:1,easing:om.linear,clamp:!1},Fm=class{constructor(){this.velocity=0,Object.assign(this,di)}};function Dm(e,t,n){n&&(n={...n},Ja(n,t),t={...n,...t}),Ja(e,t),Object.assign(e,t);for(const l in di)e[l]==null&&(e[l]=di[l]);let{frequency:r,damping:s}=e;const{mass:i}=e;return O.und(r)||(r<.01&&(r=.01),s<0&&(s=0),e.tension=Math.pow(2*Math.PI/r,2)*i,e.friction=4*Math.PI*s*i/r),e}function Ja(e,t){if(!O.und(t.decay))e.duration=void 0;else{const n=!O.und(t.tension)||!O.und(t.friction);(n||!O.und(t.frequency)||!O.und(t.damping)||!O.und(t.mass))&&(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}}var eo=[],Lm=class{constructor(){this.changed=!1,this.values=eo,this.toValues=null,this.fromValues=eo,this.config=new Fm,this.immediate=!1}};function mc(e,{key:t,props:n,defaultProps:r,state:s,actions:i}){return new Promise((l,o)=>{let c,u,d=Kn(n.cancel??(r==null?void 0:r.cancel),t);if(d)S();else{O.und(n.pause)||(s.paused=Kn(n.pause,t));let w=r==null?void 0:r.pause;w!==!0&&(w=s.paused||Kn(w,t)),c=an(n.delay||0,t),w?(s.resumeQueue.add(p),i.pause()):(i.resume(),p())}function f(){s.resumeQueue.add(p),s.timeouts.delete(u),u.cancel(),c=u.time-ne.now()}function p(){c>0&&!ft.skipAnimation?(s.delayed=!0,u=ne.setTimeout(S,c),s.pauseQueue.add(f),s.timeouts.add(u)):S()}function S(){s.delayed&&(s.delayed=!1),s.pauseQueue.delete(f),s.timeouts.delete(u),e<=(s.cancelId||0)&&(d=!0);try{i.start({...n,callId:e,cancel:d},l)}catch(w){o(w)}}})}var la=(e,t)=>t.length==1?t[0]:t.some(n=>n.cancelled)?_n(e.get()):t.every(n=>n.noop)?pc(e.get()):lt(e.get(),t.every(n=>n.finished)),pc=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),lt=(e,t,n=!1)=>({value:e,finished:t,cancelled:n}),_n=e=>({value:e,cancelled:!0,finished:!1});function gc(e,t,n,r){const{callId:s,parentId:i,onRest:l}=t,{asyncTo:o,promise:c}=n;return!i&&e===o&&!t.reset?c:n.promise=(async()=>{n.asyncId=s,n.asyncTo=e;const u=oa(t,(y,g)=>g==="onRest"?void 0:y);let d,f;const p=new Promise((y,g)=>(d=y,f=g)),S=y=>{const g=s<=(n.cancelId||0)&&_n(r)||s!==n.asyncId&&lt(r,!1);if(g)throw y.result=g,f(y),y},w=(y,g)=>{const v=new to,E=new no;return(async()=>{if(ft.skipAnimation)throw cr(n),E.result=lt(r,!1),f(E),E;S(v);const T=O.obj(y)?{...y}:{...g,to:y};T.parentId=s,xt(u,(j,N)=>{O.und(T[N])&&(T[N]=j)});const C=await r.start(T);return S(v),n.paused&&await new Promise(j=>{n.resumeQueue.add(j)}),C})()};let h;if(ft.skipAnimation)return cr(n),lt(r,!1);try{let y;O.arr(e)?y=(async g=>{for(const v of g)await w(v)})(e):y=Promise.resolve(e(w,r.stop.bind(r))),await Promise.all([y.then(d),p]),h=lt(r.get(),!0,!1)}catch(y){if(y instanceof to)h=y.result;else if(y instanceof no)h=y.result;else throw y}finally{s==n.asyncId&&(n.asyncId=i,n.asyncTo=i?o:void 0,n.promise=i?c:void 0)}return O.fun(l)&&ne.batchedUpdates(()=>{l(h,r,r.item)}),h})()}function cr(e,t){Yn(e.timeouts,n=>n.cancel()),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var to=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},no=class extends Error{constructor(){super("SkipAnimationSignal")}},fi=e=>e instanceof ca,Vm=1,ca=class extends nc{constructor(){super(...arguments),this.id=Vm++,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=vt(this);return e&&e.getValue()}to(...e){return ft.to(this,e)}interpolate(...e){return pm(),ft.to(this,e)}toJSON(){return this.get()}observerAdded(e){e==1&&this._attach()}observerRemoved(e){e==0&&this._detach()}_attach(){}_detach(){}_onChange(e,t=!1){sr(this,{type:"change",parent:this,value:e,idle:t})}_onPriorityChange(e){this.idle||xs.sort(this),sr(this,{type:"priority",parent:this,priority:e})}},un=Symbol.for("SpringPhase"),vc=1,hi=2,mi=4,Bs=e=>(e[un]&vc)>0,Vt=e=>(e[un]&hi)>0,Vn=e=>(e[un]&mi)>0,ro=(e,t)=>t?e[un]|=hi|vc:e[un]&=~hi,so=(e,t)=>t?e[un]|=mi:e[un]&=~mi,Um=class extends ca{constructor(e,t){if(super(),this.animation=new Lm,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!O.und(e)||!O.und(t)){const n=O.obj(e)?{...e}:{...t,from:e};O.und(n.default)&&(n.default=!0),this.start(n)}}get idle(){return!(Vt(this)||this._state.asyncTo)||Vn(this)}get goal(){return Xe(this.animation.to)}get velocity(){const e=vt(this);return e instanceof br?e.lastVelocity||0:e.getPayload().map(t=>t.lastVelocity||0)}get hasAnimated(){return Bs(this)}get isAnimating(){return Vt(this)}get isPaused(){return Vn(this)}get isDelayed(){return this._state.delayed}advance(e){let t=!0,n=!1;const r=this.animation;let{toValues:s}=r;const{config:i}=r,l=Cs(r.to);!l&&tt(r.to)&&(s=Qe(Xe(r.to))),r.values.forEach((u,d)=>{if(u.done)return;const f=u.constructor==or?1:l?l[d].lastPosition:s[d];let p=r.immediate,S=f;if(!p){if(S=u.lastPosition,i.tension<=0){u.done=!0;return}let w=u.elapsedTime+=e;const h=r.fromValues[d],y=u.v0!=null?u.v0:u.v0=O.arr(i.velocity)?i.velocity[d]:i.velocity;let g;const v=i.precision||(h==f?.005:Math.min(1,Math.abs(f-h)*.001));if(O.und(i.duration))if(i.decay){const E=i.decay===!0?.998:i.decay,T=Math.exp(-(1-E)*w);S=h+y/(1-E)*(1-T),p=Math.abs(u.lastPosition-S)<=v,g=y*T}else{g=u.lastVelocity==null?y:u.lastVelocity;const E=i.restVelocity||v/10,T=i.clamp?0:i.bounce,C=!O.und(T),j=h==f?u.v0>0:h<f;let N,F=!1;const A=1,U=Math.ceil(e/A);for(let W=0;W<U&&(N=Math.abs(g)>E,!(!N&&(p=Math.abs(f-S)<=v,p)));++W){C&&(F=S==f||S>f==j,F&&(g=-g*T,S=f));const le=-i.tension*1e-6*(S-f),se=-i.friction*.001*g,ee=(le+se)/i.mass;g=g+ee*A,S=S+g*A}}else{let E=1;i.duration>0&&(this._memoizedDuration!==i.duration&&(this._memoizedDuration=i.duration,u.durationProgress>0&&(u.elapsedTime=i.duration*u.durationProgress,w=u.elapsedTime+=e)),E=(i.progress||0)+w/this._memoizedDuration,E=E>1?1:E<0?0:E,u.durationProgress=E),S=h+i.easing(E)*(f-h),g=(S-u.lastPosition)/e,p=E==1}u.lastVelocity=g,Number.isNaN(S)&&(console.warn("Got NaN while animating:",this),p=!0)}l&&!l[d].done&&(p=!1),p?u.done=!0:t=!1,u.setValue(S,i.round)&&(n=!0)});const o=vt(this),c=o.getValue();if(t){const u=Xe(r.to);(c!==u||n)&&!i.decay?(o.setValue(u),this._onChange(u)):n&&i.decay&&this._onChange(c),this._stop()}else n&&this._onChange(c)}set(e){return ne.batchedUpdates(()=>{this._stop(),this._focus(e),this._set(e)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(Vt(this)){const{to:e,config:t}=this.animation;ne.batchedUpdates(()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()})}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let n;return O.und(e)?(n=this.queue||[],this.queue=[]):n=[O.obj(e)?e:{...t,to:e}],Promise.all(n.map(r=>this._update(r))).then(r=>la(this,r))}stop(e){const{to:t}=this.animation;return this._focus(this.get()),cr(this._state,e&&this._lastCallId),ne.batchedUpdates(()=>this._stop(t,e)),this}reset(){this._update({reset:!0})}eventObserved(e){e.type=="change"?this._start():e.type=="priority"&&(this.priority=e.priority+1)}_prepareNode(e){const t=this.key||"";let{to:n,from:r}=e;n=O.obj(n)?n[t]:n,(n==null||ui(n))&&(n=void 0),r=O.obj(r)?r[t]:r,r==null&&(r=void 0);const s={to:n,from:r};return Bs(this)||(e.reverse&&([n,r]=[r,n]),r=Xe(r),O.und(r)?vt(this)||this._set(n):this._set(r)),s}_update({...e},t){const{key:n,defaultProps:r}=this;e.default&&Object.assign(r,oa(e,(l,o)=>/^on/.test(o)?dc(l,n):l)),ao(this,e,"onProps"),$n(this,"onProps",e,this);const s=this._prepareNode(e);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const i=this._state;return mc(++this._lastCallId,{key:n,props:e,defaultProps:r,state:i,actions:{pause:()=>{Vn(this)||(so(this,!0),Hn(i.pauseQueue),$n(this,"onPause",lt(this,Un(this,this.animation.to)),this))},resume:()=>{Vn(this)&&(so(this,!1),Vt(this)&&this._resume(),Hn(i.resumeQueue),$n(this,"onResume",lt(this,Un(this,this.animation.to)),this))},start:this._merge.bind(this,s)}}).then(l=>{if(e.loop&&l.finished&&!(t&&l.noop)){const o=yc(e);if(o)return this._update(o,!0)}return l})}_merge(e,t,n){if(t.cancel)return this.stop(!0),n(_n(this));const r=!O.und(e.to),s=!O.und(e.from);if(r||s)if(t.callId>this._lastToId)this._lastToId=t.callId;else return n(_n(this));const{key:i,defaultProps:l,animation:o}=this,{to:c,from:u}=o;let{to:d=c,from:f=u}=e;s&&!r&&(!t.default||O.und(d))&&(d=f),t.reverse&&([d,f]=[f,d]);const p=!Ot(f,u);p&&(o.from=f),f=Xe(f);const S=!Ot(d,c);S&&this._focus(d);const w=ui(t.to),{config:h}=o,{decay:y,velocity:g}=h;(r||s)&&(h.velocity=0),t.config&&!w&&Dm(h,an(t.config,i),t.config!==l.config?an(l.config,i):void 0);let v=vt(this);if(!v||O.und(d))return n(lt(this,!0));const E=O.und(t.reset)?s&&!t.default:!O.und(f)&&Kn(t.reset,i),T=E?f:this.get(),C=lr(d),j=O.num(C)||O.arr(C)||Ss(C),N=!w&&(!j||Kn(l.immediate||t.immediate,i));if(S){const W=ci(d);if(W!==v.constructor)if(N)v=this._set(C);else throw Error(`Cannot animate between ${v.constructor.name} and ${W.name}, as the "to" prop suggests`)}const F=v.constructor;let A=tt(d),U=!1;if(!A){const W=E||!Bs(this)&&p;(S||W)&&(U=Ot(lr(T),C),A=!U),(!Ot(o.immediate,N)&&!N||!Ot(h.decay,y)||!Ot(h.velocity,g))&&(A=!0)}if(U&&Vt(this)&&(o.changed&&!E?A=!0:A||this._stop(c)),!w&&((A||tt(c))&&(o.values=v.getPayload(),o.toValues=tt(d)?null:F==or?[1]:Qe(C)),o.immediate!=N&&(o.immediate=N,!N&&!E&&this._set(c)),A)){const{onRest:W}=o;he(Bm,se=>ao(this,t,se));const le=lt(this,Un(this,c));Hn(this._pendingCalls,le),this._pendingCalls.add(n),o.changed&&ne.batchedUpdates(()=>{var se;o.changed=!E,W==null||W(le,this),E?an(l.onRest,le):(se=o.onStart)==null||se.call(o,le,this)})}E&&this._set(T),w?n(gc(t.to,t,this._state,this)):A?this._start():Vt(this)&&!S?this._pendingCalls.add(n):n(pc(T))}_focus(e){const t=this.animation;e!==t.to&&(Xa(this)&&this._detach(),t.to=e,Xa(this)&&this._attach())}_attach(){let e=0;const{to:t}=this.animation;tt(t)&&(Mn(t,this),fi(t)&&(e=t.priority+1)),this.priority=e}_detach(){const{to:e}=this.animation;tt(e)&&ir(e,this)}_set(e,t=!0){const n=Xe(e);if(!O.und(n)){const r=vt(this);if(!r||!Ot(n,r.getValue())){const s=ci(n);!r||r.constructor!=s?aa(this,s.create(n)):r.setValue(n),r&&ne.batchedUpdates(()=>{this._onChange(n,t)})}}return vt(this)}_onStart(){const e=this.animation;e.changed||(e.changed=!0,$n(this,"onStart",lt(this,Un(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),an(this.animation.onChange,e,this)),an(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){const e=this.animation;vt(this).reset(Xe(e.to)),e.immediate||(e.fromValues=e.values.map(t=>t.lastPosition)),Vt(this)||(ro(this,!0),Vn(this)||this._resume())}_resume(){ft.skipAnimation?this.finish():xs.start(this)}_stop(e,t){if(Vt(this)){ro(this,!1);const n=this.animation;he(n.values,s=>{s.done=!0}),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),sr(this,{type:"idle",parent:this});const r=t?_n(this.get()):lt(this.get(),Un(this,e??n.to));Hn(this._pendingCalls,r),n.changed&&(n.changed=!1,$n(this,"onRest",r,this))}}};function Un(e,t){const n=lr(t),r=lr(e.get());return Ot(r,n)}function yc(e,t=e.loop,n=e.to){const r=an(t);if(r){const s=r!==!0&&hc(r),i=(s||e).reverse,l=!s||s.reset;return ur({...e,loop:t,default:!1,pause:void 0,to:!i||ui(n)?n:void 0,from:l?e.from:void 0,reset:l,...s})}}function ur(e){const{to:t,from:n}=e=hc(e),r=new Set;return O.obj(t)&&io(t,r),O.obj(n)&&io(n,r),e.keys=r.size?Array.from(r):null,e}function $m(e){const t=ur(e);return O.und(t.default)&&(t.default=oa(t)),t}function io(e,t){xt(e,(n,r)=>n!=null&&t.add(r))}var Bm=["onStart","onRest","onChange","onPause","onResume"];function ao(e,t,n){e.animation[n]=t[n]!==fc(t,n)?dc(t[n],e.key):void 0}function $n(e,t,...n){var r,s,i,l;(s=(r=e.animation)[t])==null||s.call(r,...n),(l=(i=e.defaultProps)[t])==null||l.call(i,...n)}var zm=["onStart","onChange","onRest"],Hm=1,Wm=class{constructor(e,t){this.id=Hm++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start({default:!0,...e})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle&&!e.isDelayed&&!e.isPaused)}get item(){return this._item}set item(e){this._item=e}get(){const e={};return this.each((t,n)=>e[n]=t.get()),e}set(e){for(const t in e){const n=e[t];O.und(n)||this.springs[t].set(n)}}update(e){return e&&this.queue.push(ur(e)),this}start(e){let{queue:t}=this;return e?t=Qe(e).map(ur):this.queue=[],this._flush?this._flush(this,t):(Sc(this,t),pi(this,t))}stop(e,t){if(e!==!!e&&(t=e),t){const n=this.springs;he(Qe(t),r=>n[r].stop(!!e))}else cr(this._state,this._lastAsyncId),this.each(n=>n.stop(!!e));return this}pause(e){if(O.und(e))this.start({pause:!0});else{const t=this.springs;he(Qe(e),n=>t[n].pause())}return this}resume(e){if(O.und(e))this.start({pause:!1});else{const t=this.springs;he(Qe(e),n=>t[n].resume())}return this}each(e){xt(this.springs,e)}_onFrame(){const{onStart:e,onChange:t,onRest:n}=this._events,r=this._active.size>0,s=this._changed.size>0;(r&&!this._started||s&&!this._started)&&(this._started=!0,Yn(e,([o,c])=>{c.value=this.get(),o(c,this,this._item)}));const i=!r&&this._started,l=s||i&&n.size?this.get():null;s&&t.size&&Yn(t,([o,c])=>{c.value=l,o(c,this,this._item)}),i&&(this._started=!1,Yn(n,([o,c])=>{c.value=l,o(c,this,this._item)}))}eventObserved(e){if(e.type=="change")this._changed.add(e.parent),e.idle||this._active.add(e.parent);else if(e.type=="idle")this._active.delete(e.parent);else return;ne.onFrame(this._onFrame)}};function pi(e,t){return Promise.all(t.map(n=>bc(e,n))).then(n=>la(e,n))}async function bc(e,t,n){const{keys:r,to:s,from:i,loop:l,onRest:o,onResolve:c}=t,u=O.obj(t.default)&&t.default;l&&(t.loop=!1),s===!1&&(t.to=null),i===!1&&(t.from=null);const d=O.arr(s)||O.fun(s)?s:void 0;d?(t.to=void 0,t.onRest=void 0,u&&(u.onRest=void 0)):he(zm,h=>{const y=t[h];if(O.fun(y)){const g=e._events[h];t[h]=({finished:v,cancelled:E})=>{const T=g.get(y);T?(v||(T.finished=!1),E&&(T.cancelled=!0)):g.set(y,{value:null,finished:v||!1,cancelled:E||!1})},u&&(u[h]=t[h])}});const f=e._state;t.pause===!f.paused?(f.paused=t.pause,Hn(t.pause?f.pauseQueue:f.resumeQueue)):f.paused&&(t.pause=!0);const p=(r||Object.keys(e.springs)).map(h=>e.springs[h].start(t)),S=t.cancel===!0||fc(t,"cancel")===!0;(d||S&&f.asyncId)&&p.push(mc(++e._lastAsyncId,{props:t,state:f,actions:{pause:oi,resume:oi,start(h,y){S?(cr(f,e._lastAsyncId),y(_n(e))):(h.onRest=o,y(gc(d,h,f,e)))}}})),f.paused&&await new Promise(h=>{f.resumeQueue.add(h)});const w=la(e,await Promise.all(p));if(l&&w.finished&&!(n&&w.noop)){const h=yc(t,l,s);if(h)return Sc(e,[h]),bc(e,h,!0)}return c&&ne.batchedUpdates(()=>c(w,e,e.item)),w}function oo(e,t){const n={...e.springs};return t&&he(Qe(t),r=>{O.und(r.keys)&&(r=ur(r)),O.obj(r.to)||(r={...r,to:void 0}),Ec(n,r,s=>wc(s))}),xc(e,n),n}function xc(e,t){xt(t,(n,r)=>{e.springs[r]||(e.springs[r]=n,Mn(n,e))})}function wc(e,t){const n=new Um;return n.key=e,t&&Mn(n,t),n}function Ec(e,t,n){t.keys&&he(t.keys,r=>{(e[r]||(e[r]=n(r)))._prepareNode(t)})}function Sc(e,t){he(t,n=>{Ec(e.springs,n,r=>wc(r,e))})}var _s=({children:e,...t})=>{const n=x.useContext(Qr),r=t.pause||!!n.pause,s=t.immediate||!!n.immediate;t=bm(()=>({pause:r,immediate:s}),[r,s]);const{Provider:i}=Qr;return x.createElement(i,{value:t},e)},Qr=qm(_s,{});_s.Provider=Qr.Provider;_s.Consumer=Qr.Consumer;function qm(e,t){return Object.assign(e,x.createContext(t)),e.Provider._context=e,e.Consumer._context=e,e}var Xm=()=>{const e=[],t=function(r){vm();const s=[];return he(e,(i,l)=>{if(O.und(r))s.push(i.start());else{const o=n(r,i,l);o&&s.push(i.start(o))}}),s};t.current=e,t.add=function(r){e.includes(r)||e.push(r)},t.delete=function(r){const s=e.indexOf(r);~s&&e.splice(s,1)},t.pause=function(){return he(e,r=>r.pause(...arguments)),this},t.resume=function(){return he(e,r=>r.resume(...arguments)),this},t.set=function(r){he(e,(s,i)=>{const l=O.fun(r)?r(i,s):r;l&&s.set(l)})},t.start=function(r){const s=[];return he(e,(i,l)=>{if(O.und(r))s.push(i.start());else{const o=this._getProps(r,i,l);o&&s.push(i.start(o))}}),s},t.stop=function(){return he(e,r=>r.stop(...arguments)),this},t.update=function(r){return he(e,(s,i)=>s.update(this._getProps(r,s,i))),this};const n=function(r,s,i){return O.fun(r)?r(i,s):r};return t._getProps=n,t};function Ym(e,t,n){const r=O.fun(t)&&t;r&&!n&&(n=[]);const s=x.useMemo(()=>r||arguments.length==3?Xm():void 0,[]),i=x.useRef(0),l=oc(),o=x.useMemo(()=>({ctrls:[],queue:[],flush(g,v){const E=oo(g,v);return i.current>0&&!o.queue.length&&!Object.keys(E).some(C=>!g.springs[C])?pi(g,v):new Promise(C=>{xc(g,E),o.queue.push(()=>{C(pi(g,v))}),l()})}}),[]),c=x.useRef([...o.ctrls]),u=[],d=Ga(e)||0;x.useMemo(()=>{he(c.current.slice(e,d),g=>{Mm(g,s),g.stop(!0)}),c.current.length=e,f(d,e)},[e]),x.useMemo(()=>{f(0,Math.min(d,e))},n);function f(g,v){for(let E=g;E<v;E++){const T=c.current[E]||(c.current[E]=new Wm(null,o.flush)),C=r?r(E,T):t[E];C&&(u[E]=$m(C))}}const p=c.current.map((g,v)=>oo(g,u[v])),S=x.useContext(_s),w=Ga(S),h=S!==w&&km(S);ia(()=>{i.current++,o.ctrls=c.current;const{queue:g}=o;g.length&&(o.queue=[],he(g,v=>v())),he(c.current,(v,E)=>{s==null||s.add(v),h&&v.start({default:S});const T=u[E];T&&(Pm(v,T.ref),v.ref?v.queue.push(T):v.start(T))})}),lc(()=>()=>{he(o.ctrls,g=>g.stop(!0))});const y=p.map(g=>({...g}));return s?[y,s]:y}function Gm(e,t){const n=O.fun(e),[[r],s]=Ym(1,n?e:[e],n?t||[]:t);return n||arguments.length==2?[r,s]:r}var Km=class extends ca{constructor(e,t){super(),this.source=e,this.idle=!0,this._active=new Set,this.calc=nr(...t);const n=this._get(),r=ci(n);aa(this,r.create(n))}advance(e){const t=this._get(),n=this.get();Ot(t,n)||(vt(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&lo(this._active)&&zs(this)}_get(){const e=O.arr(this.source)?this.source.map(Xe):Qe(Xe(this.source));return this.calc(...e)}_start(){this.idle&&!lo(this._active)&&(this.idle=!1,he(Cs(this),e=>{e.done=!1}),ft.skipAnimation?(ne.batchedUpdates(()=>this.advance()),zs(this)):xs.start(this))}_attach(){let e=1;he(Qe(this.source),t=>{tt(t)&&Mn(t,this),fi(t)&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))}),this.priority=e,this._start()}_detach(){he(Qe(this.source),e=>{tt(e)&&ir(e,this)}),this._active.clear(),zs(this)}eventObserved(e){e.type=="change"?e.idle?this.advance():(this._active.add(e.parent),this._start()):e.type=="idle"?this._active.delete(e.parent):e.type=="priority"&&(this.priority=Qe(this.source).reduce((t,n)=>Math.max(t,(fi(n)?n.priority:0)+1),0))}};function Qm(e){return e.idle!==!1}function lo(e){return!e.size||Array.from(e).every(Qm)}function zs(e){e.idle||(e.idle=!0,he(Cs(e),t=>{t.done=!0}),sr(e,{type:"idle",parent:e}))}ft.assign({createStringInterpolator:ic,to:(e,t)=>new Km(e,t)});var Cc=/^--/;function Zm(e,t){return t==null||typeof t=="boolean"||t===""?"":typeof t=="number"&&t!==0&&!Cc.test(e)&&!(Qn.hasOwnProperty(e)&&Qn[e])?t+"px":(""+t).trim()}var co={};function Jm(e,t){if(!e.nodeType||!e.setAttribute)return!1;const n=e.nodeName==="filter"||e.parentNode&&e.parentNode.nodeName==="filter",{style:r,children:s,scrollTop:i,scrollLeft:l,viewBox:o,...c}=t,u=Object.values(c),d=Object.keys(c).map(f=>n||e.hasAttribute(f)?f:co[f]||(co[f]=f.replace(/([A-Z])/g,p=>"-"+p.toLowerCase())));s!==void 0&&(e.textContent=s);for(const f in r)if(r.hasOwnProperty(f)){const p=Zm(f,r[f]);Cc.test(f)?e.style.setProperty(f,p):e.style[f]=p}d.forEach((f,p)=>{e.setAttribute(f,u[p])}),i!==void 0&&(e.scrollTop=i),l!==void 0&&(e.scrollLeft=l),o!==void 0&&e.setAttribute("viewBox",o)}var Qn={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ep=(e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1),tp=["Webkit","Ms","Moz","O"];Qn=Object.keys(Qn).reduce((e,t)=>(tp.forEach(n=>e[ep(n,t)]=e[t]),e),Qn);var np=/^(matrix|translate|scale|rotate|skew)/,rp=/^(translate)/,sp=/^(rotate|skew)/,Hs=(e,t)=>O.num(e)&&e!==0?e+t:e,Vr=(e,t)=>O.arr(e)?e.every(n=>Vr(n,t)):O.num(e)?e===t:parseFloat(e)===t,ip=class extends Ts{constructor({x:e,y:t,z:n,...r}){const s=[],i=[];(e||t||n)&&(s.push([e||0,t||0,n||0]),i.push(l=>[`translate3d(${l.map(o=>Hs(o,"px")).join(",")})`,Vr(l,0)])),xt(r,(l,o)=>{if(o==="transform")s.push([l||""]),i.push(c=>[c,c===""]);else if(np.test(o)){if(delete r[o],O.und(l))return;const c=rp.test(o)?"px":sp.test(o)?"deg":"";s.push(Qe(l)),i.push(o==="rotate3d"?([u,d,f,p])=>[`rotate3d(${u},${d},${f},${Hs(p,c)})`,Vr(p,0)]:u=>[`${o}(${u.map(d=>Hs(d,c)).join(",")})`,Vr(u,o.startsWith("scale")?1:0)])}}),s.length&&(r.transform=new ap(s,i)),super(r)}},ap=class extends nc{constructor(e,t){super(),this.inputs=e,this.transforms=t,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let e="",t=!0;return he(this.inputs,(n,r)=>{const s=Xe(n[0]),[i,l]=this.transforms[r](O.arr(s)?s:n.map(Xe));e+=" "+i,t=t&&l}),t?"none":e}observerAdded(e){e==1&&he(this.inputs,t=>he(t,n=>tt(n)&&Mn(n,this)))}observerRemoved(e){e==0&&he(this.inputs,t=>he(t,n=>tt(n)&&ir(n,this)))}eventObserved(e){e.type=="change"&&(this._value=null),sr(this,e)}},op=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];ft.assign({batchedUpdates:So.unstable_batchedUpdates,createStringInterpolator:ic,colors:Yh});var lp=jm(op,{applyAnimatedValues:Jm,createAnimatedStyle:e=>new ip(e),getComponentProps:({scrollTop:e,scrollLeft:t,...n})=>n}),cp=lp.animated,Tc={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var i="",l=0;l<arguments.length;l++){var o=arguments[l];o&&(i=s(i,r(o)))}return i}function r(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return n.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var l="";for(var o in i)t.call(i,o)&&i[o]&&(l=s(l,o));return l}function s(i,l){return l?i?i+" "+l:i+l:i}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(Tc);var up=Tc.exports;const _c=Zr(up);var gi=new Map,Pr=new WeakMap,uo=0,dp=void 0;function fp(e){return e?(Pr.has(e)||(uo+=1,Pr.set(e,uo.toString())),Pr.get(e)):"0"}function hp(e){return Object.keys(e).sort().filter(t=>e[t]!==void 0).map(t=>`${t}_${t==="root"?fp(e.root):e[t]}`).toString()}function mp(e){const t=hp(e);let n=gi.get(t);if(!n){const r=new Map;let s;const i=new IntersectionObserver(l=>{l.forEach(o=>{var c;const u=o.isIntersecting&&s.some(d=>o.intersectionRatio>=d);e.trackVisibility&&typeof o.isVisible>"u"&&(o.isVisible=u),(c=r.get(o.target))==null||c.forEach(d=>{d(u,o)})})},e);s=i.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:i,elements:r},gi.set(t,n)}return n}function pp(e,t,n={},r=dp){if(typeof window.IntersectionObserver>"u"&&r!==void 0){const c=e.getBoundingClientRect();return t(r,{isIntersecting:r,target:e,intersectionRatio:typeof n.threshold=="number"?n.threshold:0,time:0,boundingClientRect:c,intersectionRect:c,rootBounds:c}),()=>{}}const{id:s,observer:i,elements:l}=mp(n),o=l.get(e)||[];return l.has(e)||l.set(e,o),o.push(t),i.observe(e),function(){o.splice(o.indexOf(t),1),o.length===0&&(l.delete(e),i.unobserve(e)),l.size===0&&(i.disconnect(),gi.delete(s))}}function jc({threshold:e,delay:t,trackVisibility:n,rootMargin:r,root:s,triggerOnce:i,skip:l,initialInView:o,fallbackInView:c,onChange:u}={}){var d;const[f,p]=x.useState(null),S=x.useRef(),[w,h]=x.useState({inView:!!o,entry:void 0});S.current=u,x.useEffect(()=>{if(l||!f)return;let E;return E=pp(f,(T,C)=>{h({inView:T,entry:C}),S.current&&S.current(T,C),C.isIntersecting&&i&&E&&(E(),E=void 0)},{root:s,rootMargin:r,threshold:e,trackVisibility:n,delay:t},c),()=>{E&&E()}},[Array.isArray(e)?e.toString():e,f,s,r,i,l,n,c,t]);const y=(d=w.entry)==null?void 0:d.target,g=x.useRef();!f&&y&&!i&&!l&&g.current!==y&&(g.current=y,h({inView:!!o,entry:void 0}));const v=[p,w.inView,w.entry];return v.ref=v[0],v.inView=v[1],v.entry=v[2],v}const gp="Left",vp="Right",yp="Up",bp="Down",Sn={delta:10,preventScrollOnSwipe:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0,swipeDuration:1/0,touchEventOptions:{passive:!0}},vi={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},fo="mousemove",ho="mouseup",xp="touchend",wp="touchmove",Ep="touchstart";function Sp(e,t,n,r){return e>t?n>0?vp:gp:r>0?bp:yp}function mo(e,t){if(t===0)return e;const n=Math.PI/180*t,r=e[0]*Math.cos(n)+e[1]*Math.sin(n),s=e[1]*Math.cos(n)-e[0]*Math.sin(n);return[r,s]}function Cp(e,t){const n=d=>{const f="touches"in d;f&&d.touches.length>1||e((p,S)=>{S.trackMouse&&!f&&(document.addEventListener(fo,r),document.addEventListener(ho,l));const{clientX:w,clientY:h}=f?d.touches[0]:d,y=mo([w,h],S.rotationAngle);return S.onTouchStartOrOnMouseDown&&S.onTouchStartOrOnMouseDown({event:d}),Object.assign(Object.assign(Object.assign({},p),vi),{initial:y.slice(),xy:y,start:d.timeStamp||0})})},r=d=>{e((f,p)=>{const S="touches"in d;if(S&&d.touches.length>1)return f;if(d.timeStamp-f.start>p.swipeDuration)return f.swiping?Object.assign(Object.assign({},f),{swiping:!1}):f;const{clientX:w,clientY:h}=S?d.touches[0]:d,[y,g]=mo([w,h],p.rotationAngle),v=y-f.xy[0],E=g-f.xy[1],T=Math.abs(v),C=Math.abs(E),j=(d.timeStamp||0)-f.start,N=Math.sqrt(T*T+C*C)/(j||1),F=[v/(j||1),E/(j||1)],A=Sp(T,C,v,E),U=typeof p.delta=="number"?p.delta:p.delta[A.toLowerCase()]||Sn.delta;if(T<U&&C<U&&!f.swiping)return f;const W={absX:T,absY:C,deltaX:v,deltaY:E,dir:A,event:d,first:f.first,initial:f.initial,velocity:N,vxvy:F};W.first&&p.onSwipeStart&&p.onSwipeStart(W),p.onSwiping&&p.onSwiping(W);let le=!1;return(p.onSwiping||p.onSwiped||p[`onSwiped${A}`])&&(le=!0),le&&p.preventScrollOnSwipe&&p.trackTouch&&d.cancelable&&d.preventDefault(),Object.assign(Object.assign({},f),{first:!1,eventData:W,swiping:!0})})},s=d=>{e((f,p)=>{let S;if(f.swiping&&f.eventData){if(d.timeStamp-f.start<p.swipeDuration){S=Object.assign(Object.assign({},f.eventData),{event:d}),p.onSwiped&&p.onSwiped(S);const w=p[`onSwiped${S.dir}`];w&&w(S)}}else p.onTap&&p.onTap({event:d});return p.onTouchEndOrOnMouseUp&&p.onTouchEndOrOnMouseUp({event:d}),Object.assign(Object.assign(Object.assign({},f),vi),{eventData:S})})},i=()=>{document.removeEventListener(fo,r),document.removeEventListener(ho,l)},l=d=>{i(),s(d)},o=(d,f)=>{let p=()=>{};if(d&&d.addEventListener){const S=Object.assign(Object.assign({},Sn.touchEventOptions),f.touchEventOptions),w=[[Ep,n,S],[wp,r,Object.assign(Object.assign({},S),f.preventScrollOnSwipe?{passive:!1}:{})],[xp,s,S]];w.forEach(([h,y,g])=>d.addEventListener(h,y,g)),p=()=>w.forEach(([h,y])=>d.removeEventListener(h,y))}return p},u={ref:d=>{d!==null&&e((f,p)=>{if(f.el===d)return f;const S={};return f.el&&f.el!==d&&f.cleanUpTouch&&(f.cleanUpTouch(),S.cleanUpTouch=void 0),p.trackTouch&&d&&(S.cleanUpTouch=o(d,p)),Object.assign(Object.assign(Object.assign({},f),{el:d}),S)})}};return t.trackMouse&&(u.onMouseDown=n),[u,o]}function Tp(e,t,n,r){return!t.trackTouch||!e.el?(e.cleanUpTouch&&e.cleanUpTouch(),Object.assign(Object.assign({},e),{cleanUpTouch:void 0})):e.cleanUpTouch?t.preventScrollOnSwipe!==n.preventScrollOnSwipe||t.touchEventOptions.passive!==n.touchEventOptions.passive?(e.cleanUpTouch(),Object.assign(Object.assign({},e),{cleanUpTouch:r(e.el,t)})):e:Object.assign(Object.assign({},e),{cleanUpTouch:r(e.el,t)})}function _p(e){const{trackMouse:t}=e,n=x.useRef(Object.assign({},vi)),r=x.useRef(Object.assign({},Sn)),s=x.useRef(Object.assign({},r.current));s.current=Object.assign({},r.current),r.current=Object.assign(Object.assign({},Sn),e);let i;for(i in Sn)r.current[i]===void 0&&(r.current[i]=Sn[i]);const[l,o]=x.useMemo(()=>Cp(c=>n.current=c(n.current,r.current),{trackMouse:t}),[t]);return n.current=Tp(n.current,r.current,s.current,o),l}const jp=({alt:e,borderRadius:t,height:n,src:r,status:s,width:i})=>{const[l,o]=x.useState(!1),{ref:c,inView:u}=jc();return x.useEffect(()=>{if(u&&!l){const d=new Image;d.onload=()=>o(!0),d.onerror=()=>{var p;const f=(p=c.current)==null?void 0:p.parentElement;f&&(f.style.display="none")},d.src=r}},[u,l,r]),a.jsx("div",{className:"image-container",ref:c,children:l?a.jsx("img",{className:s==="unread"?"":"read",src:r,alt:e,style:{width:i,height:n,objectFit:"cover",borderRadius:t}}):a.jsx("div",{className:"skeleton-container",children:a.jsx($r,{text:{rows:0},image:{style:{width:i,height:n,margin:"0",borderRadius:t}},animation:!0})})})},Ap=({feed:e,mini:t})=>{const n=e.id,[r,s]=Ce(Ju),{data:i}=zd(n);x.useEffect(()=>{if(i&&!r[n]){const o=`data:${i.data.data}`;s(c=>({...c,[n]:o}))}},[i,n,r,s]);let l;if(r[n])l=r[n];else{const o=xo(e.site_url)?e.site_url:Do(e.feed_url),{hostname:c}=new URL(o);l=`https://icons.duckduckgo.com/ip3/${c}.ico`}return a.jsx("img",{className:t?"feed-icon-mini":"feed-icon",src:l,alt:"Feed icon"})},Ip=({entry:e,isThumbnail:t})=>{const n={width:t?"100px":"100%",height:t?"100px":"160px"};return e.imgSrc?a.jsx("div",{className:t?"thumbnail":"cover-image",children:a.jsx(jp,{alt:e.id,borderRadius:t?"4px":void 0,src:e.imgSrc,status:e.status,width:n.width,height:n.height})}):null},Op=({entry:e,showFeedIcon:t,mini:n})=>{const r=_c({"article-card-mini-content":n,"article-card-mini-content-padding":n&&t});return a.jsxs("div",{className:r,style:{width:"calc(100% - 32px)"},children:[a.jsx("div",{style:{padding:n?"0 8px 0 0":"0 0 8px 0"},children:a.jsx(Ip,{entry:e,isThumbnail:n})}),a.jsxs("div",{className:n?"article-card-mini-content-text":"",children:[a.jsx(Q.Text,{className:e.status==="unread"?"title-unread":"title-read",children:e.title}),a.jsxs(Q.Text,{className:"article-info",children:[a.jsx("br",{}),t&&a.jsx(Ap,{feed:e.feed,mini:n}),e.feed.title,a.jsx("br",{}),Po(e.published_at)]}),e.starred&&a.jsx(bi,{className:"icon-starred"})]})]})},Rp=({entry:e,handleEntryClick:t,mini:n})=>{const{activeContent:r}=kn(),s=Z(Oe),{markReadOnScroll:i,showFeedIcon:l}=s,o=r&&e.id===r.id,{handleToggleStarred:c,handleToggleStatus:u}=Ni(),[d,f]=x.useState(0),p=100,S=.5,w=e.starred,h=e.status==="unread",y=_p({preventScrollOnSwipe:!0,delta:p/2,onSwiping:A=>{const U=Math.min(Math.abs(A.deltaX*S),p)*Math.sign(A.deltaX);f(U)},onSwiped:async A=>{try{A.deltaX>p?(await c(e),fe.success(w?"Unmarked as starred":"Marked as starred")):A.deltaX<-p&&(await u(e),fe.success(h?"Marked as read":"Marked as unread"))}catch{fe.error("Failed to update, please try again")}f(0)}}),[g,v]=x.useState(!1),[E,T]=x.useState(!1),C=()=>u(e),j=20,{ref:N}=jc({skip:E,onChange:async(A,U)=>{if(!(!i||!h)){if(A)v(!0);else if(g){const{top:W}=U.boundingClientRect;W<j&&(await C(),T(!0))}}}}),F=Gm({x:d});return x.createElement("div",{...y,className:"article-card",key:e.id},a.jsxs("div",{ref:N,children:[a.jsx(cp.div,{className:"swipe-card",style:F,children:a.jsx(er,{className:_c("swipe-content","card-custom-style","card-custom-hover-style",{"card-custom-selected-style":o}),"data-entry-id":e.id,hoverable:!0,onClick:()=>t(e),bordered:!1,children:a.jsx(er.Meta,{description:a.jsx(Op,{entry:e,showFeedIcon:l,mini:n})})})}),a.jsxs("div",{className:"swipe-actions",children:[a.jsx("div",{className:"swipe-action left",children:w?a.jsx(bi,{style:{color:"#ffcd00"}}):a.jsx(yi,{})}),a.jsx("div",{className:"swipe-action right",children:h?a.jsx(Co,{}):a.jsx(To,{})})]})]}))},kp=({loading:e})=>{const t=Z(Oe),{layout:n}=t,r=n==="large"?2:4,s=i=>a.jsx(er,{className:"card-style",cover:n==="large"&&a.jsx("div",{className:"card-cover-style"}),children:a.jsx(er.Meta,{description:a.jsx($r,{loading:e,animation:!0,text:{rows:3,width:150}})})},i);return e?Array.from({length:r},(i,l)=>s(l)):null},Ac=e=>{const t=Z(Oe),{showAllFeeds:n}=t,r=Z(rs),[s,i]=Ce(Rn),[l,o]=Ce(Pi),[c,u]=Ce(Mi),d=Z(mr),f=ge(dn);return x.useEffect(()=>{f([]);const p=sl(d,c,s,l);f(Wr(p,e,n,r))},[s,l,c]),{setFilterStatus:i,setFilterString:o,setFilterType:u}},Mp=e=>{const t=Z(Pi),n=Z(Mi),{isMobileView:r}=hr(),{setFilterString:s,setFilterType:i}=Ac(e),l=Z(Oe),{updateConfig:o}=es(),{orderDirection:c}=l,u=()=>{o({orderDirection:c==="desc"?"asc":"desc"})};return a.jsxs("div",{className:"search-and-sort-bar",children:[a.jsx(ut.Search,{allowClear:!0,placeholder:"Search...",value:t,addBefore:a.jsxs(Me,{placeholder:"Select type",onChange:i,style:{width:100},value:n,children:[a.jsx(Me.Option,{value:"0",children:"Title"}),a.jsx(Me.Option,{value:"1",children:"Content"})]}),onChange:s,style:{width:r?"100%":278,marginLeft:8}}),a.jsx(Zn,{mini:!0,position:"left",content:c==="desc"?"Newest first":"Oldest first",children:a.jsx(Te,{shape:"circle",size:"small",style:{margin:"0 8px",flexShrink:0},icon:c==="desc"?a.jsx(du,{}):a.jsx(fu,{}),onClick:u})})]})},Pp=x.forwardRef(({info:e,loading:t,getEntries:n,handleEntryClick:r,cardsRef:s},i)=>{const l=Z(dn),o=Z(Rn),c=Z(ls),u=Z(os),{loadingMore:d,handleLoadMore:f}=Fi(),p=Z(Oe),{layout:S}=p,w=S==="small";return a.jsxs(a.Fragment,{children:[a.jsx(Mp,{info:e}),a.jsxs("div",{className:"entry-list",ref:i,children:[a.jsx(kp,{loading:t}),t?null:a.jsx("div",{ref:s,children:l.map(h=>a.jsx(Rp,{entry:h,handleEntryClick:r,mini:w},h.id))}),!t&&(o==="all"?u:c)&&a.jsxs(Te,{className:"load-more-button",loading:d,long:!0,onClick:()=>f(e,n),children:[!d&&a.jsx(hu,{}),"Load more"]})]})]})}),Np=x.forwardRef(({info:e,refreshArticleList:t,markAllAsRead:n},r)=>{const[s,i]=Ce(mr),[l,o]=Ce(cs),c=Z(Rn),u=Z(cl),d=ge(dn),f=ge(as),{setFilterStatus:p}=Ac(e),S=Z(Oe),{loadData:w}=ki(),{showStatus:h}=S,y=async()=>{try{await n(),fe.success("Marked all as read successfully"),w(),i(v=>v.map(E=>({...E,status:"read"}))),o([]),d(c==="all"?v=>v.map(E=>({...E,status:"read"})):[]),f(0)}catch{fe.error("Failed to mark all as read")}};x.useEffect(()=>{["starred","history"].includes(e.from)?p("all"):p(h)},[e,p,h]);const g=v=>{r.current&&r.current.scrollTo(0,0),p(v),d(v==="all"?s:l)};return a.jsxs("div",{className:"entry-panel",children:[!["starred","history"].includes(e.from)&&a.jsx(Ws,{focusLock:!0,title:"Mark All As Read?",onOk:y,children:a.jsx(Te,{icon:a.jsx(go,{}),shape:"circle"})}),a.jsx(mu.Group,{disabled:e.from==="history",onChange:v=>g(v),options:[{label:"ALL",value:"all"},{label:"UNREAD",value:"unread"}],type:"button",value:c}),a.jsx(Te,{icon:a.jsx(qs,{}),loading:u,shape:"circle",onClick:t})]})}),Pn=({info:e,getEntries:t,markAllAsRead:n})=>{const{activeContent:r,setActiveContent:s}=kn(),i=Z(rs),l=Z(Ci),{loadData:o}=ki(),c=Z(Oe),{orderBy:u,orderDirection:d,showAllFeeds:f}=c,[p,S]=Ce(mr),[w,h]=Ce(dn),[y,g]=Ce(ul),[v,E]=Ce(cl),[T,C]=Ce(cs),j=Z(Rn),N=ge(ls),F=ge(os),A=ge(ol),U=ge(al),W=ge(as),le=ge(ll),{handleFetchContent:se,handleToggleStarred:ee,handleToggleStatus:pe,handleEntryStatusUpdate:be}=Ni(),{parseFirstImage:Re}=Fi(),[xe,$e]=x.useState(!1),[b,m]=x.useState(!1),M=x.useRef(null),L=x.useRef(null),V=x.useRef(null);x.useEffect(()=>{!b||e.from==="history"||re()},[u]),x.useEffect(()=>{re()},[e,d]),x.useEffect(()=>{h(()=>["all","today","category"].includes(e.from)&&!f?(j==="all"?p:T).filter(D=>!i.includes(D.feed.id)):j==="all"?p:T),$e(!0)},[j,i,f]);const $=async B=>{s(null),setTimeout(()=>{s({...B,status:"read"})},200),B.status==="unread"&&(setTimeout(()=>{be(B,"read")},200),Si([B.id],"read").catch(()=>{fe.error("Failed to mark entry as read, please try again later"),be(B,"unread")})),V.current&&(V.current.setAttribute("tabIndex","-1"),V.current.focus(),V.current.scrollTo(0,0))},{handleBKey:H,handleDKey:z,handleEscapeKey:G,handleLeftKey:te,handleMKey:q,handleRightKey:ce,handleSKey:R}=dl(e,$,t);x.useEffect(()=>{const B={27:()=>G(M,V),37:()=>te(),39:()=>ce(e),66:()=>H(),68:()=>z(se),77:()=>q(()=>pe(r)),83:()=>R(()=>ee(r))},D=Y=>{const K=B[Y.keyCode];K&&K()};return y?document.addEventListener("keydown",D):document.removeEventListener("keydown",D),()=>{document.removeEventListener("keydown",D)}},[r,w,y]),x.useEffect(()=>{h(Wr(j==="all"?p:T,e,f,i))},[j,p,T]);const k=(B,D,Y,K)=>{S(B),C(D),U(Y.data.total),F(B.length<Y.data.total),W(K.data.total),N(D.length<K.data.total)},P=(B,D)=>{var Y,K;if((Y=B==null?void 0:B.data)!=null&&Y.entries&&((K=D==null?void 0:D.data)==null?void 0:K.total)>=0){const Pe=B.data.entries.map(Re),Be=D.data.entries.map(Re);k(Pe,Be,B,D)}},I=async()=>{E(!0);try{const B=await t();if(e.from==="history")P(B,B);else{const D=await t(0,"unread");P(B,D)}}catch(B){console.error("Error fetching articles:",B)}finally{E(!1)}},re=async()=>{if(M.current&&M.current.scrollTo(0,0),A(0),le(0),!l){o();return}await I()};return x.useEffect(()=>{r&&s(null)},[]),x.useEffect(()=>{if(l)try{I(),m(!0),g(!0)}catch{fe.error("Failed to fetch articles, please try again later")}},[l]),a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"entry-col",children:[a.jsx(pa,{in:!v,timeout:200,nodeRef:L,classNames:"fade",children:a.jsx(Pp,{info:e,cardsRef:L,loading:v,getEntries:t,handleEntryClick:$,ref:M})}),a.jsx(Np,{info:e,refreshArticleList:re,markAllAsRead:n,ref:M})]}),a.jsx(pa,{in:r!=null,timeout:200,nodeRef:V,classNames:"fade",unmountOnExit:!0,children:a.jsx(Vh,{info:e,handleEntryClick:$,getEntries:t,isFilteredEntriesUpdated:xe,setIsFilteredEntriesUpdated:$e,ref:V})})]})},Fp=()=>{const e=async()=>{const t=await Zu();return we.put(`/v1/users/${t.data.id}/mark-all-as-read`)};return a.jsx(Pn,{info:{from:"all",id:""},getEntries:zu,markAllAsRead:e})},Dp=()=>{const{id:e}=_o(),t=Z(Oe),{orderBy:n,pageSize:r}=t,s=async(l=0,o=null)=>{const c={baseUrl:`/v1/categories/${e}/entries`,orderField:n,offset:l,limit:r,status:o},u=On(c);return we.get(u)},i=async()=>we.put(`/v1/categories/${e}/mark-all-as-read`);return a.jsx(Pn,{info:{from:"category",id:e},getEntries:s,markAllAsRead:i})},Lp=()=>{const e=dr();return a.jsx("div",{id:"error-page",style:{top:"30%",position:"relative"},children:a.jsx("div",{children:a.jsx(pu,{status:"404",subTitle:"Whoops, that page is gone. ",extra:[a.jsx(Te,{type:"primary",onClick:()=>e("/"),children:"Back to Home"},"back")]})})})},Vp=()=>{const{id:e}=_o(),t=Z(Oe),{orderBy:n,pageSize:r}=t,s=async(l=0,o=null)=>{const c={baseUrl:`/v1/feeds/${e}/entries`,orderField:n,offset:l,limit:r,status:o},u=On(c);return we.get(u)},i=async()=>we.put(`/v1/feeds/${e}/mark-all-as-read`);return a.jsx(Pn,{info:{from:"feed",id:e},getEntries:s,markAllAsRead:i})},Up=()=>a.jsx(Pn,{info:{from:"history",id:""},getEntries:Fo}),$p=e=>{var r;const t=e.getFieldsValue();let n=!0;for(const s of Object.keys(t))if(s!=="password"){const i=(r=t[s])==null?void 0:r.trim();e.setFieldValue(s,i),i||(n=!1)}else t[s]||(n=!1);return n},Nr=(e,t)=>{e.key==="Enter"&&t.submit()},Bp=()=>{const[e]=gu(),[t,n]=x.useState(!1),[r,s]=Ce(xi),[i,l]=x.useState("token"),o=dr();x.useEffect(()=>{Ei(r)&&o("/")},[r,o]);const c=async()=>{n(!0);try{(await bo({url:"/v1/me",method:"get",baseURL:e.getFieldsValue().server,headers:{"X-Auth-Token":e.getFieldsValue().token},auth:{username:e.getFieldsValue().username,password:e.getFieldsValue().password},timeout:5e3})).status===200&&(fe.success("Success"),s(e.getFieldsValue()),o("/"))}catch(d){console.error(d),fe.error(d.message)}n(!1)},u=async()=>{await c()};return a.jsx("div",{style:{backgroundColor:"var(--color-bg-1)",height:"100%"},children:a.jsx("div",{style:{backgroundColor:"var(--color-fill-1)",height:"100%"},children:a.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",overflowY:"auto"},children:[a.jsx(Eo,{style:{fontSize:48,color:"rgb(var(--primary-6))",marginTop:"20px"}}),a.jsx(Q.Title,{heading:3,children:"Connect to your server"}),a.jsxs(er,{style:{boxShadow:"0 4px 10px rgb(var(--color-bg-3))",padding:"20px",width:"380px",marginTop:"20px"},children:[a.jsxs(_e,{autoComplete:"off",form:e,layout:"vertical",onSubmit:async()=>{$p(e)?await u():fe.error("Please fill in all required fields")},children:[a.jsx(_e.Item,{field:"server",label:"Server address",rules:[{required:!0}],onKeyDown:d=>{Nr(d,e)},children:a.jsx(ut,{disabled:t,placeholder:"Please input server address",prefix:a.jsx(vu,{})})}),i==="token"&&a.jsx(_e.Item,{field:"token",label:"API Token",rules:[{required:!0}],onKeyDown:d=>{Nr(d,e)},children:a.jsx(ut,{disabled:t,placeholder:"Please input api token",prefix:a.jsx(ga,{})})}),i==="user"&&a.jsxs(a.Fragment,{children:[a.jsx(_e.Item,{field:"username",label:"Username",rules:[{required:!0}],onKeyDown:d=>{Nr(d,e)},children:a.jsx(ut,{disabled:t,prefix:a.jsx(yo,{}),placeholder:"Please input username"})}),a.jsx(_e.Item,{field:"password",label:"Password",rules:[{required:!0}],onKeyDown:d=>{Nr(d,e)},children:a.jsx(ut.Password,{disabled:t,prefix:a.jsx(ga,{}),placeholder:"Please input password"})})]})]}),a.jsx(Te,{loading:t,type:"primary",long:!0,onClick:u,style:{marginTop:"20px"},children:"Connect"}),a.jsx(ct,{orientation:"center",children:"Or connect with"}),a.jsx(Te,{type:"secondary",long:!0,onClick:()=>l(i==="token"?"user":"token"),style:{marginTop:"20px"},children:i==="token"?"Username and password":"API Token"})]}),a.jsxs("div",{style:{display:"flex",marginTop:"40px"},children:[a.jsx(Q.Text,{disabled:!0,children:"Need more information?"}),a.jsx(yu,{href:"https://miniflux.app/docs/api.html#authentication",style:{fontWeight:"500"},children:"Go to Miniflux official website"})]})]})})})},zp=({children:e})=>{const t=Z(xi);return Ei(t)?a.jsx(a.Fragment,{children:e}):a.jsx(jo,{to:"/login"})},Hp=()=>a.jsx(Pn,{info:{from:"starred",id:""},getEntries:No}),Wp=()=>{const e=async()=>{const t=await Fr(0,"unread"),n=t.data.entries.map(r=>r.id);if(t.data.total>n.length){const r=t.data.total-n.length,s=Math.ceil(r/100)*100,i=await Fr(n.length,"unread",s);n.push(...i.data.entries.map(l=>l.id))}return Si(n,"read")};return a.jsx(Pn,{info:{from:"today",id:""},getEntries:Fr,markAllAsRead:e})},qp=Rt("homePage"),Xp=[{path:"/all",element:a.jsx(Fp,{})},{path:"/today",element:a.jsx(Wp,{})},{path:"/starred",element:a.jsx(Hp,{})},{path:"/history",element:a.jsx(Up,{})},{path:"/category/:id",element:a.jsx(Dp,{})},{path:"/feed/:id",element:a.jsx(Vp,{})}],Ic=bu([{path:"/",element:a.jsx(zp,{children:a.jsx(lf,{})}),errorElement:a.jsx(Lp,{}),children:[...Xp,{index:!0,element:a.jsx(jo,{to:`/${qp}`,replace:!0})}]},{path:"/login",element:a.jsx(Bp,{})}]);xu.createRoot(document.getElementById("root")).render(a.jsx(wu,{locale:Eu,children:a.jsx(Su,{router:Ic})}))});export default Yp();
